var H4=Object.defineProperty;var G4=(t,e,n)=>e in t?H4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ca=(t,e,n)=>G4(t,typeof e!="symbol"?e+"":e,n);function Q4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function pm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pk={exports:{}},mm={},Ak={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=Symbol.for("react.element"),K4=Symbol.for("react.portal"),Y4=Symbol.for("react.fragment"),X4=Symbol.for("react.strict_mode"),J4=Symbol.for("react.profiler"),Z4=Symbol.for("react.provider"),e3=Symbol.for("react.context"),t3=Symbol.for("react.forward_ref"),n3=Symbol.for("react.suspense"),r3=Symbol.for("react.memo"),s3=Symbol.for("react.lazy"),MN=Symbol.iterator;function i3(t){return t===null||typeof t!="object"?null:(t=MN&&t[MN]||t["@@iterator"],typeof t=="function"?t:null)}var Rk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ok=Object.assign,Dk={};function Gl(t,e,n){this.props=t,this.context=e,this.refs=Dk,this.updater=n||Rk}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mk(){}Mk.prototype=Gl.prototype;function Rb(t,e,n){this.props=t,this.context=e,this.refs=Dk,this.updater=n||Rk}var Ob=Rb.prototype=new Mk;Ob.constructor=Rb;Ok(Ob,Gl.prototype);Ob.isPureReactComponent=!0;var LN=Array.isArray,Lk=Object.prototype.hasOwnProperty,Db={current:null},Fk={key:!0,ref:!0,__self:!0,__source:!0};function Uk(t,e,n){var r,s={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Lk.call(e,r)&&!Fk.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Id,type:t,key:o,ref:a,props:s,_owner:Db.current}}function o3(t,e){return{$$typeof:Id,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Id}function a3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var FN=/\/+/g;function Gg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a3(""+t.key):e.toString(36)}function ff(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Id:case K4:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Gg(a,0):r,LN(s)?(n="",t!=null&&(n=t.replace(FN,"$&/")+"/"),ff(s,e,n,"",function(u){return u})):s!=null&&(Mb(s)&&(s=o3(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(FN,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",LN(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+Gg(o,l);a+=ff(o,e,n,c,s)}else if(c=i3(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+Gg(o,l++),a+=ff(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xh(t,e,n){if(t==null)return t;var r=[],s=0;return ff(t,r,"","",function(o){return e.call(n,o,s++)}),r}function l3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},pf={transition:null},c3={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:pf,ReactCurrentOwner:Db};function $k(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:xh,forEach:function(t,e,n){xh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xh(t,function(){e++}),e},toArray:function(t){return xh(t,function(e){return e})||[]},only:function(t){if(!Mb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Gl;Ae.Fragment=Y4;Ae.Profiler=J4;Ae.PureComponent=Rb;Ae.StrictMode=X4;Ae.Suspense=n3;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c3;Ae.act=$k;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ok({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Db.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Lk.call(e,c)&&!Fk.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Id,type:t.type,key:s,ref:o,props:r,_owner:a}};Ae.createContext=function(t){return t={$$typeof:e3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Z4,_context:t},t.Consumer=t};Ae.createElement=Uk;Ae.createFactory=function(t){var e=Uk.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:t3,render:t}};Ae.isValidElement=Mb;Ae.lazy=function(t){return{$$typeof:s3,_payload:{_status:-1,_result:t},_init:l3}};Ae.memo=function(t,e){return{$$typeof:r3,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=pf.transition;pf.transition={};try{t()}finally{pf.transition=e}};Ae.unstable_act=$k;Ae.useCallback=function(t,e){return jn.current.useCallback(t,e)};Ae.useContext=function(t){return jn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return jn.current.useEffect(t,e)};Ae.useId=function(){return jn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return jn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return jn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return jn.current.useReducer(t,e,n)};Ae.useRef=function(t){return jn.current.useRef(t)};Ae.useState=function(t){return jn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return jn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return jn.current.useTransition()};Ae.version="18.3.1";Ak.exports=Ae;var m=Ak.exports;const be=pm(m),gm=Q4({__proto__:null,default:be},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3=m,d3=Symbol.for("react.element"),h3=Symbol.for("react.fragment"),f3=Object.prototype.hasOwnProperty,p3=u3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m3={key:!0,ref:!0,__self:!0,__source:!0};function Bk(t,e,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)f3.call(e,r)&&!m3.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:d3,type:t,key:o,ref:a,props:s,_owner:p3.current}}mm.Fragment=h3;mm.jsx=Bk;mm.jsxs=Bk;Pk.exports=mm;var i=Pk.exports,Nv={},zk={exports:{}},tr={},Vk={exports:{}},qk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,F){var W=D.length;D.push(F);e:for(;0<W;){var X=W-1>>>1,Z=D[X];if(0<s(Z,F))D[X]=F,D[W]=Z,W=X;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],W=D.pop();if(W!==F){D[0]=W;e:for(var X=0,Z=D.length,$=Z>>>1;X<$;){var K=2*(X+1)-1,V=D[K],H=K+1,U=D[H];if(0>s(V,W))H<Z&&0>s(U,V)?(D[X]=U,D[H]=W,X=H):(D[X]=V,D[K]=W,X=K);else if(H<Z&&0>s(U,W))D[X]=U,D[H]=W,X=H;else break e}}return F}function s(D,F){var W=D.sortIndex-F.sortIndex;return W!==0?W:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,p=3,g=!1,w=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=D)r(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function j(D){if(v=!1,b(D),!w)if(n(c)!==null)w=!0,z(I);else{var F=n(u);F!==null&&B(j,F.startTime-D)}}function I(D,F){w=!1,v&&(v=!1,_(x),x=-1),g=!0;var W=p;try{for(b(F),f=n(c);f!==null&&(!(f.expirationTime>F)||D&&!R());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var Z=X(f.expirationTime<=F);F=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(c)&&r(c),b(F)}else r(c);f=n(c)}if(f!==null)var $=!0;else{var K=n(u);K!==null&&B(j,K.startTime-F),$=!1}return $}finally{f=null,p=W,g=!1}}var O=!1,S=null,x=-1,E=5,k=-1;function R(){return!(t.unstable_now()-k<E)}function P(){if(S!==null){var D=t.unstable_now();k=D;var F=!0;try{F=S(!0,D)}finally{F?T():(O=!1,S=null)}}else O=!1}var T;if(typeof N=="function")T=function(){N(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=P,T=function(){q.postMessage(null)}}else T=function(){y(P,0)};function z(D){S=D,O||(O=!0,T())}function B(D,F){x=y(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,z(I))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var W=p;p=F;try{return D()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=p;p=D;try{return F()}finally{p=W}},t.unstable_scheduleCallback=function(D,F,W){var X=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,D={id:h++,callback:F,priorityLevel:D,startTime:W,expirationTime:Z,sortIndex:-1},W>X?(D.sortIndex=W,e(u,D),n(c)===null&&D===n(u)&&(v?(_(x),x=-1):v=!0,B(j,W-X))):(D.sortIndex=Z,e(c,D),w||g||(w=!0,z(I))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var F=p;return function(){var W=p;p=F;try{return D.apply(this,arguments)}finally{p=W}}}})(qk);Vk.exports=qk;var g3=Vk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3=m,er=g3;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wk=new Set,ku={};function ha(t,e){Sl(t,e),Sl(t+"Capture",e)}function Sl(t,e){for(ku[t]=e,t=0;t<e.length;t++)Wk.add(e[t])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sv=Object.prototype.hasOwnProperty,v3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UN={},$N={};function x3(t){return Sv.call($N,t)?!0:Sv.call(UN,t)?!1:v3.test(t)?$N[t]=!0:(UN[t]=!0,!1)}function b3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w3(t,e,n,r){if(e===null||typeof e>"u"||b3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lb=/[\-:]([a-z])/g;function Fb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lb,Fb);ln[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lb,Fb);ln[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lb,Fb);ln[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ub(t,e,n,r){var s=ln.hasOwnProperty(e)?ln[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w3(e,n,s,r)&&(n=null),r||s===null?x3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ui=y3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bh=Symbol.for("react.element"),za=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),$b=Symbol.for("react.strict_mode"),jv=Symbol.for("react.profiler"),Hk=Symbol.for("react.provider"),Gk=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),kv=Symbol.for("react.suspense_list"),zb=Symbol.for("react.memo"),_i=Symbol.for("react.lazy"),Qk=Symbol.for("react.offscreen"),BN=Symbol.iterator;function Sc(t){return t===null||typeof t!="object"?null:(t=BN&&t[BN]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,Qg;function Gc(t){if(Qg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qg=e&&e[1]||""}return`
`+Qg+t}var Kg=!1;function Yg(t,e){if(!t||Kg)return"";Kg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Kg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gc(t):""}function _3(t){switch(t.tag){case 5:return Gc(t.type);case 16:return Gc("Lazy");case 13:return Gc("Suspense");case 19:return Gc("SuspenseList");case 0:case 2:case 15:return t=Yg(t.type,!1),t;case 11:return t=Yg(t.type.render,!1),t;case 1:return t=Yg(t.type,!0),t;default:return""}}function Ev(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Va:return"Fragment";case za:return"Portal";case jv:return"Profiler";case $b:return"StrictMode";case Cv:return"Suspense";case kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gk:return(t.displayName||"Context")+".Consumer";case Hk:return(t._context.displayName||"Context")+".Provider";case Bb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zb:return e=t.displayName||null,e!==null?e:Ev(t.type)||"Memo";case _i:e=t._payload,t=t._init;try{return Ev(t(e))}catch{}}return null}function N3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ev(e);case 8:return e===$b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S3(t){var e=Kk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wh(t){t._valueTracker||(t._valueTracker=S3(t))}function Yk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tv(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xk(t,e){e=e.checked,e!=null&&Ub(t,"checked",e,!1)}function Iv(t,e){Xk(t,e);var n=Hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pv(t,e.type,Hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pv(t,e,n){(e!=="number"||Kf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qc=Array.isArray;function nl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Av(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Qc(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hi(n)}}function Jk(t,e){var n=Hi(e.value),r=Hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _h,eE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_h=_h||document.createElement("div"),_h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_h.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j3=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){j3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function tE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function nE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var C3=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ov(t,e){if(e){if(C3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Dv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mv=null;function Vb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lv=null,rl=null,sl=null;function HN(t){if(t=Rd(t)){if(typeof Lv!="function")throw Error(te(280));var e=t.stateNode;e&&(e=wm(e),Lv(t.stateNode,t.type,e))}}function rE(t){rl?sl?sl.push(t):sl=[t]:rl=t}function sE(){if(rl){var t=rl,e=sl;if(sl=rl=null,HN(t),e)for(t=0;t<e.length;t++)HN(e[t])}}function iE(t,e){return t(e)}function oE(){}var Xg=!1;function aE(t,e,n){if(Xg)return t(e,n);Xg=!0;try{return iE(t,e,n)}finally{Xg=!1,(rl!==null||sl!==null)&&(oE(),sE())}}function Tu(t,e){var n=t.stateNode;if(n===null)return null;var r=wm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Fv=!1;if(Ys)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){Fv=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{Fv=!1}function k3(t,e,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var iu=!1,Yf=null,Xf=!1,Uv=null,E3={onError:function(t){iu=!0,Yf=t}};function T3(t,e,n,r,s,o,a,l,c){iu=!1,Yf=null,k3.apply(E3,arguments)}function I3(t,e,n,r,s,o,a,l,c){if(T3.apply(this,arguments),iu){if(iu){var u=Yf;iu=!1,Yf=null}else throw Error(te(198));Xf||(Xf=!0,Uv=u)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GN(t){if(fa(t)!==t)throw Error(te(188))}function P3(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return GN(s),t;if(o===r)return GN(s),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function cE(t){return t=P3(t),t!==null?uE(t):null}function uE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uE(t);if(e!==null)return e;t=t.sibling}return null}var dE=er.unstable_scheduleCallback,QN=er.unstable_cancelCallback,A3=er.unstable_shouldYield,R3=er.unstable_requestPaint,At=er.unstable_now,O3=er.unstable_getCurrentPriorityLevel,qb=er.unstable_ImmediatePriority,hE=er.unstable_UserBlockingPriority,Jf=er.unstable_NormalPriority,D3=er.unstable_LowPriority,fE=er.unstable_IdlePriority,ym=null,fs=null;function M3(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(ym,t,void 0,(t.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:U3,L3=Math.log,F3=Math.LN2;function U3(t){return t>>>=0,t===0?32:31-(L3(t)/F3|0)|0}var Nh=64,Sh=4194304;function Kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Kc(l):(o&=a,o!==0&&(r=Kc(o)))}else a=n&~s,a!==0?r=Kc(a):o!==0&&(r=Kc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Br(e),s=1<<n,r|=t[n],e&=~s;return r}function $3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Br(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=$3(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function $v(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pE(){var t=Nh;return Nh<<=1,!(Nh&4194240)&&(Nh=64),t}function Jg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Br(e),t[e]=n}function z3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Br(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Wb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Br(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Xe=0;function mE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gE,Hb,yE,vE,xE,Bv=!1,jh=[],Oi=null,Di=null,Mi=null,Iu=new Map,Pu=new Map,Si=[],V3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KN(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(e.pointerId)}}function Cc(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Rd(e),e!==null&&Hb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function q3(t,e,n,r,s){switch(e){case"focusin":return Oi=Cc(Oi,t,e,n,r,s),!0;case"dragenter":return Di=Cc(Di,t,e,n,r,s),!0;case"mouseover":return Mi=Cc(Mi,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Iu.set(o,Cc(Iu.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Pu.set(o,Cc(Pu.get(o)||null,t,e,n,r,s)),!0}return!1}function bE(t){var e=To(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=lE(n),e!==null){t.blockedOn=e,xE(t.priority,function(){yE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mv=r,n.target.dispatchEvent(r),Mv=null}else return e=Rd(n),e!==null&&Hb(e),t.blockedOn=n,!1;e.shift()}return!0}function YN(t,e,n){mf(t)&&n.delete(e)}function W3(){Bv=!1,Oi!==null&&mf(Oi)&&(Oi=null),Di!==null&&mf(Di)&&(Di=null),Mi!==null&&mf(Mi)&&(Mi=null),Iu.forEach(YN),Pu.forEach(YN)}function kc(t,e){t.blockedOn===e&&(t.blockedOn=null,Bv||(Bv=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,W3)))}function Au(t){function e(s){return kc(s,t)}if(0<jh.length){kc(jh[0],t);for(var n=1;n<jh.length;n++){var r=jh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&kc(Oi,t),Di!==null&&kc(Di,t),Mi!==null&&kc(Mi,t),Iu.forEach(e),Pu.forEach(e),n=0;n<Si.length;n++)r=Si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)bE(n),n.blockedOn===null&&Si.shift()}var il=ui.ReactCurrentBatchConfig,ep=!0;function H3(t,e,n,r){var s=Xe,o=il.transition;il.transition=null;try{Xe=1,Gb(t,e,n,r)}finally{Xe=s,il.transition=o}}function G3(t,e,n,r){var s=Xe,o=il.transition;il.transition=null;try{Xe=4,Gb(t,e,n,r)}finally{Xe=s,il.transition=o}}function Gb(t,e,n,r){if(ep){var s=zv(t,e,n,r);if(s===null)ly(t,e,r,tp,n),KN(t,r);else if(q3(s,t,e,n,r))r.stopPropagation();else if(KN(t,r),e&4&&-1<V3.indexOf(t)){for(;s!==null;){var o=Rd(s);if(o!==null&&gE(o),o=zv(t,e,n,r),o===null&&ly(t,e,r,tp,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ly(t,e,r,null,n)}}var tp=null;function zv(t,e,n,r){if(tp=null,t=Vb(r),t=To(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tp=t,null}function wE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O3()){case qb:return 1;case hE:return 4;case Jf:case D3:return 16;case fE:return 536870912;default:return 16}default:return 16}}var Ii=null,Qb=null,gf=null;function _E(){if(gf)return gf;var t,e=Qb,n=e.length,r,s="value"in Ii?Ii.value:Ii.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[o-r];r++);return gf=s.slice(t,1<r?1-r:void 0)}function yf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ch(){return!0}function XN(){return!1}function nr(t){function e(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ch:XN,this.isPropagationStopped=XN,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),e}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kb=nr(Ql),Ad=bt({},Ql,{view:0,detail:0}),Q3=nr(Ad),Zg,ey,Ec,vm=bt({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ec&&(Ec&&t.type==="mousemove"?(Zg=t.screenX-Ec.screenX,ey=t.screenY-Ec.screenY):ey=Zg=0,Ec=t),Zg)},movementY:function(t){return"movementY"in t?t.movementY:ey}}),JN=nr(vm),K3=bt({},vm,{dataTransfer:0}),Y3=nr(K3),X3=bt({},Ad,{relatedTarget:0}),ty=nr(X3),J3=bt({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),Z3=nr(J3),eL=bt({},Ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tL=nr(eL),nL=bt({},Ql,{data:0}),ZN=nr(nL),rL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iL[t])?!!e[t]:!1}function Yb(){return oL}var aL=bt({},Ad,{key:function(t){if(t.key){var e=rL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yb,charCode:function(t){return t.type==="keypress"?yf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lL=nr(aL),cL=bt({},vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eS=nr(cL),uL=bt({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yb}),dL=nr(uL),hL=bt({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),fL=nr(hL),pL=bt({},vm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mL=nr(pL),gL=[9,13,27,32],Xb=Ys&&"CompositionEvent"in window,ou=null;Ys&&"documentMode"in document&&(ou=document.documentMode);var yL=Ys&&"TextEvent"in window&&!ou,NE=Ys&&(!Xb||ou&&8<ou&&11>=ou),tS=" ",nS=!1;function SE(t,e){switch(t){case"keyup":return gL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function vL(t,e){switch(t){case"compositionend":return jE(e);case"keypress":return e.which!==32?null:(nS=!0,tS);case"textInput":return t=e.data,t===tS&&nS?null:t;default:return null}}function xL(t,e){if(qa)return t==="compositionend"||!Xb&&SE(t,e)?(t=_E(),gf=Qb=Ii=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NE&&e.locale!=="ko"?null:e.data;default:return null}}var bL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bL[t.type]:e==="textarea"}function CE(t,e,n,r){rE(r),e=np(e,"onChange"),0<e.length&&(n=new Kb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var au=null,Ru=null;function wL(t){LE(t,0)}function xm(t){var e=Ga(t);if(Yk(e))return t}function _L(t,e){if(t==="change")return e}var kE=!1;if(Ys){var ny;if(Ys){var ry="oninput"in document;if(!ry){var sS=document.createElement("div");sS.setAttribute("oninput","return;"),ry=typeof sS.oninput=="function"}ny=ry}else ny=!1;kE=ny&&(!document.documentMode||9<document.documentMode)}function iS(){au&&(au.detachEvent("onpropertychange",EE),Ru=au=null)}function EE(t){if(t.propertyName==="value"&&xm(Ru)){var e=[];CE(e,Ru,t,Vb(t)),aE(wL,e)}}function NL(t,e,n){t==="focusin"?(iS(),au=e,Ru=n,au.attachEvent("onpropertychange",EE)):t==="focusout"&&iS()}function SL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xm(Ru)}function jL(t,e){if(t==="click")return xm(e)}function CL(t,e){if(t==="input"||t==="change")return xm(e)}function kL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:kL;function Ou(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sv.call(e,s)||!Gr(t[s],e[s]))return!1}return!0}function oS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aS(t,e){var n=oS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oS(n)}}function TE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IE(){for(var t=window,e=Kf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kf(t.document)}return e}function Jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EL(t){var e=IE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TE(n.ownerDocument.documentElement,n)){if(r!==null&&Jb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=aS(n,o);var a=aS(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TL=Ys&&"documentMode"in document&&11>=document.documentMode,Wa=null,Vv=null,lu=null,qv=!1;function lS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qv||Wa==null||Wa!==Kf(r)||(r=Wa,"selectionStart"in r&&Jb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Ou(lu,r)||(lu=r,r=np(Vv,"onSelect"),0<r.length&&(e=new Kb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wa)))}function kh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ha={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},sy={},PE={};Ys&&(PE=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function bm(t){if(sy[t])return sy[t];if(!Ha[t])return t;var e=Ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PE)return sy[t]=e[n];return t}var AE=bm("animationend"),RE=bm("animationiteration"),OE=bm("animationstart"),DE=bm("transitionend"),ME=new Map,cS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(t,e){ME.set(t,e),ha(e,[t])}for(var iy=0;iy<cS.length;iy++){var oy=cS[iy],IL=oy.toLowerCase(),PL=oy[0].toUpperCase()+oy.slice(1);so(IL,"on"+PL)}so(AE,"onAnimationEnd");so(RE,"onAnimationIteration");so(OE,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(DE,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yc));function uS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I3(r,e,void 0,t),t.currentTarget=null}function LE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;uS(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;uS(s,l,u),o=c}}}if(Xf)throw t=Uv,Xf=!1,Uv=null,t}function ut(t,e){var n=e[Kv];n===void 0&&(n=e[Kv]=new Set);var r=t+"__bubble";n.has(r)||(FE(e,t,2,!1),n.add(r))}function ay(t,e,n){var r=0;e&&(r|=4),FE(n,t,r,e)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[Eh]){t[Eh]=!0,Wk.forEach(function(n){n!=="selectionchange"&&(AL.has(n)||ay(n,!1,t),ay(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eh]||(e[Eh]=!0,ay("selectionchange",!1,e))}}function FE(t,e,n,r){switch(wE(e)){case 1:var s=H3;break;case 4:s=G3;break;default:s=Gb}n=s.bind(null,e,n,t),s=void 0,!Fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ly(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=To(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}aE(function(){var u=o,h=Vb(n),f=[];e:{var p=ME.get(t);if(p!==void 0){var g=Kb,w=t;switch(t){case"keypress":if(yf(n)===0)break e;case"keydown":case"keyup":g=lL;break;case"focusin":w="focus",g=ty;break;case"focusout":w="blur",g=ty;break;case"beforeblur":case"afterblur":g=ty;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=JN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Y3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dL;break;case AE:case RE:case OE:g=Z3;break;case DE:g=fL;break;case"scroll":g=Q3;break;case"wheel":g=mL;break;case"copy":case"cut":case"paste":g=tL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=eS}var v=(e&4)!==0,y=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var N=u,b;N!==null;){b=N;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,_!==null&&(j=Tu(N,_),j!=null&&v.push(Mu(N,j,b)))),y)break;N=N.return}0<v.length&&(p=new g(p,w,null,n,h),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Mv&&(w=n.relatedTarget||n.fromElement)&&(To(w)||w[Xs]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?To(w):null,w!==null&&(y=fa(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(v=JN,j="onMouseLeave",_="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(v=eS,j="onPointerLeave",_="onPointerEnter",N="pointer"),y=g==null?p:Ga(g),b=w==null?p:Ga(w),p=new v(j,N+"leave",g,n,h),p.target=y,p.relatedTarget=b,j=null,To(h)===u&&(v=new v(_,N+"enter",w,n,h),v.target=b,v.relatedTarget=y,j=v),y=j,g&&w)t:{for(v=g,_=w,N=0,b=v;b;b=ka(b))N++;for(b=0,j=_;j;j=ka(j))b++;for(;0<N-b;)v=ka(v),N--;for(;0<b-N;)_=ka(_),b--;for(;N--;){if(v===_||_!==null&&v===_.alternate)break t;v=ka(v),_=ka(_)}v=null}else v=null;g!==null&&dS(f,p,g,v,!1),w!==null&&y!==null&&dS(f,y,w,v,!0)}}e:{if(p=u?Ga(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var I=_L;else if(rS(p))if(kE)I=CL;else{I=SL;var O=NL}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=jL);if(I&&(I=I(t,u))){CE(f,I,n,h);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Pv(p,"number",p.value)}switch(O=u?Ga(u):window,t){case"focusin":(rS(O)||O.contentEditable==="true")&&(Wa=O,Vv=u,lu=null);break;case"focusout":lu=Vv=Wa=null;break;case"mousedown":qv=!0;break;case"contextmenu":case"mouseup":case"dragend":qv=!1,lS(f,n,h);break;case"selectionchange":if(TL)break;case"keydown":case"keyup":lS(f,n,h)}var S;if(Xb)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else qa?SE(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(NE&&n.locale!=="ko"&&(qa||x!=="onCompositionStart"?x==="onCompositionEnd"&&qa&&(S=_E()):(Ii=h,Qb="value"in Ii?Ii.value:Ii.textContent,qa=!0)),O=np(u,x),0<O.length&&(x=new ZN(x,t,null,n,h),f.push({event:x,listeners:O}),S?x.data=S:(S=jE(n),S!==null&&(x.data=S)))),(S=yL?vL(t,n):xL(t,n))&&(u=np(u,"onBeforeInput"),0<u.length&&(h=new ZN("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}LE(f,e)})}function Mu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function np(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Tu(t,n),o!=null&&r.unshift(Mu(t,o,s)),o=Tu(t,e),o!=null&&r.push(Mu(t,o,s))),t=t.return}return r}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dS(t,e,n,r,s){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Tu(n,o),c!=null&&a.unshift(Mu(n,c,l))):s||(c=Tu(n,o),c!=null&&a.push(Mu(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var RL=/\r\n?/g,OL=/\u0000|\uFFFD/g;function hS(t){return(typeof t=="string"?t:""+t).replace(RL,`
`).replace(OL,"")}function Th(t,e,n){if(e=hS(e),hS(t)!==e&&n)throw Error(te(425))}function rp(){}var Wv=null,Hv=null;function Gv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qv=typeof setTimeout=="function"?setTimeout:void 0,DL=typeof clearTimeout=="function"?clearTimeout:void 0,fS=typeof Promise=="function"?Promise:void 0,ML=typeof queueMicrotask=="function"?queueMicrotask:typeof fS<"u"?function(t){return fS.resolve(null).then(t).catch(LL)}:Qv;function LL(t){setTimeout(function(){throw t})}function cy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Au(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),ls="__reactFiber$"+Kl,Lu="__reactProps$"+Kl,Xs="__reactContainer$"+Kl,Kv="__reactEvents$"+Kl,FL="__reactListeners$"+Kl,UL="__reactHandles$"+Kl;function To(t){var e=t[ls];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xs]||n[ls]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pS(t);t!==null;){if(n=t[ls])return n;t=pS(t)}return e}t=n,n=t.parentNode}return null}function Rd(t){return t=t[ls]||t[Xs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function wm(t){return t[Lu]||null}var Yv=[],Qa=-1;function io(t){return{current:t}}function pt(t){0>Qa||(t.current=Yv[Qa],Yv[Qa]=null,Qa--)}function at(t,e){Qa++,Yv[Qa]=t.current,t.current=e}var Gi={},gn=io(Gi),Mn=io(!1),Wo=Gi;function jl(t,e){var n=t.type.contextTypes;if(!n)return Gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ln(t){return t=t.childContextTypes,t!=null}function sp(){pt(Mn),pt(gn)}function mS(t,e,n){if(gn.current!==Gi)throw Error(te(168));at(gn,e),at(Mn,n)}function UE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(te(108,N3(t)||"Unknown",s));return bt({},n,r)}function ip(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gi,Wo=gn.current,at(gn,t),at(Mn,Mn.current),!0}function gS(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=UE(t,e,Wo),r.__reactInternalMemoizedMergedChildContext=t,pt(Mn),pt(gn),at(gn,t)):pt(Mn),at(Mn,n)}var Ds=null,_m=!1,uy=!1;function $E(t){Ds===null?Ds=[t]:Ds.push(t)}function $L(t){_m=!0,$E(t)}function oo(){if(!uy&&Ds!==null){uy=!0;var t=0,e=Xe;try{var n=Ds;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ds=null,_m=!1}catch(s){throw Ds!==null&&(Ds=Ds.slice(t+1)),dE(qb,oo),s}finally{Xe=e,uy=!1}}return null}var Ka=[],Ya=0,op=null,ap=0,dr=[],hr=0,Ho=null,$s=1,Bs="";function wo(t,e){Ka[Ya++]=ap,Ka[Ya++]=op,op=t,ap=e}function BE(t,e,n){dr[hr++]=$s,dr[hr++]=Bs,dr[hr++]=Ho,Ho=t;var r=$s;t=Bs;var s=32-Br(r)-1;r&=~(1<<s),n+=1;var o=32-Br(e)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,$s=1<<32-Br(e)+s|n<<s|r,Bs=o+t}else $s=1<<o|n<<s|r,Bs=t}function Zb(t){t.return!==null&&(wo(t,1),BE(t,1,0))}function e0(t){for(;t===op;)op=Ka[--Ya],Ka[Ya]=null,ap=Ka[--Ya],Ka[Ya]=null;for(;t===Ho;)Ho=dr[--hr],dr[hr]=null,Bs=dr[--hr],dr[hr]=null,$s=dr[--hr],dr[hr]=null}var Yn=null,Kn=null,gt=!1,Rr=null;function zE(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yn=t,Kn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:$s,overflow:Bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yn=t,Kn=null,!0):!1;default:return!1}}function Xv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jv(t){if(gt){var e=Kn;if(e){var n=e;if(!yS(t,e)){if(Xv(t))throw Error(te(418));e=Li(n.nextSibling);var r=Yn;e&&yS(t,e)?zE(r,n):(t.flags=t.flags&-4097|2,gt=!1,Yn=t)}}else{if(Xv(t))throw Error(te(418));t.flags=t.flags&-4097|2,gt=!1,Yn=t}}}function vS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yn=t}function Ih(t){if(t!==Yn)return!1;if(!gt)return vS(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gv(t.type,t.memoizedProps)),e&&(e=Kn)){if(Xv(t))throw VE(),Error(te(418));for(;e;)zE(t,e),e=Li(e.nextSibling)}if(vS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Yn?Li(t.stateNode.nextSibling):null;return!0}function VE(){for(var t=Kn;t;)t=Li(t.nextSibling)}function Cl(){Kn=Yn=null,gt=!1}function t0(t){Rr===null?Rr=[t]:Rr.push(t)}var BL=ui.ReactCurrentBatchConfig;function Tc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Ph(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xS(t){var e=t._init;return e(t._payload)}function qE(t){function e(_,N){if(t){var b=_.deletions;b===null?(_.deletions=[N],_.flags|=16):b.push(N)}}function n(_,N){if(!t)return null;for(;N!==null;)e(_,N),N=N.sibling;return null}function r(_,N){for(_=new Map;N!==null;)N.key!==null?_.set(N.key,N):_.set(N.index,N),N=N.sibling;return _}function s(_,N){return _=Bi(_,N),_.index=0,_.sibling=null,_}function o(_,N,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<N?(_.flags|=2,N):b):(_.flags|=2,N)):(_.flags|=1048576,N)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,N,b,j){return N===null||N.tag!==6?(N=yy(b,_.mode,j),N.return=_,N):(N=s(N,b),N.return=_,N)}function c(_,N,b,j){var I=b.type;return I===Va?h(_,N,b.props.children,j,b.key):N!==null&&(N.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_i&&xS(I)===N.type)?(j=s(N,b.props),j.ref=Tc(_,N,b),j.return=_,j):(j=Sf(b.type,b.key,b.props,null,_.mode,j),j.ref=Tc(_,N,b),j.return=_,j)}function u(_,N,b,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=vy(b,_.mode,j),N.return=_,N):(N=s(N,b.children||[]),N.return=_,N)}function h(_,N,b,j,I){return N===null||N.tag!==7?(N=Uo(b,_.mode,j,I),N.return=_,N):(N=s(N,b),N.return=_,N)}function f(_,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return N=yy(""+N,_.mode,b),N.return=_,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bh:return b=Sf(N.type,N.key,N.props,null,_.mode,b),b.ref=Tc(_,null,N),b.return=_,b;case za:return N=vy(N,_.mode,b),N.return=_,N;case _i:var j=N._init;return f(_,j(N._payload),b)}if(Qc(N)||Sc(N))return N=Uo(N,_.mode,b,null),N.return=_,N;Ph(_,N)}return null}function p(_,N,b,j){var I=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return I!==null?null:l(_,N,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bh:return b.key===I?c(_,N,b,j):null;case za:return b.key===I?u(_,N,b,j):null;case _i:return I=b._init,p(_,N,I(b._payload),j)}if(Qc(b)||Sc(b))return I!==null?null:h(_,N,b,j,null);Ph(_,b)}return null}function g(_,N,b,j,I){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(b)||null,l(N,_,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bh:return _=_.get(j.key===null?b:j.key)||null,c(N,_,j,I);case za:return _=_.get(j.key===null?b:j.key)||null,u(N,_,j,I);case _i:var O=j._init;return g(_,N,b,O(j._payload),I)}if(Qc(j)||Sc(j))return _=_.get(b)||null,h(N,_,j,I,null);Ph(N,j)}return null}function w(_,N,b,j){for(var I=null,O=null,S=N,x=N=0,E=null;S!==null&&x<b.length;x++){S.index>x?(E=S,S=null):E=S.sibling;var k=p(_,S,b[x],j);if(k===null){S===null&&(S=E);break}t&&S&&k.alternate===null&&e(_,S),N=o(k,N,x),O===null?I=k:O.sibling=k,O=k,S=E}if(x===b.length)return n(_,S),gt&&wo(_,x),I;if(S===null){for(;x<b.length;x++)S=f(_,b[x],j),S!==null&&(N=o(S,N,x),O===null?I=S:O.sibling=S,O=S);return gt&&wo(_,x),I}for(S=r(_,S);x<b.length;x++)E=g(S,_,x,b[x],j),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?x:E.key),N=o(E,N,x),O===null?I=E:O.sibling=E,O=E);return t&&S.forEach(function(R){return e(_,R)}),gt&&wo(_,x),I}function v(_,N,b,j){var I=Sc(b);if(typeof I!="function")throw Error(te(150));if(b=I.call(b),b==null)throw Error(te(151));for(var O=I=null,S=N,x=N=0,E=null,k=b.next();S!==null&&!k.done;x++,k=b.next()){S.index>x?(E=S,S=null):E=S.sibling;var R=p(_,S,k.value,j);if(R===null){S===null&&(S=E);break}t&&S&&R.alternate===null&&e(_,S),N=o(R,N,x),O===null?I=R:O.sibling=R,O=R,S=E}if(k.done)return n(_,S),gt&&wo(_,x),I;if(S===null){for(;!k.done;x++,k=b.next())k=f(_,k.value,j),k!==null&&(N=o(k,N,x),O===null?I=k:O.sibling=k,O=k);return gt&&wo(_,x),I}for(S=r(_,S);!k.done;x++,k=b.next())k=g(S,_,x,k.value,j),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?x:k.key),N=o(k,N,x),O===null?I=k:O.sibling=k,O=k);return t&&S.forEach(function(P){return e(_,P)}),gt&&wo(_,x),I}function y(_,N,b,j){if(typeof b=="object"&&b!==null&&b.type===Va&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bh:e:{for(var I=b.key,O=N;O!==null;){if(O.key===I){if(I=b.type,I===Va){if(O.tag===7){n(_,O.sibling),N=s(O,b.props.children),N.return=_,_=N;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_i&&xS(I)===O.type){n(_,O.sibling),N=s(O,b.props),N.ref=Tc(_,O,b),N.return=_,_=N;break e}n(_,O);break}else e(_,O);O=O.sibling}b.type===Va?(N=Uo(b.props.children,_.mode,j,b.key),N.return=_,_=N):(j=Sf(b.type,b.key,b.props,null,_.mode,j),j.ref=Tc(_,N,b),j.return=_,_=j)}return a(_);case za:e:{for(O=b.key;N!==null;){if(N.key===O)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){n(_,N.sibling),N=s(N,b.children||[]),N.return=_,_=N;break e}else{n(_,N);break}else e(_,N);N=N.sibling}N=vy(b,_.mode,j),N.return=_,_=N}return a(_);case _i:return O=b._init,y(_,N,O(b._payload),j)}if(Qc(b))return w(_,N,b,j);if(Sc(b))return v(_,N,b,j);Ph(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,N!==null&&N.tag===6?(n(_,N.sibling),N=s(N,b),N.return=_,_=N):(n(_,N),N=yy(b,_.mode,j),N.return=_,_=N),a(_)):n(_,N)}return y}var kl=qE(!0),WE=qE(!1),lp=io(null),cp=null,Xa=null,n0=null;function r0(){n0=Xa=cp=null}function s0(t){var e=lp.current;pt(lp),t._currentValue=e}function Zv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ol(t,e){cp=t,n0=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(n0!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(cp===null)throw Error(te(308));Xa=t,cp.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var Io=null;function i0(t){Io===null?Io=[t]:Io.push(t)}function HE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,i0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Js(t,r)}function Js(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function o0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Js(t,n)}return s=r.interleaved,s===null?(e.next=e,i0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Js(t,n)}function vf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wb(t,n)}}function bS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function up(t,e,n,r){var s=t.updateQueue;Ni=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,h=u=c=null,l=o;do{var p=l.lane,g=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,v=l;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=bt({},f,p);break e;case 2:Ni=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Qo|=a,t.lanes=a,t.memoizedState=f}}function wS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var Od={},ps=io(Od),Fu=io(Od),Uu=io(Od);function Po(t){if(t===Od)throw Error(te(174));return t}function a0(t,e){switch(at(Uu,e),at(Fu,t),at(ps,Od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rv(e,t)}pt(ps),at(ps,e)}function El(){pt(ps),pt(Fu),pt(Uu)}function QE(t){Po(Uu.current);var e=Po(ps.current),n=Rv(e,t.type);e!==n&&(at(Fu,t),at(ps,n))}function l0(t){Fu.current===t&&(pt(ps),pt(Fu))}var vt=io(0);function dp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dy=[];function c0(){for(var t=0;t<dy.length;t++)dy[t]._workInProgressVersionPrimary=null;dy.length=0}var xf=ui.ReactCurrentDispatcher,hy=ui.ReactCurrentBatchConfig,Go=0,xt=null,Wt=null,Xt=null,hp=!1,cu=!1,$u=0,zL=0;function hn(){throw Error(te(321))}function u0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function d0(t,e,n,r,s,o){if(Go=o,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xf.current=t===null||t.memoizedState===null?HL:GL,t=n(r,s),cu){o=0;do{if(cu=!1,$u=0,25<=o)throw Error(te(301));o+=1,Xt=Wt=null,e.updateQueue=null,xf.current=QL,t=n(r,s)}while(cu)}if(xf.current=fp,e=Wt!==null&&Wt.next!==null,Go=0,Xt=Wt=xt=null,hp=!1,e)throw Error(te(300));return t}function h0(){var t=$u!==0;return $u=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?xt.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function yr(){if(Wt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=Xt===null?xt.memoizedState:Xt.next;if(e!==null)Xt=e,Wt=t;else{if(t===null)throw Error(te(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Xt===null?xt.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Bu(t,e){return typeof e=="function"?e(t):e}function fy(t){var e=yr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Wt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((Go&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,xt.lanes|=h,Qo|=h}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,Gr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,xt.lanes|=o,Qo|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function py(t){var e=yr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);Gr(o,e.memoizedState)||(An=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function KE(){}function YE(t,e){var n=xt,r=yr(),s=e(),o=!Gr(r.memoizedState,s);if(o&&(r.memoizedState=s,An=!0),r=r.queue,f0(ZE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,zu(9,JE.bind(null,n,r,s,e),void 0,null),en===null)throw Error(te(349));Go&30||XE(n,e,s)}return s}function XE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JE(t,e,n,r){e.value=n,e.getSnapshot=r,e2(e)&&t2(t)}function ZE(t,e,n){return n(function(){e2(e)&&t2(t)})}function e2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function t2(t){var e=Js(t,1);e!==null&&zr(e,t,1,-1)}function _S(t){var e=ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:t},e.queue=t,t=t.dispatch=WL.bind(null,xt,t),[e.memoizedState,t]}function zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function n2(){return yr().memoizedState}function bf(t,e,n,r){var s=ss();xt.flags|=t,s.memoizedState=zu(1|e,n,void 0,r===void 0?null:r)}function Nm(t,e,n,r){var s=yr();r=r===void 0?null:r;var o=void 0;if(Wt!==null){var a=Wt.memoizedState;if(o=a.destroy,r!==null&&u0(r,a.deps)){s.memoizedState=zu(e,n,o,r);return}}xt.flags|=t,s.memoizedState=zu(1|e,n,o,r)}function NS(t,e){return bf(8390656,8,t,e)}function f0(t,e){return Nm(2048,8,t,e)}function r2(t,e){return Nm(4,2,t,e)}function s2(t,e){return Nm(4,4,t,e)}function i2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o2(t,e,n){return n=n!=null?n.concat([t]):null,Nm(4,4,i2.bind(null,e,t),n)}function p0(){}function a2(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function l2(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function c2(t,e,n){return Go&21?(Gr(n,e)||(n=pE(),xt.lanes|=n,Qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function VL(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=hy.transition;hy.transition={};try{t(!1),e()}finally{Xe=n,hy.transition=r}}function u2(){return yr().memoizedState}function qL(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},d2(t))h2(e,n);else if(n=HE(t,e,n,r),n!==null){var s=_n();zr(n,t,r,s),f2(n,e,r)}}function WL(t,e,n){var r=$i(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(d2(t))h2(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,Gr(l,a)){var c=e.interleaved;c===null?(s.next=s,i0(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=HE(t,e,s,r),n!==null&&(s=_n(),zr(n,t,r,s),f2(n,e,r))}}function d2(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function h2(t,e){cu=hp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function f2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wb(t,n)}}var fp={readContext:gr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},HL={readContext:gr,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:NS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bf(4194308,4,i2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bf(4194308,4,t,e)},useInsertionEffect:function(t,e){return bf(4,2,t,e)},useMemo:function(t,e){var n=ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qL.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:_S,useDebugValue:p0,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=_S(!1),e=t[0];return t=VL.bind(null,t[1]),ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xt,s=ss();if(gt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),en===null)throw Error(te(349));Go&30||XE(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,NS(ZE.bind(null,r,o,t),[t]),r.flags|=2048,zu(9,JE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ss(),e=en.identifierPrefix;if(gt){var n=Bs,r=$s;n=(r&~(1<<32-Br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GL={readContext:gr,useCallback:a2,useContext:gr,useEffect:f0,useImperativeHandle:o2,useInsertionEffect:r2,useLayoutEffect:s2,useMemo:l2,useReducer:fy,useRef:n2,useState:function(){return fy(Bu)},useDebugValue:p0,useDeferredValue:function(t){var e=yr();return c2(e,Wt.memoizedState,t)},useTransition:function(){var t=fy(Bu)[0],e=yr().memoizedState;return[t,e]},useMutableSource:KE,useSyncExternalStore:YE,useId:u2,unstable_isNewReconciler:!1},QL={readContext:gr,useCallback:a2,useContext:gr,useEffect:f0,useImperativeHandle:o2,useInsertionEffect:r2,useLayoutEffect:s2,useMemo:l2,useReducer:py,useRef:n2,useState:function(){return py(Bu)},useDebugValue:p0,useDeferredValue:function(t){var e=yr();return Wt===null?e.memoizedState=t:c2(e,Wt.memoizedState,t)},useTransition:function(){var t=py(Bu)[0],e=yr().memoizedState;return[t,e]},useMutableSource:KE,useSyncExternalStore:YE,useId:u2,unstable_isNewReconciler:!1};function Ir(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ex(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sm={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),s=$i(t),o=Ws(r,s);o.payload=e,n!=null&&(o.callback=n),e=Fi(t,o,s),e!==null&&(zr(e,t,s,r),vf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),s=$i(t),o=Ws(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Fi(t,o,s),e!==null&&(zr(e,t,s,r),vf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=$i(t),s=Ws(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fi(t,s,r),e!==null&&(zr(e,t,r,n),vf(e,t,r))}};function SS(t,e,n,r,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ou(n,r)||!Ou(s,o):!0}function p2(t,e,n){var r=!1,s=Gi,o=e.contextType;return typeof o=="object"&&o!==null?o=gr(o):(s=Ln(e)?Wo:gn.current,r=e.contextTypes,o=(r=r!=null)?jl(t,s):Gi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function jS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sm.enqueueReplaceState(e,e.state,null)}function tx(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},o0(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=gr(o):(o=Ln(e)?Wo:gn.current,s.context=jl(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ex(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sm.enqueueReplaceState(s,s.state,null),up(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e){try{var n="",r=e;do n+=_3(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function my(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KL=typeof WeakMap=="function"?WeakMap:Map;function m2(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mp||(mp=!0,hx=r),nx(t,e)},n}function g2(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){nx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){nx(t,e),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function CS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=c5.bind(null,t,e,n),e.then(t,t))}function kS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ES(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var YL=ui.ReactCurrentOwner,An=!1;function xn(t,e,n,r){e.child=t===null?WE(e,null,n,r):kl(e,t.child,n,r)}function TS(t,e,n,r,s){n=n.render;var o=e.ref;return ol(e,s),r=d0(t,e,n,r,o,s),n=h0(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zs(t,e,s)):(gt&&n&&Zb(e),e.flags|=1,xn(t,e,r,s),e.child)}function IS(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!_0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,y2(t,e,o,r,s)):(t=Sf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ou,n(a,r)&&t.ref===e.ref)return Zs(t,e,s)}return e.flags|=1,t=Bi(o,r),t.ref=e.ref,t.return=e,e.child=t}function y2(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Ou(o,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,Zs(t,e,s)}return rx(t,e,n,r,s)}function v2(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Za,Hn),Hn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Za,Hn),Hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,at(Za,Hn),Hn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,at(Za,Hn),Hn|=r;return xn(t,e,s,n),e.child}function x2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rx(t,e,n,r,s){var o=Ln(n)?Wo:gn.current;return o=jl(e,o),ol(e,s),n=d0(t,e,n,r,o,s),r=h0(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zs(t,e,s)):(gt&&r&&Zb(e),e.flags|=1,xn(t,e,n,s),e.child)}function PS(t,e,n,r,s){if(Ln(n)){var o=!0;ip(e)}else o=!1;if(ol(e,s),e.stateNode===null)wf(t,e),p2(e,n,r),tx(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Ln(n)?Wo:gn.current,u=jl(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&jS(e,a,r,u),Ni=!1;var p=e.memoizedState;a.state=p,up(e,r,a,s),c=e.memoizedState,l!==r||p!==c||Mn.current||Ni?(typeof h=="function"&&(ex(e,n,h,r),c=e.memoizedState),(l=Ni||SS(e,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,GE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ir(e.type,l),a.props=u,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=gr(c):(c=Ln(n)?Wo:gn.current,c=jl(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&jS(e,a,r,c),Ni=!1,p=e.memoizedState,a.state=p,up(e,r,a,s);var w=e.memoizedState;l!==f||p!==w||Mn.current||Ni?(typeof g=="function"&&(ex(e,n,g,r),w=e.memoizedState),(u=Ni||SS(e,n,u,r,p,w,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return sx(t,e,n,r,o,s)}function sx(t,e,n,r,s,o){x2(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&gS(e,n,!1),Zs(t,e,o);r=e.stateNode,YL.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=kl(e,t.child,null,o),e.child=kl(e,null,l,o)):xn(t,e,l,o),e.memoizedState=r.state,s&&gS(e,n,!0),e.child}function b2(t){var e=t.stateNode;e.pendingContext?mS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mS(t,e.context,!1),a0(t,e.containerInfo)}function AS(t,e,n,r,s){return Cl(),t0(s),e.flags|=256,xn(t,e,n,r),e.child}var ix={dehydrated:null,treeContext:null,retryLane:0};function ox(t){return{baseLanes:t,cachePool:null,transitions:null}}function w2(t,e,n){var r=e.pendingProps,s=vt.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(vt,s&1),t===null)return Jv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=km(a,r,0,null),t=Uo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ox(n),e.memoizedState=ix,t):m0(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return XL(t,e,a,r,l,s,n);if(o){o=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Bi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Bi(l,o):(o=Uo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?ox(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=ix,r}return o=t.child,t=o.sibling,r=Bi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function m0(t,e){return e=km({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,n,r){return r!==null&&t0(r),kl(e,t.child,null,n),t=m0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XL(t,e,n,r,s,o,a){if(n)return e.flags&256?(e.flags&=-257,r=my(Error(te(422))),Ah(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=km({mode:"visible",children:r.children},s,0,null),o=Uo(o,s,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&kl(e,t.child,null,a),e.child.memoizedState=ox(a),e.memoizedState=ix,o);if(!(e.mode&1))return Ah(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(te(419)),r=my(o,r,void 0),Ah(t,e,a,r)}if(l=(a&t.childLanes)!==0,An||l){if(r=en,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Js(t,s),zr(r,t,s,-1))}return w0(),r=my(Error(te(421))),Ah(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=u5.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Kn=Li(s.nextSibling),Yn=e,gt=!0,Rr=null,t!==null&&(dr[hr++]=$s,dr[hr++]=Bs,dr[hr++]=Ho,$s=t.id,Bs=t.overflow,Ho=e),e=m0(e,r.children),e.flags|=4096,e)}function RS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zv(t.return,e,n)}function gy(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function _2(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(xn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RS(t,n,e);else if(t.tag===19)RS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(vt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&dp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gy(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&dp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gy(e,!0,n,null,o);break;case"together":gy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JL(t,e,n){switch(e.tag){case 3:b2(e),Cl();break;case 5:QE(e);break;case 1:Ln(e.type)&&ip(e);break;case 4:a0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;at(lp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?w2(t,e,n):(at(vt,vt.current&1),t=Zs(t,e,n),t!==null?t.sibling:null);at(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,v2(t,e,n)}return Zs(t,e,n)}var N2,ax,S2,j2;N2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ax=function(){};S2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Po(ps.current);var o=null;switch(n){case"input":s=Tv(t,s),r=Tv(t,r),o=[];break;case"select":s=bt({},s,{value:void 0}),r=bt({},r,{value:void 0}),o=[];break;case"textarea":s=Av(t,s),r=Av(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rp)}Ov(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ku.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ku.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ut("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};j2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ic(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZL(t,e,n){var r=e.pendingProps;switch(e0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return Ln(e.type)&&sp(),fn(e),null;case 3:return r=e.stateNode,El(),pt(Mn),pt(gn),c0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(mx(Rr),Rr=null))),ax(t,e),fn(e),null;case 5:l0(e);var s=Po(Uu.current);if(n=e.type,t!==null&&e.stateNode!=null)S2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return fn(e),null}if(t=Po(ps.current),Ih(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ls]=e,r[Lu]=o,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(s=0;s<Yc.length;s++)ut(Yc[s],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":zN(r,o),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ut("invalid",r);break;case"textarea":qN(r,o),ut("invalid",r)}Ov(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Th(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Th(r.textContent,l,t),s=["children",""+l]):ku.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ut("scroll",r)}switch(n){case"input":wh(r),VN(r,o,!0);break;case"textarea":wh(r),WN(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=rp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ls]=e,t[Lu]=r,N2(t,e,!1,!1),e.stateNode=t;e:{switch(a=Dv(n,r),n){case"dialog":ut("cancel",t),ut("close",t),s=r;break;case"iframe":case"object":case"embed":ut("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yc.length;s++)ut(Yc[s],t);s=r;break;case"source":ut("error",t),s=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),s=r;break;case"details":ut("toggle",t),s=r;break;case"input":zN(t,r),s=Tv(t,r),ut("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=bt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":qN(t,r),s=Av(t,r),ut("invalid",t);break;default:s=r}Ov(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?nE(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&eE(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Eu(t,c):typeof c=="number"&&Eu(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ku.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ut("scroll",t):c!=null&&Ub(t,o,c,a))}switch(n){case"input":wh(t),VN(t,r,!1);break;case"textarea":wh(t),WN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?nl(t,!!r.multiple,o,!1):r.defaultValue!=null&&nl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=rp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)j2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Po(Uu.current),Po(ps.current),Ih(e)){if(r=e.stateNode,n=e.memoizedProps,r[ls]=e,(o=r.nodeValue!==n)&&(t=Yn,t!==null))switch(t.tag){case 3:Th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Th(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ls]=e,e.stateNode=r}return fn(e),null;case 13:if(pt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&Kn!==null&&e.mode&1&&!(e.flags&128))VE(),Cl(),e.flags|=98560,o=!1;else if(o=Ih(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[ls]=e}else Cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),o=!1}else Rr!==null&&(mx(Rr),Rr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Qt===0&&(Qt=3):w0())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return El(),ax(t,e),t===null&&Du(e.stateNode.containerInfo),fn(e),null;case 10:return s0(e.type._context),fn(e),null;case 17:return Ln(e.type)&&sp(),fn(e),null;case 19:if(pt(vt),o=e.memoizedState,o===null)return fn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ic(o,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=dp(t),a!==null){for(e.flags|=128,Ic(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(vt,vt.current&1|2),e.child}t=t.sibling}o.tail!==null&&At()>Il&&(e.flags|=128,r=!0,Ic(o,!1),e.lanes=4194304)}else{if(!r)if(t=dp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ic(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!gt)return fn(e),null}else 2*At()-o.renderingStartTime>Il&&n!==1073741824&&(e.flags|=128,r=!0,Ic(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=At(),e.sibling=null,n=vt.current,at(vt,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return b0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Hn&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function e5(t,e){switch(e0(e),e.tag){case 1:return Ln(e.type)&&sp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return El(),pt(Mn),pt(gn),c0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return l0(e),null;case 13:if(pt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(vt),null;case 4:return El(),null;case 10:return s0(e.type._context),null;case 22:case 23:return b0(),null;case 24:return null;default:return null}}var Rh=!1,pn=!1,t5=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(t,e,r)}else n.current=null}function lx(t,e,n){try{n()}catch(r){kt(t,e,r)}}var OS=!1;function n5(t,e){if(Wv=ep,t=IE(),Jb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=a),p===o&&++h===r&&(c=a),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hv={focusedElem:t,selectionRange:n},ep=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,y=w.memoizedState,_=e.stateNode,N=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ir(e.type,v),y);_.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(j){kt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return w=OS,OS=!1,w}function uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&lx(e,n,o)}s=s.next}while(s!==r)}}function jm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function C2(t){var e=t.alternate;e!==null&&(t.alternate=null,C2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ls],delete e[Lu],delete e[Kv],delete e[FL],delete e[UL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k2(t){return t.tag===5||t.tag===3||t.tag===4}function DS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ux(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rp));else if(r!==4&&(t=t.child,t!==null))for(ux(t,e,n),t=t.sibling;t!==null;)ux(t,e,n),t=t.sibling}function dx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dx(t,e,n),t=t.sibling;t!==null;)dx(t,e,n),t=t.sibling}var rn=null,Ar=!1;function yi(t,e,n){for(n=n.child;n!==null;)E2(t,e,n),n=n.sibling}function E2(t,e,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(ym,n)}catch{}switch(n.tag){case 5:pn||Ja(n,e);case 6:var r=rn,s=Ar;rn=null,yi(t,e,n),rn=r,Ar=s,rn!==null&&(Ar?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Ar?(t=rn,n=n.stateNode,t.nodeType===8?cy(t.parentNode,n):t.nodeType===1&&cy(t,n),Au(t)):cy(rn,n.stateNode));break;case 4:r=rn,s=Ar,rn=n.stateNode.containerInfo,Ar=!0,yi(t,e,n),rn=r,Ar=s;break;case 0:case 11:case 14:case 15:if(!pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&lx(n,e,a),s=s.next}while(s!==r)}yi(t,e,n);break;case 1:if(!pn&&(Ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kt(n,e,l)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(pn=(r=pn)||n.memoizedState!==null,yi(t,e,n),pn=r):yi(t,e,n);break;default:yi(t,e,n)}}function MS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t5),e.forEach(function(r){var s=d5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:rn=l.stateNode,Ar=!1;break e;case 3:rn=l.stateNode.containerInfo,Ar=!0;break e;case 4:rn=l.stateNode.containerInfo,Ar=!0;break e}l=l.return}if(rn===null)throw Error(te(160));E2(o,a,s),rn=null,Ar=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){kt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)T2(e,t),e=e.sibling}function T2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),rs(t),r&4){try{uu(3,t,t.return),jm(3,t)}catch(v){kt(t,t.return,v)}try{uu(5,t,t.return)}catch(v){kt(t,t.return,v)}}break;case 1:Er(e,t),rs(t),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(Er(e,t),rs(t),r&512&&n!==null&&Ja(n,n.return),t.flags&32){var s=t.stateNode;try{Eu(s,"")}catch(v){kt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Xk(s,o),Dv(l,a);var u=Dv(l,o);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?nE(s,f):h==="dangerouslySetInnerHTML"?eE(s,f):h==="children"?Eu(s,f):Ub(s,h,f,u)}switch(l){case"input":Iv(s,o);break;case"textarea":Jk(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?nl(s,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?nl(s,!!o.multiple,o.defaultValue,!0):nl(s,!!o.multiple,o.multiple?[]:"",!1))}s[Lu]=o}catch(v){kt(t,t.return,v)}}break;case 6:if(Er(e,t),rs(t),r&4){if(t.stateNode===null)throw Error(te(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){kt(t,t.return,v)}}break;case 3:if(Er(e,t),rs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(v){kt(t,t.return,v)}break;case 4:Er(e,t),rs(t);break;case 13:Er(e,t),rs(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(v0=At())),r&4&&MS(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(pn=(u=pn)||h,Er(e,t),pn=u):Er(e,t),rs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(pe=t,h=t.child;h!==null;){for(f=pe=h;pe!==null;){switch(p=pe,g=p.child,p.tag){case 0:case 11:case 14:case 15:uu(4,p,p.return);break;case 1:Ja(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){kt(r,n,v)}}break;case 5:Ja(p,p.return);break;case 22:if(p.memoizedState!==null){FS(f);continue}}g!==null?(g.return=p,pe=g):FS(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tE("display",a))}catch(v){kt(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){kt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Er(e,t),rs(t),r&4&&MS(t);break;case 21:break;default:Er(e,t),rs(t)}}function rs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(k2(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Eu(s,""),r.flags&=-33);var o=DS(t);dx(t,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=DS(t);ux(t,l,a);break;default:throw Error(te(161))}}catch(c){kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r5(t,e,n){pe=t,I2(t)}function I2(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var s=pe,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Rh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pn;l=Rh;var u=pn;if(Rh=a,(pn=c)&&!u)for(pe=s;pe!==null;)a=pe,c=a.child,a.tag===22&&a.memoizedState!==null?US(s):c!==null?(c.return=a,pe=c):US(s);for(;o!==null;)pe=o,I2(o),o=o.sibling;pe=s,Rh=l,pn=u}LS(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,pe=o):LS(t)}}function LS(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pn||jm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wS(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wS(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Au(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}pn||e.flags&512&&cx(e)}catch(p){kt(e,e.return,p)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function FS(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function US(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jm(4,e)}catch(c){kt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){kt(e,s,c)}}var o=e.return;try{cx(e)}catch(c){kt(e,o,c)}break;case 5:var a=e.return;try{cx(e)}catch(c){kt(e,a,c)}}}catch(c){kt(e,e.return,c)}if(e===t){pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,pe=l;break}pe=e.return}}var s5=Math.ceil,pp=ui.ReactCurrentDispatcher,g0=ui.ReactCurrentOwner,pr=ui.ReactCurrentBatchConfig,$e=0,en=null,Ut=null,an=0,Hn=0,Za=io(0),Qt=0,Vu=null,Qo=0,Cm=0,y0=0,du=null,Pn=null,v0=0,Il=1/0,Rs=null,mp=!1,hx=null,Ui=null,Oh=!1,Pi=null,gp=0,hu=0,fx=null,_f=-1,Nf=0;function _n(){return $e&6?At():_f!==-1?_f:_f=At()}function $i(t){return t.mode&1?$e&2&&an!==0?an&-an:BL.transition!==null?(Nf===0&&(Nf=pE()),Nf):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:wE(t.type)),t):1}function zr(t,e,n,r){if(50<hu)throw hu=0,fx=null,Error(te(185));Pd(t,n,r),(!($e&2)||t!==en)&&(t===en&&(!($e&2)&&(Cm|=n),Qt===4&&ji(t,an)),Fn(t,r),n===1&&$e===0&&!(e.mode&1)&&(Il=At()+500,_m&&oo()))}function Fn(t,e){var n=t.callbackNode;B3(t,e);var r=Zf(t,t===en?an:0);if(r===0)n!==null&&QN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QN(n),e===1)t.tag===0?$L($S.bind(null,t)):$E($S.bind(null,t)),ML(function(){!($e&6)&&oo()}),n=null;else{switch(mE(r)){case 1:n=qb;break;case 4:n=hE;break;case 16:n=Jf;break;case 536870912:n=fE;break;default:n=Jf}n=F2(n,P2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P2(t,e){if(_f=-1,Nf=0,$e&6)throw Error(te(327));var n=t.callbackNode;if(al()&&t.callbackNode!==n)return null;var r=Zf(t,t===en?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yp(t,r);else{e=r;var s=$e;$e|=2;var o=R2();(en!==t||an!==e)&&(Rs=null,Il=At()+500,Fo(t,e));do try{a5();break}catch(l){A2(t,l)}while(!0);r0(),pp.current=o,$e=s,Ut!==null?e=0:(en=null,an=0,e=Qt)}if(e!==0){if(e===2&&(s=$v(t),s!==0&&(r=s,e=px(t,s))),e===1)throw n=Vu,Fo(t,0),ji(t,r),Fn(t,At()),n;if(e===6)ji(t,r);else{if(s=t.current.alternate,!(r&30)&&!i5(s)&&(e=yp(t,r),e===2&&(o=$v(t),o!==0&&(r=o,e=px(t,o))),e===1))throw n=Vu,Fo(t,0),ji(t,r),Fn(t,At()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:_o(t,Pn,Rs);break;case 3:if(ji(t,r),(r&130023424)===r&&(e=v0+500-At(),10<e)){if(Zf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qv(_o.bind(null,t,Pn,Rs),e);break}_o(t,Pn,Rs);break;case 4:if(ji(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Br(r);o=1<<a,a=e[a],a>s&&(s=a),r&=~o}if(r=s,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s5(r/1960))-r,10<r){t.timeoutHandle=Qv(_o.bind(null,t,Pn,Rs),r);break}_o(t,Pn,Rs);break;case 5:_o(t,Pn,Rs);break;default:throw Error(te(329))}}}return Fn(t,At()),t.callbackNode===n?P2.bind(null,t):null}function px(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(Fo(t,e).flags|=256),t=yp(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&mx(e)),t}function mx(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function i5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Gr(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(t,e){for(e&=~y0,e&=~Cm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Br(e),r=1<<n;t[n]=-1,e&=~r}}function $S(t){if($e&6)throw Error(te(327));al();var e=Zf(t,0);if(!(e&1))return Fn(t,At()),null;var n=yp(t,e);if(t.tag!==0&&n===2){var r=$v(t);r!==0&&(e=r,n=px(t,r))}if(n===1)throw n=Vu,Fo(t,0),ji(t,e),Fn(t,At()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,Pn,Rs),Fn(t,At()),null}function x0(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(Il=At()+500,_m&&oo())}}function Ko(t){Pi!==null&&Pi.tag===0&&!($e&6)&&al();var e=$e;$e|=1;var n=pr.transition,r=Xe;try{if(pr.transition=null,Xe=1,t)return t()}finally{Xe=r,pr.transition=n,$e=e,!($e&6)&&oo()}}function b0(){Hn=Za.current,pt(Za)}function Fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DL(n)),Ut!==null)for(n=Ut.return;n!==null;){var r=n;switch(e0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sp();break;case 3:El(),pt(Mn),pt(gn),c0();break;case 5:l0(r);break;case 4:El();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:s0(r.type._context);break;case 22:case 23:b0()}n=n.return}if(en=t,Ut=t=Bi(t.current,null),an=Hn=e,Qt=0,Vu=null,y0=Cm=Qo=0,Pn=du=null,Io!==null){for(e=0;e<Io.length;e++)if(n=Io[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Io=null}return t}function A2(t,e){do{var n=Ut;try{if(r0(),xf.current=fp,hp){for(var r=xt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hp=!1}if(Go=0,Xt=Wt=xt=null,cu=!1,$u=0,g0.current=null,n===null||n.return===null){Qt=1,Vu=e,Ut=null;break}e:{var o=t,a=n.return,l=n,c=e;if(e=an,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=kS(a);if(g!==null){g.flags&=-257,ES(g,a,l,o,e),g.mode&1&&CS(o,u,e),e=g,c=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(c),e.updateQueue=v}else w.add(c);break e}else{if(!(e&1)){CS(o,u,e),w0();break e}c=Error(te(426))}}else if(gt&&l.mode&1){var y=kS(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ES(y,a,l,o,e),t0(Tl(c,l));break e}}o=c=Tl(c,l),Qt!==4&&(Qt=2),du===null?du=[o]:du.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=m2(o,c,e);bS(o,_);break e;case 1:l=c;var N=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof N.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ui===null||!Ui.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var j=g2(o,l,e);bS(o,j);break e}}o=o.return}while(o!==null)}D2(n)}catch(I){e=I,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function R2(){var t=pp.current;return pp.current=fp,t===null?fp:t}function w0(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),en===null||!(Qo&268435455)&&!(Cm&268435455)||ji(en,an)}function yp(t,e){var n=$e;$e|=2;var r=R2();(en!==t||an!==e)&&(Rs=null,Fo(t,e));do try{o5();break}catch(s){A2(t,s)}while(!0);if(r0(),$e=n,pp.current=r,Ut!==null)throw Error(te(261));return en=null,an=0,Qt}function o5(){for(;Ut!==null;)O2(Ut)}function a5(){for(;Ut!==null&&!A3();)O2(Ut)}function O2(t){var e=L2(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?D2(t):Ut=e,g0.current=null}function D2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e5(n,e),n!==null){n.flags&=32767,Ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,Ut=null;return}}else if(n=ZL(n,e,Hn),n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Qt===0&&(Qt=5)}function _o(t,e,n){var r=Xe,s=pr.transition;try{pr.transition=null,Xe=1,l5(t,e,n,r)}finally{pr.transition=s,Xe=r}return null}function l5(t,e,n,r){do al();while(Pi!==null);if($e&6)throw Error(te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(z3(t,o),t===en&&(Ut=en=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oh||(Oh=!0,F2(Jf,function(){return al(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pr.transition,pr.transition=null;var a=Xe;Xe=1;var l=$e;$e|=4,g0.current=null,n5(t,n),T2(n,t),EL(Hv),ep=!!Wv,Hv=Wv=null,t.current=n,r5(n),R3(),$e=l,Xe=a,pr.transition=o}else t.current=n;if(Oh&&(Oh=!1,Pi=t,gp=s),o=t.pendingLanes,o===0&&(Ui=null),M3(n.stateNode),Fn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mp)throw mp=!1,t=hx,hx=null,t;return gp&1&&t.tag!==0&&al(),o=t.pendingLanes,o&1?t===fx?hu++:(hu=0,fx=t):hu=0,oo(),null}function al(){if(Pi!==null){var t=mE(gp),e=pr.transition,n=Xe;try{if(pr.transition=null,Xe=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,gp=0,$e&6)throw Error(te(331));var s=$e;for($e|=4,pe=t.current;pe!==null;){var o=pe,a=o.child;if(pe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var h=pe;switch(h.tag){case 0:case 11:case 15:uu(8,h,o)}var f=h.child;if(f!==null)f.return=h,pe=f;else for(;pe!==null;){h=pe;var p=h.sibling,g=h.return;if(C2(h),h===u){pe=null;break}if(p!==null){p.return=g,pe=p;break}pe=g}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}pe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,pe=a;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:uu(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,pe=_;break e}pe=o.return}}var N=t.current;for(pe=N;pe!==null;){a=pe;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,pe=b;else e:for(a=N;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jm(9,l)}}catch(I){kt(l,l.return,I)}if(l===a){pe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,pe=j;break e}pe=l.return}}if($e=s,oo(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(ym,t)}catch{}r=!0}return r}finally{Xe=n,pr.transition=e}}return!1}function BS(t,e,n){e=Tl(n,e),e=m2(t,e,1),t=Fi(t,e,1),e=_n(),t!==null&&(Pd(t,1,e),Fn(t,e))}function kt(t,e,n){if(t.tag===3)BS(t,t,n);else for(;e!==null;){if(e.tag===3){BS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ui===null||!Ui.has(r))){t=Tl(n,t),t=g2(e,t,1),e=Fi(e,t,1),t=_n(),e!==null&&(Pd(e,1,t),Fn(e,t));break}}e=e.return}}function c5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,en===t&&(an&n)===n&&(Qt===4||Qt===3&&(an&130023424)===an&&500>At()-v0?Fo(t,0):y0|=n),Fn(t,e)}function M2(t,e){e===0&&(t.mode&1?(e=Sh,Sh<<=1,!(Sh&130023424)&&(Sh=4194304)):e=1);var n=_n();t=Js(t,e),t!==null&&(Pd(t,e,n),Fn(t,n))}function u5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),M2(t,n)}function d5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),M2(t,n)}var L2;L2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,JL(t,e,n);An=!!(t.flags&131072)}else An=!1,gt&&e.flags&1048576&&BE(e,ap,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wf(t,e),t=e.pendingProps;var s=jl(e,gn.current);ol(e,n),s=d0(null,e,r,t,s,n);var o=h0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(o=!0,ip(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,o0(e),s.updater=Sm,e.stateNode=s,s._reactInternals=e,tx(e,r,t,n),e=sx(null,e,r,!0,o,n)):(e.tag=0,gt&&o&&Zb(e),xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=f5(r),t=Ir(r,t),s){case 0:e=rx(null,e,r,t,n);break e;case 1:e=PS(null,e,r,t,n);break e;case 11:e=TS(null,e,r,t,n);break e;case 14:e=IS(null,e,r,Ir(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),rx(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),PS(t,e,r,s,n);case 3:e:{if(b2(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,s=o.element,GE(t,e),up(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Tl(Error(te(423)),e),e=AS(t,e,r,n,s);break e}else if(r!==s){s=Tl(Error(te(424)),e),e=AS(t,e,r,n,s);break e}else for(Kn=Li(e.stateNode.containerInfo.firstChild),Yn=e,gt=!0,Rr=null,n=WE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cl(),r===s){e=Zs(t,e,n);break e}xn(t,e,r,n)}e=e.child}return e;case 5:return QE(e),t===null&&Jv(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,Gv(r,s)?a=null:o!==null&&Gv(r,o)&&(e.flags|=32),x2(t,e),xn(t,e,a,n),e.child;case 6:return t===null&&Jv(e),null;case 13:return w2(t,e,n);case 4:return a0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kl(e,null,r,n):xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),TS(t,e,r,s,n);case 7:return xn(t,e,e.pendingProps,n),e.child;case 8:return xn(t,e,e.pendingProps.children,n),e.child;case 12:return xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,at(lp,r._currentValue),r._currentValue=a,o!==null)if(Gr(o.value,a)){if(o.children===s.children&&!Mn.current){e=Zs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Ws(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Zv(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(te(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ol(e,n),s=gr(s),r=r(s),e.flags|=1,xn(t,e,r,n),e.child;case 14:return r=e.type,s=Ir(r,e.pendingProps),s=Ir(r.type,s),IS(t,e,r,s,n);case 15:return y2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),wf(t,e),e.tag=1,Ln(r)?(t=!0,ip(e)):t=!1,ol(e,n),p2(e,r,s),tx(e,r,s,n),sx(null,e,r,!0,t,n);case 19:return _2(t,e,n);case 22:return v2(t,e,n)}throw Error(te(156,e.tag))};function F2(t,e){return dE(t,e)}function h5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new h5(t,e,n,r)}function _0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f5(t){if(typeof t=="function")return _0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bb)return 11;if(t===zb)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sf(t,e,n,r,s,o){var a=2;if(r=t,typeof t=="function")_0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Va:return Uo(n.children,s,o,e);case $b:a=8,s|=8;break;case jv:return t=fr(12,n,e,s|2),t.elementType=jv,t.lanes=o,t;case Cv:return t=fr(13,n,e,s),t.elementType=Cv,t.lanes=o,t;case kv:return t=fr(19,n,e,s),t.elementType=kv,t.lanes=o,t;case Qk:return km(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hk:a=10;break e;case Gk:a=9;break e;case Bb:a=11;break e;case zb:a=14;break e;case _i:a=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=fr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Uo(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function km(t,e,n,r){return t=fr(22,t,r,e),t.elementType=Qk,t.lanes=n,t.stateNode={isHidden:!1},t}function yy(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function vy(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jg(0),this.expirationTimes=Jg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function N0(t,e,n,r,s,o,a,l,c){return t=new p5(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},o0(o),t}function m5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U2(t){if(!t)return Gi;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Ln(n))return UE(t,n,e)}return e}function $2(t,e,n,r,s,o,a,l,c){return t=N0(n,r,!0,t,s,o,a,l,c),t.context=U2(null),n=t.current,r=_n(),s=$i(n),o=Ws(r,s),o.callback=e??null,Fi(n,o,s),t.current.lanes=s,Pd(t,s,r),Fn(t,r),t}function Em(t,e,n,r){var s=e.current,o=_n(),a=$i(s);return n=U2(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(s,e,a),t!==null&&(zr(t,s,a,o),vf(t,s,a)),a}function vp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function S0(t,e){zS(t,e),(t=t.alternate)&&zS(t,e)}function g5(){return null}var B2=typeof reportError=="function"?reportError:function(t){console.error(t)};function j0(t){this._internalRoot=t}Tm.prototype.render=j0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Em(t,e,null,null)};Tm.prototype.unmount=j0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ko(function(){Em(null,t,null,null)}),e[Xs]=null}};function Tm(t){this._internalRoot=t}Tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=vE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&bE(t)}};function C0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VS(){}function y5(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=vp(a);o.call(u)}}var a=$2(e,r,t,0,null,!1,!1,"",VS);return t._reactRootContainer=a,t[Xs]=a.current,Du(t.nodeType===8?t.parentNode:t),Ko(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=vp(c);l.call(u)}}var c=N0(t,0,!1,null,null,!1,!1,"",VS);return t._reactRootContainer=c,t[Xs]=c.current,Du(t.nodeType===8?t.parentNode:t),Ko(function(){Em(e,c,n,r)}),c}function Pm(t,e,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=vp(a);l.call(c)}}Em(e,a,t,s)}else a=y5(n,e,t,s,r);return vp(a)}gE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kc(e.pendingLanes);n!==0&&(Wb(e,n|1),Fn(e,At()),!($e&6)&&(Il=At()+500,oo()))}break;case 13:Ko(function(){var r=Js(t,1);if(r!==null){var s=_n();zr(r,t,1,s)}}),S0(t,1)}};Hb=function(t){if(t.tag===13){var e=Js(t,134217728);if(e!==null){var n=_n();zr(e,t,134217728,n)}S0(t,134217728)}};yE=function(t){if(t.tag===13){var e=$i(t),n=Js(t,e);if(n!==null){var r=_n();zr(n,t,e,r)}S0(t,e)}};vE=function(){return Xe};xE=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};Lv=function(t,e,n){switch(e){case"input":if(Iv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wm(r);if(!s)throw Error(te(90));Yk(r),Iv(r,s)}}}break;case"textarea":Jk(t,n);break;case"select":e=n.value,e!=null&&nl(t,!!n.multiple,e,!1)}};iE=x0;oE=Ko;var v5={usingClientEntryPoint:!1,Events:[Rd,Ga,wm,rE,sE,x0]},Pc={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x5={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cE(t),t===null?null:t.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||g5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{ym=Dh.inject(x5),fs=Dh}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v5;tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C0(e))throw Error(te(200));return m5(t,e,null,n)};tr.createRoot=function(t,e){if(!C0(t))throw Error(te(299));var n=!1,r="",s=B2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=N0(t,1,!1,null,null,n,!1,r,s),t[Xs]=e.current,Du(t.nodeType===8?t.parentNode:t),new j0(e)};tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=cE(e),t=t===null?null:t.stateNode,t};tr.flushSync=function(t){return Ko(t)};tr.hydrate=function(t,e,n){if(!Im(e))throw Error(te(200));return Pm(null,t,e,!0,n)};tr.hydrateRoot=function(t,e,n){if(!C0(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=B2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=$2(e,null,t,1,n??null,s,!1,o,a),t[Xs]=e.current,Du(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Tm(e)};tr.render=function(t,e,n){if(!Im(e))throw Error(te(200));return Pm(null,t,e,!1,n)};tr.unmountComponentAtNode=function(t){if(!Im(t))throw Error(te(40));return t._reactRootContainer?(Ko(function(){Pm(null,null,t,!1,function(){t._reactRootContainer=null,t[Xs]=null})}),!0):!1};tr.unstable_batchedUpdates=x0;tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Pm(t,e,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(t){console.error(t)}}z2(),zk.exports=tr;var pa=zk.exports;const b5=pm(pa);var qS=pa;Nv.createRoot=qS.createRoot,Nv.hydrateRoot=qS.hydrateRoot;var V2={exports:{}},q2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=m;function w5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _5=typeof Object.is=="function"?Object.is:w5,N5=Dd.useSyncExternalStore,S5=Dd.useRef,j5=Dd.useEffect,C5=Dd.useMemo,k5=Dd.useDebugValue;q2.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var o=S5(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=C5(function(){function c(g){if(!u){if(u=!0,h=g,g=r(g),s!==void 0&&a.hasValue){var w=a.value;if(s(w,g))return f=w}return f=g}if(w=f,_5(h,g))return w;var v=r(g);return s!==void 0&&s(w,v)?(h=g,w):(h=g,f=v)}var u=!1,h,f,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,s]);var l=N5(t,o[0],o[1]);return j5(function(){a.hasValue=!0,a.value=l},[l]),k5(l),l};V2.exports=q2;var E5=V2.exports;function W2(t){t()}function T5(){let t=null,e=null;return{clear(){t=null,e=null},notify(){W2(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var WS={notify(){},get:()=>[]};function I5(t,e){let n,r=WS,s=0,o=!1;function a(v){h();const y=r.subscribe(v);let _=!1;return()=>{_||(_=!0,y(),f())}}function l(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function u(){return o}function h(){s++,n||(n=t.subscribe(c),r=T5())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=WS)}function p(){o||(o=!0,h())}function g(){o&&(o=!1,f())}const w={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return w}var P5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A5=P5(),R5=()=>typeof navigator<"u"&&navigator.product==="ReactNative",O5=R5(),D5=()=>A5||O5?m.useLayoutEffect:m.useEffect,M5=D5();function HS(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function fu(t,e){if(HS(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!HS(t[n[s]],e[n[s]]))return!1;return!0}var xy=Symbol.for("react-redux-context"),by=typeof globalThis<"u"?globalThis:{};function L5(){if(!m.createContext)return{};const t=by[xy]??(by[xy]=new Map);let e=t.get(m.createContext);return e||(e=m.createContext(null),t.set(m.createContext,e)),e}var Qi=L5();function F5(t){const{children:e,context:n,serverState:r,store:s}=t,o=m.useMemo(()=>{const c=I5(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=m.useMemo(()=>s.getState(),[s]);M5(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=n||Qi;return m.createElement(l.Provider,{value:o},e)}var U5=F5;function k0(t=Qi){return function(){return m.useContext(t)}}var H2=k0();function G2(t=Qi){const e=t===Qi?H2:k0(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var Q2=G2();function $5(t=Qi){const e=t===Qi?Q2:G2(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Jr=$5(),B5=(t,e)=>t===e;function z5(t=Qi){const e=t===Qi?H2:k0(t),n=(r,s={})=>{const{equalityFn:o=B5}=typeof s=="function"?{equalityFn:s}:s,a=e(),{store:l,subscription:c,getServerState:u}=a;m.useRef(!0);const h=m.useCallback({[r.name](p){return r(p)}}[r.name],[r]),f=E5.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,h,o);return m.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var Oe=z5(),V5=W2;function nn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var q5=typeof Symbol=="function"&&Symbol.observable||"@@observable",GS=q5,wy=()=>Math.random().toString(36).substring(7).split("").join("."),W5={INIT:`@@redux/INIT${wy()}`,REPLACE:`@@redux/REPLACE${wy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wy()}`},xp=W5;function Ki(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function K2(t,e,n){if(typeof t!="function")throw new Error(nn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nn(1));return n(K2)(t,e)}let r=t,s=e,o=new Map,a=o,l=0,c=!1;function u(){a===o&&(a=new Map,o.forEach((y,_)=>{a.set(_,y)}))}function h(){if(c)throw new Error(nn(3));return s}function f(y){if(typeof y!="function")throw new Error(nn(4));if(c)throw new Error(nn(5));let _=!0;u();const N=l++;return a.set(N,y),function(){if(_){if(c)throw new Error(nn(6));_=!1,u(),a.delete(N),o=null}}}function p(y){if(!Ki(y))throw new Error(nn(7));if(typeof y.type>"u")throw new Error(nn(8));if(typeof y.type!="string")throw new Error(nn(17));if(c)throw new Error(nn(9));try{c=!0,s=r(s,y)}finally{c=!1}return(o=a).forEach(N=>{N()}),y}function g(y){if(typeof y!="function")throw new Error(nn(10));r=y,p({type:xp.REPLACE})}function w(){const y=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(nn(11));function N(){const j=_;j.next&&j.next(h())}return N(),{unsubscribe:y(N)}},[GS](){return this}}}return p({type:xp.INIT}),{dispatch:p,subscribe:f,getState:h,replaceReducer:g,[GS]:w}}function H5(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:xp.INIT})>"u")throw new Error(nn(12));if(typeof n(void 0,{type:xp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nn(13))})}function Y2(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let s;try{H5(n)}catch(o){s=o}return function(a={},l){if(s)throw s;let c=!1;const u={};for(let h=0;h<r.length;h++){const f=r[h],p=n[f],g=a[f],w=p(g,l);if(typeof w>"u")throw l&&l.type,new Error(nn(14));u[f]=w,c=c||w!==g}return c=c||r.length!==Object.keys(a).length,c?u:a}}function bp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function G5(...t){return e=>(n,r)=>{const s=e(n,r);let o=()=>{throw new Error(nn(15))};const a={getState:s.getState,dispatch:(c,...u)=>o(c,...u)},l=t.map(c=>c(a));return o=bp(...l)(s.dispatch),{...s,dispatch:o}}}function X2(t){return Ki(t)&&"type"in t&&typeof t.type=="string"}var E0=Symbol.for("immer-nothing"),pu=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function on(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Yo=Object.getPrototypeOf;function vs(t){return!!t&&!!t[Bn]}function Qr(t){var e;return t?J2(t)||Array.isArray(t)||!!t[pu]||!!((e=t.constructor)!=null&&e[pu])||Yl(t)||Md(t):!1}var Q5=Object.prototype.constructor.toString();function J2(t){if(!t||typeof t!="object")return!1;const e=Yo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Q5}function K5(t){return vs(t)||on(15,t),t[Bn].base_}function qu(t,e){Xo(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Xo(t){const e=t[Bn];return e?e.type_:Array.isArray(t)?1:Yl(t)?2:Md(t)?3:0}function Wu(t,e){return Xo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function _y(t,e){return Xo(t)===2?t.get(e):t[e]}function Z2(t,e,n){const r=Xo(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Y5(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yl(t){return t instanceof Map}function Md(t){return t instanceof Set}function No(t){return t.copy_||t.base_}function gx(t,e){if(Yl(t))return new Map(t);if(Md(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=J2(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Bn];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const a=s[o],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Yo(t),r)}else{const r=Yo(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function T0(t,e=!1){return Am(t)||vs(t)||!Qr(t)||(Xo(t)>1&&Object.defineProperties(t,{set:{value:Mh},add:{value:Mh},clear:{value:Mh},delete:{value:Mh}}),Object.freeze(t),e&&Object.values(t).forEach(n=>T0(n,!0))),t}function Mh(){on(2)}function Am(t){return Object.isFrozen(t)}var yx={};function Jo(t){const e=yx[t];return e||on(0,t),e}function X5(t,e){yx[t]||(yx[t]=e)}var Hu;function eT(){return Hu}function J5(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QS(t,e){e&&(Jo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vx(t){xx(t),t.drafts_.forEach(Z5),t.drafts_=null}function xx(t){t===Hu&&(Hu=t.parent_)}function KS(t){return Hu=J5(Hu,t)}function Z5(t){const e=t[Bn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function YS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Bn].modified_&&(vx(e),on(4)),Qr(t)&&(t=wp(e,t),e.parent_||_p(e,t)),e.patches_&&Jo("Patches").generateReplacementPatches_(n[Bn].base_,t,e.patches_,e.inversePatches_)):t=wp(e,n,[]),vx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==E0?t:void 0}function wp(t,e,n){if(Am(e))return e;const r=e[Bn];if(!r)return qu(e,(s,o)=>XS(t,r,e,s,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return _p(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,a=!1;r.type_===3&&(o=new Set(s),s.clear(),a=!0),qu(o,(l,c)=>XS(t,r,s,l,c,n,a)),_p(t,s,!1),n&&t.patches_&&Jo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function XS(t,e,n,r,s,o,a){if(vs(s)){const l=o&&e&&e.type_!==3&&!Wu(e.assigned_,r)?o.concat(r):void 0,c=wp(t,s,l);if(Z2(n,r,c),vs(c))t.canAutoFreeze_=!1;else return}else a&&n.add(s);if(Qr(s)&&!Am(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;wp(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Yl(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&_p(t,s)}}function _p(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&T0(e,n)}function e6(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:eT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=I0;n&&(s=[r],o=Gu);const{revoke:a,proxy:l}=Proxy.revocable(s,o);return r.draft_=l,r.revoke_=a,l}var I0={get(t,e){if(e===Bn)return t;const n=No(t);if(!Wu(n,e))return t6(t,n,e);const r=n[e];return t.finalized_||!Qr(r)?r:r===Ny(t.base_,e)?(Sy(t),t.copy_[e]=wx(r,t)):r},has(t,e){return e in No(t)},ownKeys(t){return Reflect.ownKeys(No(t))},set(t,e,n){const r=tT(No(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=Ny(No(t),e),o=s==null?void 0:s[Bn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Y5(n,s)&&(n!==void 0||Wu(t.base_,e)))return!0;Sy(t),bx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ny(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Sy(t),bx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=No(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){on(11)},getPrototypeOf(t){return Yo(t.base_)},setPrototypeOf(){on(12)}},Gu={};qu(I0,(t,e)=>{Gu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Gu.deleteProperty=function(t,e){return Gu.set.call(this,t,e,void 0)};Gu.set=function(t,e,n){return I0.set.call(this,t[0],e,n,t[0])};function Ny(t,e){const n=t[Bn];return(n?No(n):t)[e]}function t6(t,e,n){var s;const r=tT(e,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(t.draft_):void 0}function tT(t,e){if(!(e in t))return;let n=Yo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Yo(n)}}function bx(t){t.modified_||(t.modified_=!0,t.parent_&&bx(t.parent_))}function Sy(t){t.copy_||(t.copy_=gx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var n6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...u){return a.produce(c,h=>n.call(this,h,...u))}}typeof n!="function"&&on(6),r!==void 0&&typeof r!="function"&&on(7);let s;if(Qr(e)){const o=KS(this),a=wx(e,void 0);let l=!0;try{s=n(a),l=!1}finally{l?vx(o):xx(o)}return QS(o,r),YS(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===E0&&(s=void 0),this.autoFreeze_&&T0(s,!0),r){const o=[],a=[];Jo("Patches").generateReplacementPatches_(e,s,o,a),r(o,a)}return s}else on(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,s;return[this.produce(e,n,(a,l)=>{r=a,s=l}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qr(t)||on(8),vs(t)&&(t=r6(t));const e=KS(this),n=wx(t,void 0);return n[Bn].isManual_=!0,xx(e),n}finishDraft(t,e){const n=t&&t[Bn];(!n||!n.isManual_)&&on(9);const{scope_:r}=n;return QS(r,e),YS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Jo("Patches").applyPatches_;return vs(t)?r(t,e):this.produce(t,s=>r(s,e))}};function wx(t,e){const n=Yl(t)?Jo("MapSet").proxyMap_(t,e):Md(t)?Jo("MapSet").proxySet_(t,e):e6(t,e);return(e?e.scope_:eT()).drafts_.push(n),n}function r6(t){return vs(t)||on(10,t),nT(t)}function nT(t){if(!Qr(t)||Am(t))return t;const e=t[Bn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gx(t,e.scope_.immer_.useStrictShallowCopy_)}else n=gx(t,!0);return qu(n,(r,s)=>{Z2(n,r,nT(s))}),e&&(e.finalized_=!1),n}function s6(){const e="replace",n="add",r="remove";function s(p,g,w,v){switch(p.type_){case 0:case 2:return a(p,g,w,v);case 1:return o(p,g,w,v);case 3:return l(p,g,w,v)}}function o(p,g,w,v){let{base_:y,assigned_:_}=p,N=p.copy_;N.length<y.length&&([y,N]=[N,y],[w,v]=[v,w]);for(let b=0;b<y.length;b++)if(_[b]&&N[b]!==y[b]){const j=g.concat([b]);w.push({op:e,path:j,value:f(N[b])}),v.push({op:e,path:j,value:f(y[b])})}for(let b=y.length;b<N.length;b++){const j=g.concat([b]);w.push({op:n,path:j,value:f(N[b])})}for(let b=N.length-1;y.length<=b;--b){const j=g.concat([b]);v.push({op:r,path:j})}}function a(p,g,w,v){const{base_:y,copy_:_}=p;qu(p.assigned_,(N,b)=>{const j=_y(y,N),I=_y(_,N),O=b?Wu(y,N)?e:n:r;if(j===I&&O===e)return;const S=g.concat(N);w.push(O===r?{op:O,path:S}:{op:O,path:S,value:I}),v.push(O===n?{op:r,path:S}:O===r?{op:n,path:S,value:f(j)}:{op:e,path:S,value:f(j)})})}function l(p,g,w,v){let{base_:y,copy_:_}=p,N=0;y.forEach(b=>{if(!_.has(b)){const j=g.concat([N]);w.push({op:r,path:j,value:b}),v.unshift({op:n,path:j,value:b})}N++}),N=0,_.forEach(b=>{if(!y.has(b)){const j=g.concat([N]);w.push({op:n,path:j,value:b}),v.unshift({op:r,path:j,value:b})}N++})}function c(p,g,w,v){w.push({op:e,path:[],value:g===E0?void 0:g}),v.push({op:e,path:[],value:p})}function u(p,g){return g.forEach(w=>{const{path:v,op:y}=w;let _=p;for(let I=0;I<v.length-1;I++){const O=Xo(_);let S=v[I];typeof S!="string"&&typeof S!="number"&&(S=""+S),(O===0||O===1)&&(S==="__proto__"||S==="constructor")&&on(19),typeof _=="function"&&S==="prototype"&&on(19),_=_y(_,S),typeof _!="object"&&on(18,v.join("/"))}const N=Xo(_),b=h(w.value),j=v[v.length-1];switch(y){case e:switch(N){case 2:return _.set(j,b);case 3:on(16);default:return _[j]=b}case n:switch(N){case 1:return j==="-"?_.push(b):_.splice(j,0,b);case 2:return _.set(j,b);case 3:return _.add(b);default:return _[j]=b}case r:switch(N){case 1:return _.splice(j,1);case 2:return _.delete(j);case 3:return _.delete(w.value);default:return delete _[j]}default:on(17,y)}}),p}function h(p){if(!Qr(p))return p;if(Array.isArray(p))return p.map(h);if(Yl(p))return new Map(Array.from(p.entries()).map(([w,v])=>[w,h(v)]));if(Md(p))return new Set(Array.from(p).map(h));const g=Object.create(Yo(p));for(const w in p)g[w]=h(p[w]);return Wu(p,pu)&&(g[pu]=p[pu]),g}function f(p){return vs(p)?h(p):p}X5("Patches",{applyPatches_:u,generatePatches_:s,generateReplacementPatches_:c})}var Qu=new n6,Ld=Qu.produce,rT=Qu.produceWithPatches.bind(Qu),JS=Qu.applyPatches.bind(Qu);function i6(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function o6(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function a6(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var ZS=t=>Array.isArray(t)?t:[t];function l6(t){const e=Array.isArray(t[0])?t[0]:t;return a6(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function c6(t,e){const n=[],{length:r}=t;for(let s=0;s<r;s++)n.push(t[s].apply(null,e));return n}var u6=class{constructor(t){this.value=t}deref(){return this.value}},d6=typeof WeakRef<"u"?WeakRef:u6,h6=0,e1=1;function Lh(){return{s:h6,v:void 0,o:null,p:null}}function Np(t,e={}){let n=Lh();const{resultEqualityCheck:r}=e;let s,o=0;function a(){var f;let l=n;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const w=arguments[p];if(typeof w=="function"||typeof w=="object"&&w!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const y=v.get(w);y===void 0?(l=Lh(),v.set(w,l)):l=y}else{let v=l.p;v===null&&(l.p=v=new Map);const y=v.get(w);y===void 0?(l=Lh(),v.set(w,l)):l=y}}const u=l;let h;if(l.s===e1)h=l.v;else if(h=t.apply(null,arguments),o++,r){const p=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;p!=null&&r(p,h)&&(h=p,o!==0&&o--),s=typeof h=="object"&&h!==null||typeof h=="function"?new d6(h):h}return u.s=e1,u.v=h,h}return a.clearCache=()=>{n=Lh(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function f6(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...s)=>{let o=0,a=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),i6(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...n,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:g=Np,argsMemoizeOptions:w=[]}=h,v=ZS(p),y=ZS(w),_=l6(s),N=f(function(){return o++,u.apply(null,arguments)},...v),b=g(function(){a++;const I=c6(_,arguments);return l=N.apply(null,I),l},...y);return Object.assign(b,{resultFunc:u,memoizedResultFunc:N,dependencies:_,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var P0=f6(Np),p6=Object.assign((t,e=P0)=>{o6(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>p6});function sT(t){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,t):s(o)}var m6=sT(),g6=sT,y6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bp:bp.apply(null,arguments)},v6=t=>t&&typeof t.match=="function";function Vr(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(qr(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>X2(r)&&r.type===t,n}var iT=class Xc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xc.prototype)}static get[Symbol.species](){return Xc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xc(...e[0].concat(this)):new Xc(...e.concat(this))}};function t1(t){return Qr(t)?Ld(t,()=>{}):t}function Fh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function x6(t){return typeof t=="boolean"}var b6=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let a=new iT;return n&&(x6(n)?a.push(m6):a.push(g6(n.extraArgument))),a},Rm="RTK_autoBatch",Ac=()=>t=>({payload:t,meta:{[Rm]:!0}}),n1=t=>e=>{setTimeout(e,t)},w6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,o=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n1(10):t.type==="callback"?t.queueNotification:n1(t.timeout),u=()=>{a=!1,o&&(o=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const f=()=>s&&h(),p=r.subscribe(f);return l.add(h),()=>{p(),l.delete(h)}},dispatch(h){var f;try{return s=!((f=h==null?void 0:h.meta)!=null&&f[Rm]),o=!s,o&&(a||(a=!0,c(u))),r.dispatch(h)}finally{s=!0}}})},_6=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new iT(t);return r&&s.push(w6(typeof r=="object"?r:void 0)),s};function N6(t){const e=b6(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Ki(n))l=Y2(n);else throw new Error(qr(1));let c;typeof r=="function"?c=r(e):c=e();let u=bp;s&&(u=y6({trace:!1,...typeof s=="object"&&s}));const h=G5(...c),f=_6(h);let p=typeof a=="function"?a(f):f();const g=u(...p);return K2(l,o,g)}function oT(t){const e={},n=[];let r;const s={addCase(o,a){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(qr(28));if(l in e)throw new Error(qr(29));return e[l]=a,s},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),s},addMatcher(o,a){return n.push({matcher:o,reducer:a}),s},addDefaultCase(o){return r=o,s}};return t(s),[e,n,r]}function S6(t){return typeof t=="function"}function j6(t,e){let[n,r,s]=oT(e),o;if(S6(t))o=()=>t1(t());else{const l=t1(t);o=()=>l}function a(l=o(),c){let u=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[s]),u.reduce((h,f)=>{if(f)if(vs(h)){const g=f(h,c);return g===void 0?h:g}else{if(Qr(h))return Ld(h,p=>f(p,c));{const p=f(h,c);if(p===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return h},l)}return a.getInitialState=o,a}var aT=(t,e)=>v6(t)?t.match(e):t(e);function ei(...t){return e=>t.some(n=>aT(n,e))}function mu(...t){return e=>t.every(n=>aT(n,e))}function Om(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function Fd(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function A0(...t){return t.length===0?e=>Om(e,["pending"]):Fd(t)?ei(...t.map(e=>e.pending)):A0()(t[0])}function Pl(...t){return t.length===0?e=>Om(e,["rejected"]):Fd(t)?ei(...t.map(e=>e.rejected)):Pl()(t[0])}function Dm(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?mu(Pl(...t),e):Fd(t)?mu(Pl(...t),e):Dm()(t[0])}function Yi(...t){return t.length===0?e=>Om(e,["fulfilled"]):Fd(t)?ei(...t.map(e=>e.fulfilled)):Yi()(t[0])}function _x(...t){return t.length===0?e=>Om(e,["pending","fulfilled","rejected"]):Fd(t)?ei(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):_x()(t[0])}var C6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",R0=(t=21)=>{let e="",n=t;for(;n--;)e+=C6[Math.random()*64|0];return e},k6=["name","message","stack","code"],jy=class{constructor(t,e){Ca(this,"_type");this.payload=t,this.meta=e}},r1=class{constructor(t,e){Ca(this,"_type");this.payload=t,this.meta=e}},E6=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of k6)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},s1="External signal was aborted",i1=(()=>{function t(e,n,r){const s=Vr(e+"/fulfilled",(c,u,h,f)=>({payload:c,meta:{...f||{},arg:h,requestId:u,requestStatus:"fulfilled"}})),o=Vr(e+"/pending",(c,u,h)=>({payload:void 0,meta:{...h||{},arg:u,requestId:c,requestStatus:"pending"}})),a=Vr(e+"/rejected",(c,u,h,f,p)=>({payload:f,error:(r&&r.serializeError||E6)(c||"Rejected"),meta:{...p||{},arg:h,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(h,f,p)=>{const g=r!=null&&r.idGenerator?r.idGenerator(c):R0(),w=new AbortController;let v,y;function _(b){y=b,w.abort()}u&&(u.aborted?_(s1):u.addEventListener("abort",()=>_(s1),{once:!0}));const N=async function(){var I,O;let b;try{let S=(I=r==null?void 0:r.condition)==null?void 0:I.call(r,c,{getState:f,extra:p});if(I6(S)&&(S=await S),S===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((E,k)=>{v=()=>{k({name:"AbortError",message:y||"Aborted"})},w.signal.addEventListener("abort",v)});h(o(g,c,(O=r==null?void 0:r.getPendingMeta)==null?void 0:O.call(r,{requestId:g,arg:c},{getState:f,extra:p}))),b=await Promise.race([x,Promise.resolve(n(c,{dispatch:h,getState:f,extra:p,requestId:g,signal:w.signal,abort:_,rejectWithValue:(E,k)=>new jy(E,k),fulfillWithValue:(E,k)=>new r1(E,k)})).then(E=>{if(E instanceof jy)throw E;return E instanceof r1?s(E.payload,g,c,E.meta):s(E,g,c)})])}catch(S){b=S instanceof jy?a(null,g,c,S.payload,S.meta):a(S,g,c)}finally{v&&w.signal.removeEventListener("abort",v)}return r&&!r.dispatchConditionRejection&&a.match(b)&&b.meta.condition||h(b),b}();return Object.assign(N,{abort:_,requestId:g,arg:c,unwrap(){return N.then(T6)}})}}return Object.assign(l,{pending:o,rejected:a,fulfilled:s,settled:ei(a,s),typePrefix:e})}return t.withTypes=()=>t,t})();function T6(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function I6(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var P6=Symbol.for("rtk-slice-createasyncthunk");function A6(t,e){return`${t}/${e}`}function R6({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[P6];return function(s){const{name:o,reducerPath:a=o}=s;if(!o)throw new Error(qr(11));const l=(typeof s.reducers=="function"?s.reducers(D6()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(j,I){const O=typeof j=="string"?j:j.type;if(!O)throw new Error(qr(12));if(O in u.sliceCaseReducersByType)throw new Error(qr(13));return u.sliceCaseReducersByType[O]=I,h},addMatcher(j,I){return u.sliceMatchers.push({matcher:j,reducer:I}),h},exposeAction(j,I){return u.actionCreators[j]=I,h},exposeCaseReducer(j,I){return u.sliceCaseReducersByName[j]=I,h}};c.forEach(j=>{const I=l[j],O={reducerName:j,type:A6(o,j),createNotation:typeof s.reducers=="function"};L6(I)?U6(O,I,h,e):M6(O,I,h)});function f(){const[j={},I=[],O=void 0]=typeof s.extraReducers=="function"?oT(s.extraReducers):[s.extraReducers],S={...j,...u.sliceCaseReducersByType};return j6(s.initialState,x=>{for(let E in S)x.addCase(E,S[E]);for(let E of u.sliceMatchers)x.addMatcher(E.matcher,E.reducer);for(let E of I)x.addMatcher(E.matcher,E.reducer);O&&x.addDefaultCase(O)})}const p=j=>j,g=new Map,w=new WeakMap;let v;function y(j,I){return v||(v=f()),v(j,I)}function _(){return v||(v=f()),v.getInitialState()}function N(j,I=!1){function O(x){let E=x[j];return typeof E>"u"&&I&&(E=Fh(w,O,_)),E}function S(x=p){const E=Fh(g,I,()=>new WeakMap);return Fh(E,x,()=>{const k={};for(const[R,P]of Object.entries(s.selectors??{}))k[R]=O6(P,x,()=>Fh(w,x,_),I);return k})}return{reducerPath:j,getSelectors:S,get selectors(){return S(O)},selectSlice:O}}const b={name:o,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...N(a),injectInto(j,{reducerPath:I,...O}={}){const S=I??a;return j.inject({reducerPath:S,reducer:y},O),{...b,...N(S,!0)}}};return b}}function O6(t,e,n,r){function s(o,...a){let l=e(o);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return s.unwrapped=t,s}var Ms=R6();function D6(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function M6({type:t,reducerName:e,createNotation:n},r,s){let o,a;if("reducer"in r){if(n&&!F6(r))throw new Error(qr(17));o=r.reducer,a=r.prepare}else o=r;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?Vr(t,a):Vr(t))}function L6(t){return t._reducerDefinitionType==="asyncThunk"}function F6(t){return t._reducerDefinitionType==="reducerWithPrepare"}function U6({type:t,reducerName:e},n,r,s){if(!s)throw new Error(qr(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:c,settled:u,options:h}=n,f=s(t,o,h);r.exposeAction(e,f),a&&r.addCase(f.fulfilled,a),l&&r.addCase(f.pending,l),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:a||Uh,pending:l||Uh,rejected:c||Uh,settled:u||Uh})}function Uh(){}function qr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $6=class extends Error{constructor(e){super(e[0].message);Ca(this,"issues");this.name="SchemaError",this.issues=e}},lT=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(lT||{});function o1(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var a1=Ki;function O0(t,e){if(t===e||!(a1(t)&&a1(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let s=n.length===r.length;const o=Array.isArray(e)?[]:{};for(const a of n)o[a]=O0(t[a],e[a]),s&&(s=t[a]===o[a]);return s?t:o}function Cy(t){let e=0;for(const n in t)e++;return e}var l1=t=>[].concat(...t);function B6(t){return new RegExp("(^|:)//").test(t)}function z6(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Sp(t){return t!=null}function V6(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var q6=t=>t.replace(/\/$/,""),W6=t=>t.replace(/^\//,"");function H6(t,e){if(!t)return e;if(!e)return t;if(B6(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=q6(t),e=W6(e),`${t}${n}${e}`}function G6(t,e,n){return t.has(e)?t.get(e):t.set(e,n).get(e)}function Nx(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}var Sx=()=>new Map,c1=(...t)=>fetch(...t),Q6=t=>t.status>=200&&t.status<=299,K6=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function u1(t){if(!Ki(t))return t;const e={...t};for(const[n,r]of Object.entries(e))r===void 0&&delete e[n];return e}function xr({baseUrl:t,prepareHeaders:e=f=>f,fetchFn:n=c1,paramsSerializer:r,isJsonContentType:s=K6,jsonContentType:o="application/json",jsonReplacer:a,timeout:l,responseHandler:c,validateStatus:u,...h}={}){return typeof fetch>"u"&&n===c1&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(p,g,w)=>{const{getState:v,extra:y,endpoint:_,forced:N,type:b}=g;let j,{url:I,headers:O=new Headers(h.headers),params:S=void 0,responseHandler:x=c??"json",validateStatus:E=u??Q6,timeout:k=l,...R}=typeof p=="string"?{url:p}:p,P,T=g.signal;k&&(P=new AbortController,g.signal.addEventListener("abort",P.abort),T=P.signal);let L={...h,signal:T,...R};O=new Headers(u1(O)),L.headers=await e(O,{getState:v,arg:p,extra:y,endpoint:_,forced:N,type:b,extraOptions:w})||O;const q=K=>typeof K=="object"&&(Ki(K)||Array.isArray(K)||typeof K.toJSON=="function");if(!L.headers.has("content-type")&&q(L.body)&&L.headers.set("content-type",o),q(L.body)&&s(L.headers)&&(L.body=JSON.stringify(L.body,a)),S){const K=~I.indexOf("?")?"&":"?",V=r?r(S):new URLSearchParams(u1(S));I+=K+V}I=H6(t,I);const z=new Request(I,L);j={request:new Request(I,L)};let D,F=!1,W=P&&setTimeout(()=>{F=!0,P.abort()},k);try{D=await n(z)}catch(K){return{error:{status:F?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(K)},meta:j}}finally{W&&clearTimeout(W),P==null||P.signal.removeEventListener("abort",P.abort)}const X=D.clone();j.response=X;let Z,$="";try{let K;if(await Promise.all([f(D,x).then(V=>Z=V,V=>K=V),X.text().then(V=>$=V,()=>{})]),K)throw K}catch(K){return{error:{status:"PARSING_ERROR",originalStatus:D.status,data:$,error:String(K)},meta:j}}return E(D,Z)?{data:Z,meta:j}:{error:{status:D.status,data:Z},meta:j}};async function f(p,g){if(typeof g=="function")return g(p);if(g==="content-type"&&(g=s(p.headers)?"json":"text"),g==="json"){const w=await p.text();return w.length?JSON.parse(w):null}return p.text()}}var d1=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Mm=Vr("__rtkq/focused"),D0=Vr("__rtkq/unfocused"),Lm=Vr("__rtkq/online"),M0=Vr("__rtkq/offline"),ky=!1;function Y6(t,e){function n(){const r=()=>t(Mm()),s=()=>t(D0()),o=()=>t(Lm()),a=()=>t(M0()),l=()=>{window.document.visibilityState==="visible"?r():s()};return ky||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",o,!1),window.addEventListener("offline",a,!1),ky=!0),()=>{window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",l),window.removeEventListener("online",o),window.removeEventListener("offline",a),ky=!1}}return n()}function Fm(t){return t.type==="query"}function X6(t){return t.type==="mutation"}function Um(t){return t.type==="infinitequery"}function jp(t){return Fm(t)||Um(t)}function L0(t,e,n,r,s,o){return J6(t)?t(e,n,r,s).filter(Sp).map(jx).map(o):Array.isArray(t)?t.map(jx).map(o):[]}function J6(t){return typeof t=="function"}function jx(t){return typeof t=="string"?{type:t}:t}function Z6(t,e){return t.catch(e)}var Ku=Symbol("forceQueryFn"),Cx=t=>typeof t[Ku]=="function";function eF({serializeQueryArgs:t,queryThunk:e,infiniteQueryThunk:n,mutationThunk:r,api:s,context:o,internalState:a}){const{runningQueries:l,runningMutations:c}=a,{unsubscribeQueryResult:u,removeMutationResult:h,updateSubscriptionOptions:f}=s.internalActions;return{buildInitiateQuery:_,buildInitiateInfiniteQuery:N,buildInitiateMutation:b,getRunningQueryThunk:p,getRunningMutationThunk:g,getRunningQueriesThunk:w,getRunningMutationsThunk:v};function p(j,I){return O=>{var E;const S=o.endpointDefinitions[j],x=t({queryArgs:I,endpointDefinition:S,endpointName:j});return(E=l.get(O))==null?void 0:E[x]}}function g(j,I){return O=>{var S;return(S=c.get(O))==null?void 0:S[I]}}function w(){return j=>Object.values(l.get(j)||{}).filter(Sp)}function v(){return j=>Object.values(c.get(j)||{}).filter(Sp)}function y(j,I){const O=(S,{subscribe:x=!0,forceRefetch:E,subscriptionOptions:k,[Ku]:R,...P}={})=>(T,L)=>{var U;const q=t({queryArgs:S,endpointDefinition:I,endpointName:j});let z;const B={...P,type:"query",subscribe:x,forceRefetch:E,subscriptionOptions:k,endpointName:j,originalArgs:S,queryCacheKey:q,[Ku]:R};if(Fm(I))z=e(B);else{const{direction:J,initialPageParam:Q}=P;z=n({...B,direction:J,initialPageParam:Q})}const D=s.endpoints[j].select(S),F=T(z),W=D(L()),{requestId:X,abort:Z}=F,$=W.requestId!==X,K=(U=l.get(T))==null?void 0:U[q],V=()=>D(L()),H=Object.assign(R?F.then(V):$&&!K?Promise.resolve(W):Promise.all([K,F]).then(V),{arg:S,requestId:X,subscriptionOptions:k,queryCacheKey:q,abort:Z,async unwrap(){const J=await H;if(J.isError)throw J.error;return J.data},refetch:()=>T(O(S,{subscribe:!1,forceRefetch:!0})),unsubscribe(){x&&T(u({queryCacheKey:q,requestId:X}))},updateSubscriptionOptions(J){H.subscriptionOptions=J,T(f({endpointName:j,requestId:X,queryCacheKey:q,options:J}))}});if(!K&&!$&&!R){const J=G6(l,T,{});J[q]=H,H.then(()=>{delete J[q],Cy(J)||l.delete(T)})}return H};return O}function _(j,I){return y(j,I)}function N(j,I){return y(j,I)}function b(j){return(I,{track:O=!0,fixedCacheKey:S}={})=>(x,E)=>{const k=r({type:"mutation",endpointName:j,originalArgs:I,track:O,fixedCacheKey:S}),R=x(k),{requestId:P,abort:T,unwrap:L}=R,q=Z6(R.unwrap().then(F=>({data:F})),F=>({error:F})),z=()=>{x(h({requestId:P,fixedCacheKey:S}))},B=Object.assign(q,{arg:R.arg,requestId:P,abort:T,unwrap:L,reset:z}),D=c.get(x)||{};return c.set(x,D),D[P]=B,B.then(()=>{delete D[P],Cy(D)||c.delete(x)}),S&&(D[S]=B,B.then(()=>{D[S]===B&&(delete D[S],Cy(D)||c.delete(x))})),B}}}var cT=class extends $6{constructor(t,e,n,r){super(t),this.value=e,this.schemaName=n,this._bqMeta=r}},go=(t,e)=>Array.isArray(t)?t.includes(e):!!t;async function yo(t,e,n,r){const s=await t["~standard"].validate(e);if(s.issues)throw new cT(s.issues,e,n,r);return s.value}function h1(t){return t}var Rc=(t={})=>({...t,[Rm]:!0});function tF({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:s,assertTagType:o,selectors:a,onSchemaFailure:l,catchSchemaFailure:c,skipSchemaValidation:u}){const h=(R,P,T,L)=>(q,z)=>{const B=n[R],D=r({queryArgs:P,endpointDefinition:B,endpointName:R});if(q(s.internalActions.queryResultPatched({queryCacheKey:D,patches:T})),!L)return;const F=s.endpoints[R].select(P)(z()),W=L0(B.providesTags,F.data,void 0,P,{},o);q(s.internalActions.updateProvidedBy([{queryCacheKey:D,providedTags:W}]))};function f(R,P,T=0){const L=[P,...R];return T&&L.length>T?L.slice(0,-1):L}function p(R,P,T=0){const L=[...R,P];return T&&L.length>T?L.slice(1):L}const g=(R,P,T,L=!0)=>(q,z)=>{const D=s.endpoints[R].select(P)(z()),F={patches:[],inversePatches:[],undo:()=>q(s.util.patchQueryData(R,P,F.inversePatches,L))};if(D.status==="uninitialized")return F;let W;if("data"in D)if(Qr(D.data)){const[X,Z,$]=rT(D.data,T);F.patches.push(...Z),F.inversePatches.push(...$),W=X}else W=T(D.data),F.patches.push({op:"replace",path:[],value:W}),F.inversePatches.push({op:"replace",path:[],value:D.data});return F.patches.length===0||q(s.util.patchQueryData(R,P,F.patches,L)),F},w=(R,P,T)=>L=>L(s.endpoints[R].initiate(P,{subscribe:!1,forceRefetch:!0,[Ku]:()=>({data:T})})),v=(R,P)=>R.query&&R[P]?R[P]:h1,y=async(R,{signal:P,abort:T,rejectWithValue:L,fulfillWithValue:q,dispatch:z,getState:B,extra:D})=>{var Z,$;const F=n[R.endpointName],{metaSchema:W,skipSchemaValidation:X=u}=F;try{let K=h1;const V={signal:P,abort:T,dispatch:z,getState:B,extra:D,endpoint:R.endpointName,type:R.type,forced:R.type==="query"?_(R,B()):void 0,queryCacheKey:R.type==="query"?R.queryCacheKey:void 0},H=R.type==="query"?R[Ku]:void 0;let U;const J=async(ee,re,ne,ye)=>{if(re==null&&ee.pages.length)return Promise.resolve({data:ee});const fe={queryArg:R.originalArgs,pageParam:re},ze=await Q(fe),se=ye?f:p;return{data:{pages:se(ee.pages,ze.data,ne),pageParams:se(ee.pageParams,re,ne)},meta:ze.meta}};async function Q(ee){let re;const{extraOptions:ne,argSchema:ye,rawResponseSchema:fe,responseSchema:ze}=F;if(ye&&!go(X,"arg")&&(ee=await yo(ye,ee,"argSchema",{})),H?re=H():F.query?(K=v(F,"transformResponse"),re=await e(F.query(ee),V,ne)):re=await F.queryFn(ee,V,ne,_e=>e(_e,V,ne)),typeof process<"u",re.error)throw new d1(re.error,re.meta);let{data:se}=re;fe&&!go(X,"rawResponse")&&(se=await yo(fe,re.data,"rawResponseSchema",re.meta));let we=await K(se,re.meta,ee);return ze&&!go(X,"response")&&(we=await yo(ze,we,"responseSchema",re.meta)),{...re,data:we}}if(R.type==="query"&&"infiniteQueryOptions"in F){const{infiniteQueryOptions:ee}=F,{maxPages:re=1/0}=ee;let ne;const ye={pages:[],pageParams:[]},fe=(Z=a.selectQueryEntry(B(),R.queryCacheKey))==null?void 0:Z.data,se=_(R,B())&&!R.direction||!fe?ye:fe;if("direction"in R&&R.direction&&se.pages.length){const we=R.direction==="backward",Qe=(we?uT:kx)(ee,se,R.originalArgs);ne=await J(se,Qe,re,we)}else{const{initialPageParam:we=ee.initialPageParam}=R,_e=(fe==null?void 0:fe.pageParams)??[],Qe=_e[0]??we,zt=_e.length;ne=await J(se,Qe,re),H&&(ne={data:ne.data.pages[0]});for(let Je=1;Je<zt;Je++){const wt=kx(ee,ne.data,R.originalArgs);ne=await J(ne.data,wt,re)}}U=ne}else U=await Q(R.originalArgs);return W&&!go(X,"meta")&&U.meta&&(U.meta=await yo(W,U.meta,"metaSchema",U.meta)),q(U.data,Rc({fulfilledTimeStamp:Date.now(),baseQueryMeta:U.meta}))}catch(K){let V=K;if(V instanceof d1){let H=v(F,"transformErrorResponse");const{rawErrorResponseSchema:U,errorResponseSchema:J}=F;let{value:Q,meta:ee}=V;try{U&&!go(X,"rawErrorResponse")&&(Q=await yo(U,Q,"rawErrorResponseSchema",ee)),W&&!go(X,"meta")&&(ee=await yo(W,ee,"metaSchema",ee));let re=await H(Q,ee,R.originalArgs);return J&&!go(X,"errorResponse")&&(re=await yo(J,re,"errorResponseSchema",ee)),L(re,Rc({baseQueryMeta:ee}))}catch(re){V=re}}try{if(V instanceof cT){const H={endpoint:R.endpointName,arg:R.originalArgs,type:R.type,queryCacheKey:R.type==="query"?R.queryCacheKey:void 0};($=F.onSchemaFailure)==null||$.call(F,V,H),l==null||l(V,H);const{catchSchemaFailure:U=c}=F;if(U)return L(U(V,H),Rc({baseQueryMeta:V._bqMeta}))}}catch(H){V=H}throw console.error(V),V}};function _(R,P){const T=a.selectQueryEntry(P,R.queryCacheKey),L=a.selectConfig(P).refetchOnMountOrArgChange,q=T==null?void 0:T.fulfilledTimeStamp,z=R.forceRefetch??(R.subscribe&&L);return z?z===!0||(Number(new Date)-Number(q))/1e3>=z:!1}const N=()=>i1(`${t}/executeQuery`,y,{getPendingMeta({arg:P}){const T=n[P.endpointName];return Rc({startedTimeStamp:Date.now(),...Um(T)?{direction:P.direction}:{}})},condition(P,{getState:T}){var X;const L=T(),q=a.selectQueryEntry(L,P.queryCacheKey),z=q==null?void 0:q.fulfilledTimeStamp,B=P.originalArgs,D=q==null?void 0:q.originalArgs,F=n[P.endpointName],W=P.direction;return Cx(P)?!0:(q==null?void 0:q.status)==="pending"?!1:_(P,L)||Fm(F)&&((X=F==null?void 0:F.forceRefetch)!=null&&X.call(F,{currentArg:B,previousArg:D,endpointState:q,state:L}))?!0:!(z&&!W)},dispatchConditionRejection:!0}),b=N(),j=N(),I=i1(`${t}/executeMutation`,y,{getPendingMeta(){return Rc({startedTimeStamp:Date.now()})}}),O=R=>"force"in R,S=R=>"ifOlderThan"in R,x=(R,P,T)=>(L,q)=>{const z=O(T)&&T.force,B=S(T)&&T.ifOlderThan,D=(W=!0)=>{const X={forceRefetch:W,isPrefetch:!0};return s.endpoints[R].initiate(P,X)},F=s.endpoints[R].select(P)(q());if(z)L(D());else if(B){const W=F==null?void 0:F.fulfilledTimeStamp;if(!W){L(D());return}(Number(new Date)-Number(new Date(W)))/1e3>=B&&L(D())}else L(D(!1))};function E(R){return P=>{var T,L;return((L=(T=P==null?void 0:P.meta)==null?void 0:T.arg)==null?void 0:L.endpointName)===R}}function k(R,P){return{matchPending:mu(A0(R),E(P)),matchFulfilled:mu(Yi(R),E(P)),matchRejected:mu(Pl(R),E(P))}}return{queryThunk:b,mutationThunk:I,infiniteQueryThunk:j,prefetch:x,updateQueryData:g,upsertQueryData:w,patchQueryData:h,buildMatchThunkActions:k}}function kx(t,{pages:e,pageParams:n},r){const s=e.length-1;return t.getNextPageParam(e[s],e,n[s],n,r)}function uT(t,{pages:e,pageParams:n},r){var s;return(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n,r)}function dT(t,e,n,r){return L0(n[t.meta.arg.endpointName][e],Yi(t)?t.payload:void 0,Dm(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function $h(t,e,n){const r=t[e];r&&n(r)}function Yu(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function f1(t,e,n){const r=t[Yu(e)];r&&n(r)}var Bh={};function nF({reducerPath:t,queryThunk:e,mutationThunk:n,serializeQueryArgs:r,context:{endpointDefinitions:s,apiUid:o,extractRehydrationInfo:a,hasRehydrationInfo:l},assertTagType:c,config:u}){const h=Vr(`${t}/resetApiState`);function f(E,k,R,P){var T;E[T=k.queryCacheKey]??(E[T]={status:"uninitialized",endpointName:k.endpointName}),$h(E,k.queryCacheKey,L=>{L.status="pending",L.requestId=R&&L.requestId?L.requestId:P.requestId,k.originalArgs!==void 0&&(L.originalArgs=k.originalArgs),L.startedTimeStamp=P.startedTimeStamp;const q=s[P.arg.endpointName];Um(q)&&"direction"in k&&(L.direction=k.direction)})}function p(E,k,R,P){$h(E,k.arg.queryCacheKey,T=>{if(T.requestId!==k.requestId&&!P)return;const{merge:L}=s[k.arg.endpointName];if(T.status="fulfilled",L)if(T.data!==void 0){const{fulfilledTimeStamp:q,arg:z,baseQueryMeta:B,requestId:D}=k;let F=Ld(T.data,W=>L(W,R,{arg:z.originalArgs,baseQueryMeta:B,fulfilledTimeStamp:q,requestId:D}));T.data=F}else T.data=R;else T.data=s[k.arg.endpointName].structuralSharing??!0?O0(vs(T.data)?K5(T.data):T.data,R):R;delete T.error,T.fulfilledTimeStamp=k.fulfilledTimeStamp})}const g=Ms({name:`${t}/queries`,initialState:Bh,reducers:{removeQueryResult:{reducer(E,{payload:{queryCacheKey:k}}){delete E[k]},prepare:Ac()},cacheEntriesUpserted:{reducer(E,k){for(const R of k.payload){const{queryDescription:P,value:T}=R;f(E,P,!0,{arg:P,requestId:k.meta.requestId,startedTimeStamp:k.meta.timestamp}),p(E,{arg:P,requestId:k.meta.requestId,fulfilledTimeStamp:k.meta.timestamp,baseQueryMeta:{}},T,!0)}},prepare:E=>({payload:E.map(P=>{const{endpointName:T,arg:L,value:q}=P,z=s[T];return{queryDescription:{type:"query",endpointName:T,originalArgs:P.arg,queryCacheKey:r({queryArgs:L,endpointDefinition:z,endpointName:T})},value:q}}),meta:{[Rm]:!0,requestId:R0(),timestamp:Date.now()}})},queryResultPatched:{reducer(E,{payload:{queryCacheKey:k,patches:R}}){$h(E,k,P=>{P.data=JS(P.data,R.concat())})},prepare:Ac()}},extraReducers(E){E.addCase(e.pending,(k,{meta:R,meta:{arg:P}})=>{const T=Cx(P);f(k,P,T,R)}).addCase(e.fulfilled,(k,{meta:R,payload:P})=>{const T=Cx(R.arg);p(k,R,P,T)}).addCase(e.rejected,(k,{meta:{condition:R,arg:P,requestId:T},error:L,payload:q})=>{$h(k,P.queryCacheKey,z=>{if(!R){if(z.requestId!==T)return;z.status="rejected",z.error=q??L}})}).addMatcher(l,(k,R)=>{const{queries:P}=a(R);for(const[T,L]of Object.entries(P))((L==null?void 0:L.status)==="fulfilled"||(L==null?void 0:L.status)==="rejected")&&(k[T]=L)})}}),w=Ms({name:`${t}/mutations`,initialState:Bh,reducers:{removeMutationResult:{reducer(E,{payload:k}){const R=Yu(k);R in E&&delete E[R]},prepare:Ac()}},extraReducers(E){E.addCase(n.pending,(k,{meta:R,meta:{requestId:P,arg:T,startedTimeStamp:L}})=>{T.track&&(k[Yu(R)]={requestId:P,status:"pending",endpointName:T.endpointName,startedTimeStamp:L})}).addCase(n.fulfilled,(k,{payload:R,meta:P})=>{P.arg.track&&f1(k,P,T=>{T.requestId===P.requestId&&(T.status="fulfilled",T.data=R,T.fulfilledTimeStamp=P.fulfilledTimeStamp)})}).addCase(n.rejected,(k,{payload:R,error:P,meta:T})=>{T.arg.track&&f1(k,T,L=>{L.requestId===T.requestId&&(L.status="rejected",L.error=R??P)})}).addMatcher(l,(k,R)=>{const{mutations:P}=a(R);for(const[T,L]of Object.entries(P))((L==null?void 0:L.status)==="fulfilled"||(L==null?void 0:L.status)==="rejected")&&T!==(L==null?void 0:L.requestId)&&(k[T]=L)})}}),v={tags:{},keys:{}},y=Ms({name:`${t}/invalidation`,initialState:v,reducers:{updateProvidedBy:{reducer(E,k){var R,P,T;for(const{queryCacheKey:L,providedTags:q}of k.payload){_(E,L);for(const{type:z,id:B}of q){const D=(P=(R=E.tags)[z]??(R[z]={}))[T=B||"__internal_without_id"]??(P[T]=[]);D.includes(L)||D.push(L)}E.keys[L]=q}},prepare:Ac()}},extraReducers(E){E.addCase(g.actions.removeQueryResult,(k,{payload:{queryCacheKey:R}})=>{_(k,R)}).addMatcher(l,(k,R)=>{var T,L,q;const{provided:P}=a(R);for(const[z,B]of Object.entries(P.tags??{}))for(const[D,F]of Object.entries(B)){const W=(L=(T=k.tags)[z]??(T[z]={}))[q=D||"__internal_without_id"]??(L[q]=[]);for(const X of F)W.includes(X)||W.push(X),k.keys[X]=P.keys[X]}}).addMatcher(ei(Yi(e),Dm(e)),(k,R)=>{N(k,[R])}).addMatcher(g.actions.cacheEntriesUpserted.match,(k,R)=>{const P=R.payload.map(({queryDescription:T,value:L})=>({type:"UNKNOWN",payload:L,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:T}}));N(k,P)})}});function _(E,k){var P;const R=E.keys[k]??[];for(const T of R){const L=T.type,q=T.id??"__internal_without_id",z=(P=E.tags[L])==null?void 0:P[q];z&&(E.tags[L][q]=z.filter(B=>B!==k))}delete E.keys[k]}function N(E,k){const R=k.map(P=>{const T=dT(P,"providesTags",s,c),{queryCacheKey:L}=P.meta.arg;return{queryCacheKey:L,providedTags:T}});y.caseReducers.updateProvidedBy(E,y.actions.updateProvidedBy(R))}const b=Ms({name:`${t}/subscriptions`,initialState:Bh,reducers:{updateSubscriptionOptions(E,k){},unsubscribeQueryResult(E,k){},internal_getRTKQSubscriptions(){}}}),j=Ms({name:`${t}/internalSubscriptions`,initialState:Bh,reducers:{subscriptionsUpdated:{reducer(E,k){return JS(E,k.payload)},prepare:Ac()}}}),I=Ms({name:`${t}/config`,initialState:{online:V6(),focused:z6(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(E,{payload:k}){E.middlewareRegistered=E.middlewareRegistered==="conflict"||o!==k?"conflict":!0}},extraReducers:E=>{E.addCase(Lm,k=>{k.online=!0}).addCase(M0,k=>{k.online=!1}).addCase(Mm,k=>{k.focused=!0}).addCase(D0,k=>{k.focused=!1}).addMatcher(l,k=>({...k}))}}),O=Y2({queries:g.reducer,mutations:w.reducer,provided:y.reducer,subscriptions:j.reducer,config:I.reducer}),S=(E,k)=>O(h.match(k)?void 0:E,k),x={...I.actions,...g.actions,...b.actions,...j.actions,...w.actions,...y.actions,resetApiState:h};return{reducer:S,actions:x}}var Pr=Symbol.for("RTKQ/skipToken"),hT={status:"uninitialized"},p1=Ld(hT,()=>{}),m1=Ld(hT,()=>{});function rF({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=b=>p1,s=b=>m1;return{buildQuerySelector:p,buildInfiniteQuerySelector:g,buildMutationSelector:w,selectInvalidatedBy:v,selectCachedArgsForQuery:y,selectApiState:a,selectQueries:l,selectMutations:u,selectQueryEntry:c,selectConfig:h};function o(b){return{...b,...o1(b.status)}}function a(b){return b[e]}function l(b){var j;return(j=a(b))==null?void 0:j.queries}function c(b,j){var I;return(I=l(b))==null?void 0:I[j]}function u(b){var j;return(j=a(b))==null?void 0:j.mutations}function h(b){var j;return(j=a(b))==null?void 0:j.config}function f(b,j,I){return O=>{if(O===Pr)return n(r,I);const S=t({queryArgs:O,endpointDefinition:j,endpointName:b});return n(E=>c(E,S)??p1,I)}}function p(b,j){return f(b,j,o)}function g(b,j){const{infiniteQueryOptions:I}=j;function O(S){const x={...S,...o1(S.status)},{isLoading:E,isError:k,direction:R}=x,P=R==="forward",T=R==="backward";return{...x,hasNextPage:_(I,x.data,x.originalArgs),hasPreviousPage:N(I,x.data,x.originalArgs),isFetchingNextPage:E&&P,isFetchingPreviousPage:E&&T,isFetchNextPageError:k&&P,isFetchPreviousPageError:k&&T}}return f(b,j,O)}function w(){return b=>{let j;return typeof b=="object"?j=Yu(b)??Pr:j=b,n(j===Pr?s:S=>{var x,E;return((E=(x=a(S))==null?void 0:x.mutations)==null?void 0:E[j])??m1},o)}}function v(b,j){const I=b[e],O=new Set;for(const S of j.filter(Sp).map(jx)){const x=I.provided.tags[S.type];if(!x)continue;let E=(S.id!==void 0?x[S.id]:l1(Object.values(x)))??[];for(const k of E)O.add(k)}return l1(Array.from(O.values()).map(S=>{const x=I.queries[S];return x?[{queryCacheKey:S,endpointName:x.endpointName,originalArgs:x.originalArgs}]:[]}))}function y(b,j){return Object.values(l(b)).filter(I=>(I==null?void 0:I.endpointName)===j&&I.status!=="uninitialized").map(I=>I.originalArgs)}function _(b,j,I){return j?kx(b,j,I)!=null:!1}function N(b,j,I){return!j||!b.getPreviousPageParam?!1:uT(b,j,I)!=null}}var Ea=WeakMap?new WeakMap:void 0,g1=({endpointName:t,queryArgs:e})=>{let n="";const r=Ea==null?void 0:Ea.get(e);if(typeof r=="string")n=r;else{const s=JSON.stringify(e,(o,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=Ki(a)?Object.keys(a).sort().reduce((l,c)=>(l[c]=a[c],l),{}):a,a));Ki(e)&&(Ea==null||Ea.set(e,s)),n=s}return`${t}(${n})`};function fT(...t){return function(n){const r=Np(u=>{var h;return(h=n.extractRehydrationInfo)==null?void 0:h.call(n,u,{reducerPath:n.reducerPath??"api"})}),s={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(u){let h=g1;if("serializeQueryArgs"in u.endpointDefinition){const f=u.endpointDefinition.serializeQueryArgs;h=p=>{const g=f(p);return typeof g=="string"?g:g1({...p,queryArgs:g})}}else n.serializeQueryArgs&&(h=n.serializeQueryArgs);return h(u)},tagTypes:[...n.tagTypes||[]]},o={endpointDefinitions:{},batch(u){u()},apiUid:R0(),extractRehydrationInfo:r,hasRehydrationInfo:Np(u=>r(u)!=null)},a={injectEndpoints:c,enhanceEndpoints({addTagTypes:u,endpoints:h}){if(u)for(const f of u)s.tagTypes.includes(f)||s.tagTypes.push(f);if(h)for(const[f,p]of Object.entries(h))typeof p=="function"?p(o.endpointDefinitions[f]):Object.assign(o.endpointDefinitions[f]||{},p);return a}},l=t.map(u=>u.init(a,s,o));function c(u){const h=u.endpoints({query:f=>({...f,type:"query"}),mutation:f=>({...f,type:"mutation"}),infiniteQuery:f=>({...f,type:"infinitequery"})});for(const[f,p]of Object.entries(h)){if(u.overrideExisting!==!0&&f in o.endpointDefinitions){if(u.overrideExisting==="throw")throw new Error(qr(39));continue}o.endpointDefinitions[f]=p;for(const g of l)g.injectEndpoint(f,p)}return a}return a.injectEndpoints({endpoints:n.endpoints})}}function Ps(t,...e){return Object.assign(t,...e)}var sF=({api:t,queryThunk:e,internalState:n,mwApi:r})=>{const s=`${t.reducerPath}/subscriptions`;let o=null,a=null;const{updateSubscriptionOptions:l,unsubscribeQueryResult:c}=t.internalActions,u=(v,y)=>{if(l.match(y)){const{queryCacheKey:N,requestId:b,options:j}=y.payload,I=v.get(N);return I!=null&&I.has(b)&&I.set(b,j),!0}if(c.match(y)){const{queryCacheKey:N,requestId:b}=y.payload,j=v.get(N);return j&&j.delete(b),!0}if(t.internalActions.removeQueryResult.match(y))return v.delete(y.payload.queryCacheKey),!0;if(e.pending.match(y)){const{meta:{arg:N,requestId:b}}=y,j=Nx(v,N.queryCacheKey,Sx);return N.subscribe&&j.set(b,N.subscriptionOptions??j.get(b)??{}),!0}let _=!1;if(e.rejected.match(y)){const{meta:{condition:N,arg:b,requestId:j}}=y;if(N&&b.subscribe){const I=Nx(v,b.queryCacheKey,Sx);I.set(j,b.subscriptionOptions??I.get(j)??{}),_=!0}}return _},h=()=>n.currentSubscriptions,g={getSubscriptions:h,getSubscriptionCount:v=>{const _=h().get(v);return(_==null?void 0:_.size)??0},isRequestSubscribed:(v,y)=>{var N;const _=h();return!!((N=_==null?void 0:_.get(v))!=null&&N.get(y))}};function w(v){return JSON.parse(JSON.stringify(Object.fromEntries([...v].map(([y,_])=>[y,Object.fromEntries(_)]))))}return(v,y)=>{if(o||(o=w(n.currentSubscriptions)),t.util.resetApiState.match(v))return o={},n.currentSubscriptions.clear(),a=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(v))return[!1,g];const _=u(n.currentSubscriptions,v);let N=!0;if(_){a||(a=setTimeout(()=>{const I=w(n.currentSubscriptions),[,O]=rT(o,()=>I);y.next(t.internalActions.subscriptionsUpdated(O)),o=I,a=null},500));const b=typeof v.type=="string"&&!!v.type.startsWith(s),j=e.rejected.match(v)&&v.meta.condition&&!!v.meta.arg.subscribe;N=!b&&!j}return[N,!1]}},iF=2147483647/1e3-1,oF=({reducerPath:t,api:e,queryThunk:n,context:r,internalState:s,selectors:{selectQueryEntry:o,selectConfig:a},getRunningQueryThunk:l,mwApi:c})=>{const{removeQueryResult:u,unsubscribeQueryResult:h,cacheEntriesUpserted:f}=e.internalActions,p=s.runningQueries.get(c.dispatch),g=ei(h.match,n.fulfilled,n.rejected,f.match);function w(b){const j=s.currentSubscriptions.get(b);if(!j)return!1;const I=j.size>0,O=(p==null?void 0:p[b])!==void 0;return I||O}const v={},y=(b,j,I)=>{const O=j.getState(),S=a(O);if(g(b)){let x;if(f.match(b))x=b.payload.map(E=>E.queryDescription.queryCacheKey);else{const{queryCacheKey:E}=h.match(b)?b.payload:b.meta.arg;x=[E]}_(x,j,S)}if(e.util.resetApiState.match(b))for(const[x,E]of Object.entries(v))E&&clearTimeout(E),delete v[x];if(r.hasRehydrationInfo(b)){const{queries:x}=r.extractRehydrationInfo(b);_(Object.keys(x),j,S)}};function _(b,j,I){const O=j.getState();for(const S of b){const x=o(O,S);x!=null&&x.endpointName&&N(S,x.endpointName,j,I)}}function N(b,j,I,O){const S=r.endpointDefinitions[j],x=(S==null?void 0:S.keepUnusedDataFor)??O.keepUnusedDataFor;if(x===1/0)return;const E=Math.max(0,Math.min(x,iF));if(!w(b)){const k=v[b];k&&clearTimeout(k),v[b]=setTimeout(()=>{if(!w(b)){const R=o(I.getState(),b);if(R!=null&&R.endpointName){const P=I.dispatch(l(R.endpointName,R.originalArgs));P==null||P.abort()}I.dispatch(u({queryCacheKey:b}))}delete v[b]},E*1e3)}}return y},y1=new Error("Promise never resolved before cacheEntryRemoved."),aF=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:s,internalState:o,selectors:{selectQueryEntry:a,selectApiState:l}})=>{const c=_x(r),u=_x(s),h=Yi(r,s),f={};function p(_,N,b){const j=f[_];j!=null&&j.valueResolved&&(j.valueResolved({data:N,meta:b}),delete j.valueResolved)}function g(_){const N=f[_];N&&(delete f[_],N.cacheEntryRemoved())}const w=(_,N,b)=>{const j=v(_);function I(O,S,x,E){const k=a(b,S),R=a(N.getState(),S);!k&&R&&y(O,E,S,N,x)}if(r.pending.match(_))I(_.meta.arg.endpointName,j,_.meta.requestId,_.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(_))for(const{queryDescription:O,value:S}of _.payload){const{endpointName:x,originalArgs:E,queryCacheKey:k}=O;I(x,k,_.meta.requestId,E),p(k,S,{})}else if(s.pending.match(_))N.getState()[e].mutations[j]&&y(_.meta.arg.endpointName,_.meta.arg.originalArgs,j,N,_.meta.requestId);else if(h(_))p(j,_.payload,_.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(_)||t.internalActions.removeMutationResult.match(_))g(j);else if(t.util.resetApiState.match(_))for(const O of Object.keys(f))g(O)};function v(_){return c(_)?_.meta.arg.queryCacheKey:u(_)?_.meta.arg.fixedCacheKey??_.meta.requestId:t.internalActions.removeQueryResult.match(_)?_.payload.queryCacheKey:t.internalActions.removeMutationResult.match(_)?Yu(_.payload):""}function y(_,N,b,j,I){const O=n.endpointDefinitions[_],S=O==null?void 0:O.onCacheEntryAdded;if(!S)return;const x={},E=new Promise(q=>{x.cacheEntryRemoved=q}),k=Promise.race([new Promise(q=>{x.valueResolved=q}),E.then(()=>{throw y1})]);k.catch(()=>{}),f[b]=x;const R=t.endpoints[_].select(jp(O)?N:b),P=j.dispatch((q,z,B)=>B),T={...j,getCacheEntry:()=>R(j.getState()),requestId:I,extra:P,updateCachedData:jp(O)?q=>j.dispatch(t.util.updateQueryData(_,N,q)):void 0,cacheDataLoaded:k,cacheEntryRemoved:E},L=S(N,T);Promise.resolve(L).catch(q=>{if(q!==y1)throw q})}return w},lF=({api:t,context:{apiUid:e},reducerPath:n})=>(r,s)=>{t.util.resetApiState.match(r)&&s.dispatch(t.internalActions.middlewareRegistered(e))},cF=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:s,api:o,assertTagType:a,refetchQuery:l,internalState:c})=>{const{removeQueryResult:u}=o.internalActions,h=ei(Yi(r),Dm(r)),f=ei(Yi(r,s),Pl(r,s));let p=[];const g=(y,_)=>{h(y)?v(dT(y,"invalidatesTags",n,a),_):f(y)?v([],_):o.util.invalidateTags.match(y)&&v(L0(y.payload,void 0,void 0,void 0,void 0,a),_)};function w(y){var b;const{queries:_,mutations:N}=y;for(const j of[_,N])for(const I in j)if(((b=j[I])==null?void 0:b.status)==="pending")return!0;return!1}function v(y,_){const N=_.getState(),b=N[t];if(p.push(...y),b.config.invalidationBehavior==="delayed"&&w(b))return;const j=p;if(p=[],j.length===0)return;const I=o.util.selectInvalidatedBy(N,j);e.batch(()=>{const O=Array.from(I.values());for(const{queryCacheKey:S}of O){const x=b.queries[S],E=Nx(c.currentSubscriptions,S,Sx);x&&(E.size===0?_.dispatch(u({queryCacheKey:S})):x.status!=="uninitialized"&&_.dispatch(l(x)))}})}return g},uF=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:s})=>{const{currentPolls:o,currentSubscriptions:a}=s,l=new Set;let c=null;const u=(y,_)=>{(n.internalActions.updateSubscriptionOptions.match(y)||n.internalActions.unsubscribeQueryResult.match(y))&&h(y.payload.queryCacheKey,_),(e.pending.match(y)||e.rejected.match(y)&&y.meta.condition)&&h(y.meta.arg.queryCacheKey,_),(e.fulfilled.match(y)||e.rejected.match(y)&&!y.meta.condition)&&f(y.meta.arg,_),n.util.resetApiState.match(y)&&(w(),c&&(clearTimeout(c),c=null),l.clear())};function h(y,_){l.add(y),c||(c=setTimeout(()=>{for(const N of l)p({queryCacheKey:N},_);l.clear(),c=null},0))}function f({queryCacheKey:y},_){const N=_.getState()[t],b=N.queries[y],j=a.get(y);if(!b||b.status==="uninitialized")return;const{lowestPollingInterval:I,skipPollingIfUnfocused:O}=v(j);if(!Number.isFinite(I))return;const S=o.get(y);S!=null&&S.timeout&&(clearTimeout(S.timeout),S.timeout=void 0);const x=Date.now()+I;o.set(y,{nextPollTimestamp:x,pollingInterval:I,timeout:setTimeout(()=>{(N.config.focused||!O)&&_.dispatch(r(b)),f({queryCacheKey:y},_)},I)})}function p({queryCacheKey:y},_){const b=_.getState()[t].queries[y],j=a.get(y);if(!b||b.status==="uninitialized")return;const{lowestPollingInterval:I}=v(j);if(!Number.isFinite(I)){g(y);return}const O=o.get(y),S=Date.now()+I;(!O||S<O.nextPollTimestamp)&&f({queryCacheKey:y},_)}function g(y){const _=o.get(y);_!=null&&_.timeout&&clearTimeout(_.timeout),o.delete(y)}function w(){for(const y of o.keys())g(y)}function v(y=new Map){let _=!1,N=Number.POSITIVE_INFINITY;for(const b of y.values())b.pollingInterval&&(N=Math.min(b.pollingInterval,N),_=b.skipPollingIfUnfocused||_);return{lowestPollingInterval:N,skipPollingIfUnfocused:_}}return u},dF=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const s=A0(n,r),o=Pl(n,r),a=Yi(n,r),l={};return(u,h)=>{var f,p;if(s(u)){const{requestId:g,arg:{endpointName:w,originalArgs:v}}=u.meta,y=e.endpointDefinitions[w],_=y==null?void 0:y.onQueryStarted;if(_){const N={},b=new Promise((S,x)=>{N.resolve=S,N.reject=x});b.catch(()=>{}),l[g]=N;const j=t.endpoints[w].select(jp(y)?v:g),I=h.dispatch((S,x,E)=>E),O={...h,getCacheEntry:()=>j(h.getState()),requestId:g,extra:I,updateCachedData:jp(y)?S=>h.dispatch(t.util.updateQueryData(w,v,S)):void 0,queryFulfilled:b};_(v,O)}}else if(a(u)){const{requestId:g,baseQueryMeta:w}=u.meta;(f=l[g])==null||f.resolve({data:u.payload,meta:w}),delete l[g]}else if(o(u)){const{requestId:g,rejectedWithValue:w,baseQueryMeta:v}=u.meta;(p=l[g])==null||p.reject({error:u.payload??u.error,isUnhandledError:!w,meta:v}),delete l[g]}}},hF=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:s})=>{const{removeQueryResult:o}=n.internalActions,a=(c,u)=>{Mm.match(c)&&l(u,"refetchOnFocus"),Lm.match(c)&&l(u,"refetchOnReconnect")};function l(c,u){const h=c.getState()[t],f=h.queries,p=s.currentSubscriptions;e.batch(()=>{for(const g of p.keys()){const w=f[g],v=p.get(g);if(!v||!w)continue;const y=[...v.values()];(y.some(N=>N[u]===!0)||y.every(N=>N[u]===void 0)&&h.config[u])&&(v.size===0?c.dispatch(o({queryCacheKey:g})):w.status!=="uninitialized"&&c.dispatch(r(w)))}})}return a};function fF(t){const{reducerPath:e,queryThunk:n,api:r,context:s,internalState:o}=t,{apiUid:a}=s,l={invalidateTags:Vr(`${e}/invalidateTags`)},c=p=>p.type.startsWith(`${e}/`),u=[lF,oF,cF,uF,aF,dF];return{middleware:p=>{let g=!1;const w={...t,internalState:o,refetchQuery:f,isThisApiSliceAction:c,mwApi:p},v=u.map(N=>N(w)),y=sF(w),_=hF(w);return N=>b=>{if(!X2(b))return N(b);g||(g=!0,p.dispatch(r.internalActions.middlewareRegistered(a)));const j={...p,next:N},I=p.getState(),[O,S]=y(b,j,I);let x;if(O?x=N(b):x=S,p.getState()[e]&&(_(b,j,I),c(b)||s.hasRehydrationInfo(b)))for(const E of v)E(b,j,I);return x}},actions:l};function f(p){return t.api.endpoints[p.endpointName].initiate(p.originalArgs,{subscribe:!1,forceRefetch:!0})}}var v1=Symbol(),pT=({createSelector:t=P0}={})=>({name:v1,init(e,{baseQuery:n,tagTypes:r,reducerPath:s,serializeQueryArgs:o,keepUnusedDataFor:a,refetchOnMountOrArgChange:l,refetchOnFocus:c,refetchOnReconnect:u,invalidationBehavior:h,onSchemaFailure:f,catchSchemaFailure:p,skipSchemaValidation:g},w){s6();const v=H=>H;Object.assign(e,{reducerPath:s,endpoints:{},internalActions:{onOnline:Lm,onOffline:M0,onFocus:Mm,onFocusLost:D0},util:{}});const y=rF({serializeQueryArgs:o,reducerPath:s,createSelector:t}),{selectInvalidatedBy:_,selectCachedArgsForQuery:N,buildQuerySelector:b,buildInfiniteQuerySelector:j,buildMutationSelector:I}=y;Ps(e.util,{selectInvalidatedBy:_,selectCachedArgsForQuery:N});const{queryThunk:O,infiniteQueryThunk:S,mutationThunk:x,patchQueryData:E,updateQueryData:k,upsertQueryData:R,prefetch:P,buildMatchThunkActions:T}=tF({baseQuery:n,reducerPath:s,context:w,api:e,serializeQueryArgs:o,assertTagType:v,selectors:y,onSchemaFailure:f,catchSchemaFailure:p,skipSchemaValidation:g}),{reducer:L,actions:q}=nF({context:w,queryThunk:O,mutationThunk:x,serializeQueryArgs:o,reducerPath:s,assertTagType:v,config:{refetchOnFocus:c,refetchOnReconnect:u,refetchOnMountOrArgChange:l,keepUnusedDataFor:a,reducerPath:s,invalidationBehavior:h}});Ps(e.util,{patchQueryData:E,updateQueryData:k,upsertQueryData:R,prefetch:P,resetApiState:q.resetApiState,upsertQueryEntries:q.cacheEntriesUpserted}),Ps(e.internalActions,q);const z={currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map},{buildInitiateQuery:B,buildInitiateInfiniteQuery:D,buildInitiateMutation:F,getRunningMutationThunk:W,getRunningMutationsThunk:X,getRunningQueriesThunk:Z,getRunningQueryThunk:$}=eF({queryThunk:O,mutationThunk:x,infiniteQueryThunk:S,api:e,serializeQueryArgs:o,context:w,internalState:z});Ps(e.util,{getRunningMutationThunk:W,getRunningMutationsThunk:X,getRunningQueryThunk:$,getRunningQueriesThunk:Z});const{middleware:K,actions:V}=fF({reducerPath:s,context:w,queryThunk:O,mutationThunk:x,infiniteQueryThunk:S,api:e,assertTagType:v,selectors:y,getRunningQueryThunk:$,internalState:z});return Ps(e.util,V),Ps(e,{reducer:L,middleware:K}),{name:v1,injectEndpoint(H,U){var ee;const Q=(ee=e.endpoints)[H]??(ee[H]={});Fm(U)&&Ps(Q,{name:H,select:b(H,U),initiate:B(H,U)},T(O,H)),X6(U)&&Ps(Q,{name:H,select:I(),initiate:F(H)},T(x,H)),Um(U)&&Ps(Q,{name:H,select:j(H,U),initiate:D(H,U)},T(O,H))}}}});pT();const zh=localStorage.getItem("token"),Vh=localStorage.getItem("user");let Ao=null,Ex=null,mT=!1;if(Vh&&Vh!=="undefined"&&Vh!=="null")try{Ao=JSON.parse(Vh),mT=(Ao==null?void 0:Ao.onboarding_completed)||!1}catch(t){console.error("Failed to parse user data from localStorage:",t),localStorage.removeItem("user"),localStorage.removeItem("token")}zh&&zh!=="undefined"&&zh!=="null"&&Ao?Ex=zh:(localStorage.removeItem("token"),localStorage.removeItem("user"));const pF={user:Ao,token:Ex,isAuthenticated:!!(Ex&&Ao),onboardingCompleted:mT,loading:!1,error:null},gT=Ms({name:"auth",initialState:pF,reducers:{setCredentials:(t,e)=>{const{user:n,token:r}=e.payload.data||e.payload;t.user=n,t.token=r,t.isAuthenticated=!0,t.onboardingCompleted=(n==null?void 0:n.onboarding_completed)||!1,t.error=null,localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(n))},updateOnboardingStatus:(t,e)=>{t.onboardingCompleted=e.payload,t.user&&(t.user.onboarding_completed=e.payload,localStorage.setItem("user",JSON.stringify(t.user)))},logout:t=>{t.user=null,t.token=null,t.isAuthenticated=!1,t.onboardingCompleted=!1,t.error=null,localStorage.removeItem("token"),localStorage.removeItem("user")},setLoading:(t,e)=>{t.loading=e.payload},setError:(t,e)=>{t.error=e.payload,t.loading=!1},clearError:t=>{t.error=null}}}),{setCredentials:yT,updateOnboardingStatus:mF,logout:Xl,setLoading:Zoe,setError:eae,clearError:tae}=gT.actions,gF=gT.reducer,Ss=t=>t.auth.user,F0=t=>t.auth.isAuthenticated,U0=t=>t.auth.onboardingCompleted,Oc="onboarding_progress",x1="1.0",Yt={save:t=>{var e,n,r,s,o;try{const a={version:x1,timestamp:new Date().toISOString(),data:{currentStep:t.currentStep||1,businessNeeds:t.businessNeeds||null,previousBookkeeper:t.previousBookkeeper||null,businessDetails:{businessName:((e=t.businessDetails)==null?void 0:e.businessName)||"",businessType:((n=t.businessDetails)==null?void 0:n.businessType)||"",yearStarted:((r=t.businessDetails)==null?void 0:r.yearStarted)||"",employeeCount:((s=t.businessDetails)==null?void 0:s.employeeCount)||"",monthlyRevenue:((o=t.businessDetails)==null?void 0:o.monthlyRevenue)||""},industry:t.industry||null}};return localStorage.setItem(Oc,JSON.stringify(a)),!0}catch(a){return console.error("Error saving to localStorage:",a),a.name==="QuotaExceededError"&&console.error("localStorage quota exceeded"),!1}},get:()=>{try{const t=localStorage.getItem(Oc);if(!t)return null;const e=JSON.parse(t);return e.version!==x1?(console.warn("Stored data version mismatch. Clearing old data."),Yt.clear(),null):e.data}catch(t){return console.error("Error reading from localStorage:",t),null}},updateField:(t,e)=>{try{const n=Yt.get()||{};return t==="businessDetails"?n.businessDetails={...n.businessDetails,...e}:n[t]=e,Yt.save(n)}catch(n){return console.error("Error updating field in localStorage:",n),!1}},clear:()=>{try{return localStorage.removeItem(Oc),!0}catch(t){return console.error("Error clearing localStorage:",t),!1}},exists:()=>{try{return localStorage.getItem(Oc)!==null}catch(t){return console.error("Error checking localStorage:",t),!1}},getLastSaved:()=>{try{const t=localStorage.getItem(Oc);return t&&JSON.parse(t).timestamp||null}catch(t){return console.error("Error getting timestamp from localStorage:",t),null}},validateCompletion:()=>{var n,r;const t=Yt.get();if(!t)return{isComplete:!1,missingFields:["All data"]};const e=[];return t.businessNeeds||e.push("Business needs"),t.previousBookkeeper||e.push("Previous bookkeeper information"),(n=t.businessDetails)!=null&&n.businessName||e.push("Business name"),(r=t.businessDetails)!=null&&r.businessType||e.push("Business type"),t.industry||e.push("Industry"),{isComplete:e.length===0,missingFields:e}},isSupported:()=>{try{const t="__localStorage_test__";return localStorage.setItem(t,"test"),localStorage.removeItem(t),!0}catch{return!1}},getSubmissionData:()=>{const t=Yt.get();return t?{data:{businessNeeds:t.businessNeeds,previousBookkeeper:t.previousBookkeeper,businessDetails:t.businessDetails,industry:t.industry},currentStep:t.currentStep||4,completed:!0}:null}};Yt.isSupported()||console.warn("localStorage is not supported in this browser. Onboarding data will not persist.");const Ey={currentStep:1,totalSteps:4,completed:!1,data:{businessNeeds:null,previousBookkeeper:null,businessDetails:{businessName:"",businessType:"",yearStarted:"",employeeCount:"",monthlyRevenue:""},industry:null},validationErrors:{},isSubmitting:!1,lastSavedAt:null,hasUnsavedChanges:!1,isLoadingFromStorage:!1,storageError:null},vT=Ms({name:"onboarding",initialState:Ey,reducers:{nextStep:t=>{t.currentStep<t.totalSteps&&(t.currentStep+=1,t.hasUnsavedChanges=!0)},previousStep:t=>{t.currentStep>1&&(t.currentStep-=1)},goToStep:(t,e)=>{const n=e.payload;n>=1&&n<=t.totalSteps&&(console.log("Going to step:",n),t.currentStep=n)},updateBusinessNeeds:(t,e)=>{t.data.businessNeeds=e.payload,t.hasUnsavedChanges=!0,delete t.validationErrors.businessNeeds;const n={...t.data,businessNeeds:e.payload,currentStep:t.currentStep};Yt.save(n),t.lastSavedAt=new Date().toISOString()},updatePreviousBookkeeper:(t,e)=>{t.data.previousBookkeeper=e.payload,t.hasUnsavedChanges=!0,delete t.validationErrors.previousBookkeeper;const n={...t.data,previousBookkeeper:e.payload,currentStep:t.currentStep};Yt.save(n),t.lastSavedAt=new Date().toISOString()},updateBusinessDetails:(t,e)=>{t.data.businessDetails={...t.data.businessDetails,...e.payload},t.hasUnsavedChanges=!0,delete t.validationErrors.businessDetails;const n={...t.data,businessDetails:t.data.businessDetails,currentStep:t.currentStep};Yt.save(n),t.lastSavedAt=new Date().toISOString()},updateIndustry:(t,e)=>{t.data.industry=e.payload,t.hasUnsavedChanges=!0,delete t.validationErrors.industry;const n={...t.data,industry:e.payload,currentStep:t.currentStep};Yt.save(n),t.lastSavedAt=new Date().toISOString()},setValidationError:(t,e)=>{const{step:n,error:r}=e.payload;t.validationErrors[n]=r},clearValidationErrors:t=>{t.validationErrors={}},setSubmitting:(t,e)=>{t.isSubmitting=e.payload},markSaved:t=>{t.lastSavedAt=new Date().toISOString(),t.hasUnsavedChanges=!1},markCompleted:t=>{t.completed=!0,t.hasUnsavedChanges=!1},resetOnboarding:()=>(Yt.clear(),Ey),loadOnboardingData:(t,e)=>{const n=e.payload;n&&(t.data=n.data||t.data,t.currentStep=n.currentStep||1,t.completed=n.completed||!1,t.lastSavedAt=n.lastSavedAt,t.hasUnsavedChanges=!1)},loadFromLocalStorage:t=>{t.isLoadingFromStorage=!0,t.storageError=null;try{const e=Yt.get();e&&(t.data={businessNeeds:e.businessNeeds||null,previousBookkeeper:e.previousBookkeeper||null,businessDetails:e.businessDetails||Ey.data.businessDetails,industry:e.industry||null},t.currentStep=e.currentStep||1,t.lastSavedAt=Yt.getLastSaved(),t.hasUnsavedChanges=!1)}catch(e){t.storageError=e.message,console.error("Failed to load from localStorage:",e)}finally{t.isLoadingFromStorage=!1}},saveToLocalStorage:t=>{try{const e={...t.data,currentStep:t.currentStep};Yt.save(e)&&(t.lastSavedAt=new Date().toISOString(),t.hasUnsavedChanges=!1)}catch(e){t.storageError=e.message,console.error("Failed to save to localStorage:",e)}},clearLocalStorage:t=>{Yt.clear(),t.lastSavedAt=null,t.hasUnsavedChanges=!1},setStorageError:(t,e)=>{t.storageError=e.payload}}}),{nextStep:nae,previousStep:rae,goToStep:b1,updateBusinessNeeds:yF,updatePreviousBookkeeper:vF,updateBusinessDetails:xF,updateIndustry:bF,setValidationError:sae,clearValidationErrors:iae,setSubmitting:w1,markSaved:oae,markCompleted:wF,resetOnboarding:aae,loadOnboardingData:lae,loadFromLocalStorage:_F,saveToLocalStorage:NF,clearLocalStorage:SF,setStorageError:cae}=vT.actions,jF=vT.reducer,_1={notifications:[],unreadCount:0,isPanelOpen:!1,filter:"all",soundEnabled:!0,browserNotificationsEnabled:!1,isLoading:!1,error:null,lastFetch:null,hasMore:!0,page:1,selectedNotification:null,activeCategory:"all",activePriority:"all",hasNewNotifications:!1},xT=Ms({name:"notifications",initialState:_1,reducers:{setNotifications:(t,e)=>{const n=e.payload||[];t.notifications.length===0?(console.log(" Initial load: Setting",n.length,"notifications"),t.notifications=n,t.notifications.sort((r,s)=>new Date(s.createdAt||0)-new Date(r.createdAt||0)),t.lastFetch=Date.now()):console.warn(" setNotifications called but store already has",t.notifications.length,"notifications. Ignoring to preserve real-time updates.")},addNotification:(t,e)=>{const n=e.payload;console.log(" addNotification called with:",{id:n._id||n.id,title:n.title}),console.log(" Current notifications:",t.notifications.map(o=>({id:o._id||o.id,title:o.title})));const r=n._id||n.id;if(!r){console.error(" ERROR: Notification has no ID!",n);return}const s=t.notifications.findIndex(o=>(o._id||o.id)===r);s!==-1?(console.log(" Notification already exists at index:",s,"Updating it."),t.notifications[s]=n):(console.log(" Adding NEW notification to the list"),t.notifications.unshift(n),console.log(" Notification added! New count:",t.notifications.length)),t.notifications.length>100&&(t.notifications=t.notifications.slice(0,100))},appendNotifications:(t,e)=>{t.notifications.push(...e.payload),t.page+=1},updateNotification:(t,e)=>{const{id:n,updates:r}=e.payload,s=t.notifications.findIndex(o=>o.id===n||o._id===n);s!==-1&&(t.notifications[s]={...t.notifications[s],...r},r.isRead!==void 0&&(r.isRead&&!t.notifications[s].isRead?t.unreadCount=Math.max(0,t.unreadCount-1):!r.isRead&&t.notifications[s].isRead&&(t.unreadCount+=1)))},removeNotification:(t,e)=>{const n=e.payload,r=t.notifications.findIndex(s=>s.id===n||s._id===n);r!==-1&&(t.notifications[r].isRead||(t.unreadCount=Math.max(0,t.unreadCount-1)),t.notifications.splice(r,1))},markAsRead:(t,e)=>{const n=e.payload;console.log(" markAsRead action called with ID:",n),console.log(" Current notifications count:",t.notifications.length),console.log(" Current filter:",t.filter);const r=t.notifications.find(s=>s.id===n||s._id===n);r&&!r.isRead?(console.log(" Found notification, marking as read:",r.title),r.isRead=!0,r.readAt=new Date().toISOString(),t.unreadCount=Math.max(0,t.unreadCount-1),console.log(" New unread count:",t.unreadCount)):r&&r.isRead?console.log(" Notification already marked as read"):console.log(" Notification not found in state!")},markAllAsRead:t=>{t.notifications.forEach(e=>{e.isRead||(e.isRead=!0,e.readAt=new Date().toISOString())}),t.unreadCount=0},togglePanel:t=>{t.isPanelOpen=!t.isPanelOpen},openPanel:t=>{t.isPanelOpen=!0},closePanel:t=>{t.isPanelOpen=!1},setFilter:(t,e)=>{t.filter=e.payload,t.page=1},setActiveCategory:(t,e)=>{t.activeCategory=e.payload,t.page=1},setActivePriority:(t,e)=>{t.activePriority=e.payload,t.page=1},updateUnreadCount:(t,e)=>{t.unreadCount=e.payload},incrementUnreadCount:t=>{t.unreadCount+=1},decrementUnreadCount:t=>{t.unreadCount=Math.max(0,t.unreadCount-1)},toggleSound:t=>{t.soundEnabled=!t.soundEnabled},setSoundEnabled:(t,e)=>{t.soundEnabled=e.payload},toggleBrowserNotifications:t=>{t.browserNotificationsEnabled=!t.browserNotificationsEnabled},setBrowserNotificationsEnabled:(t,e)=>{t.browserNotificationsEnabled=e.payload},setLoading:(t,e)=>{t.isLoading=e.payload},setError:(t,e)=>{t.error=e.payload,t.isLoading=!1},clearError:t=>{t.error=null},setHasMore:(t,e)=>{t.hasMore=e.payload},resetPage:t=>{t.page=1,t.hasMore=!0},setSelectedNotification:(t,e)=>{t.selectedNotification=e.payload},clearSelectedNotification:t=>{t.selectedNotification=null},clearNotifications:t=>{t.notifications=[],t.unreadCount=0,t.page=1,t.hasMore=!0,t.lastFetch=null},setHasNewNotifications:(t,e)=>{t.hasNewNotifications=e.payload},resetNotificationState:()=>_1}}),{setNotifications:bT,addNotification:wT,appendNotifications:uae,updateNotification:CF,removeNotification:_T,markAsRead:kF,markAllAsRead:EF,togglePanel:N1,openPanel:dae,closePanel:hae,setFilter:TF,setActiveCategory:IF,setActivePriority:PF,updateUnreadCount:Cp,incrementUnreadCount:fae,decrementUnreadCount:pae,toggleSound:mae,setSoundEnabled:gae,toggleBrowserNotifications:yae,setBrowserNotificationsEnabled:vae,setLoading:xae,setError:bae,clearError:wae,setHasMore:_ae,resetPage:Ty,setSelectedNotification:Nae,clearSelectedNotification:Sae,clearNotifications:jae,setHasNewNotifications:AF,resetNotificationState:Cae}=xT.actions,RF=t=>t.notifications.unreadCount,OF=t=>t.notifications.isPanelOpen,DF=t=>t.notifications.filter,MF=t=>t.notifications.soundEnabled,LF=t=>t.notifications.browserNotificationsEnabled,FF=t=>t.notifications.activeCategory,UF=t=>t.notifications.activePriority,$F=t=>{const e=t.notifications.notifications,n=t.notifications.filter,r=t.notifications.activeCategory,s=t.notifications.activePriority;console.log(" Filtering notifications:",{totalCount:e.length,filter:n,category:r,priority:s,firstFew:e.slice(0,3).map(a=>({id:a._id,type:a.type,title:a.title}))});let o=e;return n==="unread"?o=o.filter(a=>!a.isRead):n==="announcements"?o=o.filter(a=>a.type==="announcement"):n==="tasks"?o=o.filter(a=>a.type==="assignment"||a.type==="task"):n==="alerts"&&(o=o.filter(a=>a.type==="alert"||a.priority==="urgent"||a.priority==="high")),r&&r!=="all"&&(o=o.filter(a=>a.category===r)),s&&s!=="all"&&(o=o.filter(a=>a.priority===s)),console.log(" After filtering:",{filteredCount:o.length,filteredIds:o.map(a=>a._id||a.id)}),o},BF=xT.reducer;function qh(t){return t.replace(t[0],t[0].toUpperCase())}function zF(t){return t.type==="query"}function VF(t){return t.type==="mutation"}function NT(t){return t.type==="infinitequery"}function Dc(t,...e){return Object.assign(t,...e)}var Iy=Symbol();function Py(t){const e=m.useRef(t),n=m.useMemo(()=>O0(e.current,t),[t]);return m.useEffect(()=>{e.current!==n&&(e.current=n)},[n]),n}function Wh(t){const e=m.useRef(t);return m.useEffect(()=>{fu(e.current,t)||(e.current=t)},[t]),fu(e.current,t)?e.current:t}var qF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WF=qF(),HF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",GF=HF(),QF=()=>WF||GF?m.useLayoutEffect:m.useEffect,KF=QF(),S1=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:lT.pending}:t;function Ay(t,...e){const n={};return e.forEach(r=>{n[r]=t[r]}),n}var Ry=["data","status","isLoading","isSuccess","isError","error"];function YF({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:s},unstable__sideEffectsInRender:o,createSelector:a},serializeQueryArgs:l,context:c}){const u=o?j=>j():m.useEffect;return{buildQueryHooks:_,buildInfiniteQueryHooks:N,buildMutationHook:b,usePrefetch:p};function h(j,I,O){if(I!=null&&I.endpointName&&j.isUninitialized){const{endpointName:P}=I,T=c.endpointDefinitions[P];O!==Pr&&l({queryArgs:I.originalArgs,endpointDefinition:T,endpointName:P})===l({queryArgs:O,endpointDefinition:T,endpointName:P})&&(I=void 0)}let S=j.isSuccess?j.data:I==null?void 0:I.data;S===void 0&&(S=j.data);const x=S!==void 0,E=j.isLoading,k=(!I||I.isLoading||I.isUninitialized)&&!x&&E,R=j.isSuccess||x&&(E&&!(I!=null&&I.isError)||j.isUninitialized);return{...j,data:S,currentData:j.data,isFetching:E,isLoading:k,isSuccess:R}}function f(j,I,O){if(I!=null&&I.endpointName&&j.isUninitialized){const{endpointName:P}=I,T=c.endpointDefinitions[P];O!==Pr&&l({queryArgs:I.originalArgs,endpointDefinition:T,endpointName:P})===l({queryArgs:O,endpointDefinition:T,endpointName:P})&&(I=void 0)}let S=j.isSuccess?j.data:I==null?void 0:I.data;S===void 0&&(S=j.data);const x=S!==void 0,E=j.isLoading,k=(!I||I.isLoading||I.isUninitialized)&&!x&&E,R=j.isSuccess||E&&x;return{...j,data:S,currentData:j.data,isFetching:E,isLoading:k,isSuccess:R}}function p(j,I){const O=n(),S=Wh(I);return m.useCallback((x,E)=>O(t.util.prefetch(j,x,{...S,...E})),[j,O,S])}function g(j,I,{refetchOnReconnect:O,refetchOnFocus:S,refetchOnMountOrArgChange:x,skip:E=!1,pollingInterval:k=0,skipPollingIfUnfocused:R=!1,...P}={}){const{initiate:T}=t.endpoints[j],L=n(),q=m.useRef(void 0);if(!q.current){const V=L(t.internalActions.internal_getRTKQSubscriptions());q.current=V}const z=Py(E?Pr:I),B=Wh({refetchOnReconnect:O,refetchOnFocus:S,pollingInterval:k,skipPollingIfUnfocused:R}),D=P.initialPageParam,F=Wh(D),W=m.useRef(void 0);let{queryCacheKey:X,requestId:Z}=W.current||{},$=!1;X&&Z&&($=q.current.isRequestSubscribed(X,Z));const K=!$&&W.current!==void 0;return u(()=>{K&&(W.current=void 0)},[K]),u(()=>{var U;const V=W.current;if(z===Pr){V==null||V.unsubscribe(),W.current=void 0;return}const H=(U=W.current)==null?void 0:U.subscriptionOptions;if(!V||V.arg!==z){V==null||V.unsubscribe();const J=L(T(z,{subscriptionOptions:B,forceRefetch:x,...NT(c.endpointDefinitions[j])?{initialPageParam:F}:{}}));W.current=J}else B!==H&&V.updateSubscriptionOptions(B)},[L,T,x,z,B,K,F,j]),[W,L,T,B]}function w(j,I){return(S,{skip:x=!1,selectFromResult:E}={})=>{const{select:k}=t.endpoints[j],R=Py(x?Pr:S),P=m.useRef(void 0),T=m.useMemo(()=>a([k(R),(D,F)=>F,D=>R],I,{memoizeOptions:{resultEqualityCheck:fu}}),[k,R]),L=m.useMemo(()=>E?a([T],E,{devModeChecks:{identityFunctionCheck:"never"}}):T,[T,E]),q=r(D=>L(D,P.current),fu),z=s(),B=T(z.getState(),P.current);return KF(()=>{P.current=B},[B]),q}}function v(j){m.useEffect(()=>()=>{var I,O;(O=(I=j.current)==null?void 0:I.unsubscribe)==null||O.call(I),j.current=void 0},[j])}function y(j){if(!j.current)throw new Error(qr(38));return j.current.refetch()}function _(j){const I=(x,E={})=>{const[k]=g(j,x,E);return v(k),m.useMemo(()=>({refetch:()=>y(k)}),[k])},O=({refetchOnReconnect:x,refetchOnFocus:E,pollingInterval:k=0,skipPollingIfUnfocused:R=!1}={})=>{const{initiate:P}=t.endpoints[j],T=n(),[L,q]=m.useState(Iy),z=m.useRef(void 0),B=Wh({refetchOnReconnect:x,refetchOnFocus:E,pollingInterval:k,skipPollingIfUnfocused:R});u(()=>{var Z,$;const X=(Z=z.current)==null?void 0:Z.subscriptionOptions;B!==X&&(($=z.current)==null||$.updateSubscriptionOptions(B))},[B]);const D=m.useRef(B);u(()=>{D.current=B},[B]);const F=m.useCallback(function(X,Z=!1){let $;return e(()=>{var K;(K=z.current)==null||K.unsubscribe(),z.current=$=T(P(X,{subscriptionOptions:D.current,forceRefetch:!Z})),q(X)}),$},[T,P]),W=m.useCallback(()=>{var X,Z;(X=z.current)!=null&&X.queryCacheKey&&T(t.internalActions.removeQueryResult({queryCacheKey:(Z=z.current)==null?void 0:Z.queryCacheKey}))},[T]);return m.useEffect(()=>()=>{var X;(X=z==null?void 0:z.current)==null||X.unsubscribe()},[]),m.useEffect(()=>{L!==Iy&&!z.current&&F(L,!0)},[L,F]),m.useMemo(()=>[F,L,{reset:W}],[F,L,W])},S=w(j,h);return{useQueryState:S,useQuerySubscription:I,useLazyQuerySubscription:O,useLazyQuery(x){const[E,k,{reset:R}]=O(x),P=S(k,{...x,skip:k===Iy}),T=m.useMemo(()=>({lastArg:k}),[k]);return m.useMemo(()=>[E,{...P,reset:R},T],[E,P,R,T])},useQuery(x,E){const k=I(x,E),R=S(x,{selectFromResult:x===Pr||E!=null&&E.skip?void 0:S1,...E}),P=Ay(R,...Ry);return m.useDebugValue(P),m.useMemo(()=>({...R,...k}),[R,k])}}}function N(j){const I=(S,x={})=>{const[E,k,R,P]=g(j,S,x),T=m.useRef(P);u(()=>{T.current=P},[P]);const L=m.useCallback(function(B,D){let F;return e(()=>{var W;(W=E.current)==null||W.unsubscribe(),E.current=F=k(R(B,{subscriptionOptions:T.current,direction:D}))}),F},[E,k,R]);v(E);const q=Py(x.skip?Pr:S),z=m.useCallback(()=>y(E),[E]);return m.useMemo(()=>({trigger:L,refetch:z,fetchNextPage:()=>L(q,"forward"),fetchPreviousPage:()=>L(q,"backward")}),[z,L,q])},O=w(j,f);return{useInfiniteQueryState:O,useInfiniteQuerySubscription:I,useInfiniteQuery(S,x){const{refetch:E,fetchNextPage:k,fetchPreviousPage:R}=I(S,x),P=O(S,{selectFromResult:S===Pr||x!=null&&x.skip?void 0:S1,...x}),T=Ay(P,...Ry,"hasNextPage","hasPreviousPage");return m.useDebugValue(T),m.useMemo(()=>({...P,fetchNextPage:k,fetchPreviousPage:R,refetch:E}),[P,k,R,E])}}}function b(j){return({selectFromResult:I,fixedCacheKey:O}={})=>{const{select:S,initiate:x}=t.endpoints[j],E=n(),[k,R]=m.useState();m.useEffect(()=>()=>{k!=null&&k.arg.fixedCacheKey||k==null||k.reset()},[k]);const P=m.useCallback(function(X){const Z=E(x(X,{fixedCacheKey:O}));return R(Z),Z},[E,x,O]),{requestId:T}=k||{},L=m.useMemo(()=>S({fixedCacheKey:O,requestId:k==null?void 0:k.requestId}),[O,k,S]),q=m.useMemo(()=>I?a([L],I):L,[I,L]),z=r(q,fu),B=O==null?k==null?void 0:k.arg.originalArgs:void 0,D=m.useCallback(()=>{e(()=>{k&&R(void 0),O&&E(t.internalActions.removeMutationResult({requestId:T,fixedCacheKey:O}))})},[E,O,k,T]),F=Ay(z,...Ry,"endpointName");m.useDebugValue(F);const W=m.useMemo(()=>({...z,originalArgs:B,reset:D}),[z,B,D]);return m.useMemo(()=>[P,W],[P,W])}}}var XF=Symbol(),JF=({batch:t=V5,hooks:e={useDispatch:Jr,useSelector:Oe,useStore:Q2},createSelector:n=P0,unstable__sideEffectsInRender:r=!1,...s}={})=>({name:XF,init(o,{serializeQueryArgs:a},l){const c=o,{buildQueryHooks:u,buildInfiniteQueryHooks:h,buildMutationHook:f,usePrefetch:p}=YF({api:o,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:a,context:l});return Dc(c,{usePrefetch:p}),Dc(l,{batch:t}),{injectEndpoint(g,w){if(zF(w)){const{useQuery:v,useLazyQuery:y,useLazyQuerySubscription:_,useQueryState:N,useQuerySubscription:b}=u(g);Dc(c.endpoints[g],{useQuery:v,useLazyQuery:y,useLazyQuerySubscription:_,useQueryState:N,useQuerySubscription:b}),o[`use${qh(g)}Query`]=v,o[`useLazy${qh(g)}Query`]=y}if(VF(w)){const v=f(g);Dc(c.endpoints[g],{useMutation:v}),o[`use${qh(g)}Mutation`]=v}else if(NT(w)){const{useInfiniteQuery:v,useInfiniteQuerySubscription:y,useInfiniteQueryState:_}=h(g);Dc(c.endpoints[g],{useInfiniteQuery:v,useInfiniteQuerySubscription:y,useInfiniteQueryState:_}),o[`use${qh(g)}InfiniteQuery`]=v}}}}}),br=fT(pT(),JF());const yt={api:{baseUrl:"https://meanstack.smartdatainc.com:8081/api",timeout:parseInt(void 0)||3e4},stripe:{publishableKey:"",enabled:!1},amazon:{clientId:"",redirectUri:"",enabled:!1},app:{name:"Plurify",version:"1.0.0",env:"development"},features:{stripe:!1,amazon:!1,walmart:!1,onboarding:!1},isDevelopment:!1,isStaging:!1,isProduction:!1};Object.freeze(yt);const ZF=async(t,e,n)=>{var a;const r=(a=e.getState().auth)==null?void 0:a.token;let o=await xr({baseUrl:yt.api.baseUrl,timeout:yt.api.timeout,prepareHeaders:l=>{if(r){const c=r.replace(/^["']|["']$/g,"");l.set("authorization",`Bearer ${c}`)}return l.set("Content-Type","application/json"),l}})(t,e,n);return o.error&&o.error.status===401&&(console.log("[Auth] Token expired or invalid, logging out..."),e.dispatch(Xl()),window.location.href="/login?message=Session expired. Please login again."),o},jf=br({reducerPath:"authApi",baseQuery:ZF,endpoints:t=>({login:t.mutation({query:e=>({url:"/auth/signin",method:"POST",body:e})}),signup:t.mutation({query:e=>({url:"/auth/signup",method:"POST",body:e})}),googleAuth:t.mutation({query:e=>({url:"/auth/google",method:"POST",body:e})}),getUsers:t.query({query:()=>"/users"}),getUserById:t.query({query:e=>`/users/${e}`}),createStaff:t.mutation({query:e=>({url:"/admin/create-staff",method:"POST",body:e})}),getAllStaff:t.query({query:()=>"/admin/get-all-staff"}),updateStaff:t.mutation({query:({id:e,...n})=>({url:`/admin/update-staff/${e}`,method:"PUT",body:n})}),deactivateStaff:t.mutation({query:e=>({url:`/admin/deactivate-staff/${e}`,method:"DELETE"})}),reactivateStaff:t.mutation({query:e=>({url:`/admin/reactivate-staff/${e}`,method:"PUT"})}),assignClient:t.mutation({query:e=>({url:"/admin/assign-client",method:"POST",body:e})}),unassignClient:t.mutation({query:e=>({url:"/admin/unassign-client",method:"DELETE",body:e})}),getAllAssignments:t.query({query:()=>"/admin/get-assignments"}),getStaffClients:t.query({query:e=>`/admin/staff-clients/${e}`}),getClientsWithAssignments:t.query({query:()=>"/admin/clients-with-assignments"}),getMyClients:t.query({query:()=>"/staff/my-clients"}),getStaffDashboard:t.query({query:()=>"/staff/dashboard"})})}),{useLoginMutation:eU,useSignupMutation:tU,useGetUsersQuery:ST,useCreateStaffMutation:nU,useGetAllStaffQuery:$m,useDeactivateStaffMutation:rU,useReactivateStaffMutation:sU,useAssignClientMutation:iU,useUnassignClientMutation:oU,useGetClientsWithAssignmentsQuery:aU,useGetMyClientsQuery:lU,useGetStaffDashboardQuery:cU}=jf,uU=async(t,e,n)=>{const r=e.getState().auth,s=r==null?void 0:r.token;let a=await xr({baseUrl:yt.api.baseUrl,timeout:yt.api.timeout,prepareHeaders:l=>{if(s){const c=s.replace(/^["']|["']$/g,"");l.set("authorization",`Bearer ${c}`)}return l.set("Content-Type","application/json"),l}})(t,e,n);return a.error&&a.error.status===401&&(console.log("[Auth] Token expired or invalid, logging out..."),e.dispatch(Xl()),window.location.href="/login?message=Session expired. Please login again."),a},Cf=br({reducerPath:"subscriptionApi",baseQuery:uU,tagTypes:["SubscriptionPlan","UserSubscription","Transaction","BillingInfo"],endpoints:t=>({getSubscriptionPlans:t.query({query:()=>"/stripe/subscription-plans",providesTags:["SubscriptionPlan"]}),getSubscriptionPlanById:t.query({query:e=>`/stripe/subscription-plans/${e}`,providesTags:(e,n,r)=>[{type:"SubscriptionPlan",id:r}]}),createSubscriptionPlan:t.mutation({query:e=>({url:"/stripe/subscription-plans",method:"POST",body:e}),invalidatesTags:["SubscriptionPlan"]}),updateSubscriptionPlan:t.mutation({query:({id:e,...n})=>({url:`/stripe/subscription-plans/${e}`,method:"PUT",body:n}),invalidatesTags:(e,n,{id:r})=>[{type:"SubscriptionPlan",id:r},"SubscriptionPlan"]}),deleteSubscriptionPlan:t.mutation({query:e=>({url:`/stripe/subscription-plans/${e}`,method:"DELETE"}),invalidatesTags:["SubscriptionPlan"]}),getUserSubscription:t.query({query:()=>"/stripe/subscription",providesTags:["UserSubscription"]}),createSubscription:t.mutation({query:e=>({url:"/stripe/create-subscription",method:"POST",body:e}),invalidatesTags:["UserSubscription","Transaction"]}),cancelSubscription:t.mutation({query:e=>({url:"/stripe/cancel-subscription",method:"POST",body:{subscriptionId:e}}),invalidatesTags:["UserSubscription"]}),resumeSubscription:t.mutation({query:e=>({url:"/stripe/resume-subscription",method:"POST",body:{subscriptionId:e}}),invalidatesTags:["UserSubscription"]}),updateSubscription:t.mutation({query:e=>({url:"/stripe/update-subscription",method:"PUT",body:e}),invalidatesTags:["UserSubscription"]}),createPaymentIntent:t.mutation({query:e=>({url:"/stripe/create-payment-intent",method:"POST",body:e})}),processPayment:t.mutation({query:e=>({url:"/stripe/process-payment",method:"POST",body:e}),invalidatesTags:["UserSubscription","Transaction"]}),confirmPayment:t.mutation({query:e=>({url:"/stripe/confirm-payment",method:"POST",body:e}),invalidatesTags:["UserSubscription","Transaction"]}),getPaymentHistory:t.query({query:e=>({url:"/stripe/payment-history",params:e}),providesTags:["Transaction"]}),getTransactionById:t.query({query:e=>`/stripe/transactions/${e}`,providesTags:(e,n,r)=>[{type:"Transaction",id:r}]}),getBillingInfo:t.query({query:()=>"/stripe/billing-info",providesTags:["BillingInfo"]}),updateBillingInfo:t.mutation({query:e=>({url:"/stripe/billing-info",method:"PUT",body:e}),invalidatesTags:["BillingInfo"]}),getPaymentMethods:t.query({query:()=>"/stripe/payment-methods"}),addPaymentMethod:t.mutation({query:e=>({url:"/stripe/payment-methods",method:"POST",body:e})}),updatePaymentMethod:t.mutation({query:e=>({url:"/stripe/update-payment-method",method:"POST",body:e}),invalidatesTags:["BillingInfo"]}),deletePaymentMethod:t.mutation({query:e=>({url:`/stripe/payment-methods/${e}`,method:"DELETE"})}),applyCoupon:t.mutation({query:e=>({url:"/stripe/apply-coupon",method:"POST",body:{couponCode:e}})}),validateCoupon:t.query({query:e=>`/stripe/validate-coupon/${e}`}),getInvoices:t.query({query:()=>"/stripe/invoices"}),getUpcomingInvoice:t.query({query:()=>"/stripe/upcoming-invoice"}),downloadInvoice:t.mutation({query:e=>({url:`/stripe/invoices/${e}/download`,method:"GET",responseHandler:n=>n.blob()})}),reportUsage:t.mutation({query:e=>({url:"/stripe/report-usage",method:"POST",body:e})}),getUsageRecords:t.query({query:e=>({url:"/stripe/usage-records",params:e})}),previewSubscriptionChange:t.mutation({query:e=>({url:"/stripe/preview-subscription-change",method:"POST",body:e})}),createCustomerPortalSession:t.mutation({query:()=>({url:"/stripe/create-portal-session",method:"POST"})}),testWebhook:t.mutation({query:e=>({url:"/stripe/test-webhook",method:"POST",body:{eventType:e}})})})}),{useGetSubscriptionPlansQuery:jT,useCreateSubscriptionPlanMutation:dU,useUpdateSubscriptionPlanMutation:hU,useDeleteSubscriptionPlanMutation:fU,useGetUserSubscriptionQuery:$0,useCreateSubscriptionMutation:pU,useCancelSubscriptionMutation:mU,useProcessPaymentMutation:gU,useGetPaymentHistoryQuery:yU,useGetBillingInfoQuery:vU,useUpdateBillingInfoMutation:xU,useGetPaymentMethodsQuery:bU,useDownloadInvoiceMutation:wU,useCreateCustomerPortalSessionMutation:_U}=Cf,kf=br({reducerPath:"onboardingApi",baseQuery:xr({baseUrl:yt.api.baseUrl,timeout:yt.api.timeout,credentials:"include",prepareHeaders:(t,{getState:e})=>{const n=e().auth.token||localStorage.getItem("token");return n&&t.set("authorization",`Bearer ${n}`),t}}),tagTypes:["OnboardingStatus","OnboardingData"],endpoints:t=>({getOnboardingStatus:t.query({query:()=>"/onboarding/status",providesTags:["OnboardingStatus"]}),getOnboardingData:t.query({query:()=>"/onboarding/data",providesTags:["OnboardingData"]}),saveOnboardingProgress:t.mutation({query:e=>({url:"/onboarding/save-progress",method:"POST",body:e}),invalidatesTags:["OnboardingData"]}),completeOnboarding:t.mutation({query:e=>({url:"/onboarding/complete",method:"POST",body:e}),invalidatesTags:["OnboardingStatus","OnboardingData"]}),validateOnboardingStep:t.mutation({query:({step:e,data:n})=>({url:`/onboarding/validate-step/${e}`,method:"POST",body:n})})})}),{useGetOnboardingDataQuery:CT,useCompleteOnboardingMutation:NU}=kf,Ef=br({reducerPath:"amazonApi",baseQuery:xr({baseUrl:yt.api.baseUrl,prepareHeaders:(t,{getState:e})=>{const n=e().auth.token||localStorage.getItem("token");return n&&t.set("authorization",`Bearer ${n}`),t}}),tagTypes:["AmazonConnection","AmazonOrders"],endpoints:t=>({getAmazonAuthUrl:t.query({query:()=>"/amazon/auth/authorize"}),handleAmazonCallback:t.mutation({query:({code:e,state:n})=>({url:"/amazon/auth/callback",method:"POST",body:{code:e,state:n}}),invalidatesTags:["AmazonConnection"]}),getAmazonConnectionStatus:t.query({query:e=>({url:"/amazon/auth/status",params:e?{clientId:e}:{}}),providesTags:(e,n,r)=>r?[{type:"AmazonConnection",id:r}]:["AmazonConnection"]}),disconnectAmazon:t.mutation({query:()=>({url:"/amazon/auth/disconnect",method:"DELETE"}),invalidatesTags:["AmazonConnection","AmazonOrders"]}),refreshAmazonToken:t.mutation({query:()=>({url:"/amazon/auth/refresh",method:"POST"}),invalidatesTags:["AmazonConnection"]}),getAmazonOrders:t.query({query:(e={})=>({url:"/amazon/orders",params:{createdAfter:e.createdAfter,createdBefore:e.createdBefore,orderStatuses:e.orderStatuses,maxResults:e.maxResults||50,...e.clientId&&{clientId:e.clientId}}}),providesTags:(e,n,r)=>r!=null&&r.clientId?[{type:"AmazonOrders",id:r.clientId}]:["AmazonOrders"]}),getAmazonInventory:t.query({query:(e={})=>({url:"/amazon/inventory",params:{marketplaceId:e.marketplaceId,skus:e.skus,...e.clientId&&{clientId:e.clientId}}})}),getAmazonFinancialEvents:t.query({query:(e={})=>({url:"/amazon/finance",params:{postedAfter:e.postedAfter,postedBefore:e.postedBefore,maxResults:e.maxResults,...e.clientId&&{clientId:e.clientId}}})}),createAmazonReport:t.mutation({query:({reportType:e,dataStartTime:n,dataEndTime:r})=>({url:"/amazon/reports",method:"POST",body:{reportType:e,dataStartTime:n,dataEndTime:r}})}),getAmazonDashboard:t.query({query:e=>({url:"/amazon/dashboard",params:e?{clientId:e}:{}})})})}),{useHandleAmazonCallbackMutation:SU,useGetAmazonConnectionStatusQuery:jU,useDisconnectAmazonMutation:CU,useGetAmazonOrdersQuery:kU,useLazyGetAmazonAuthUrlQuery:EU,useLazyGetAmazonOrdersQuery:TU}=Ef,Tf=br({reducerPath:"amazonSandboxApi",baseQuery:xr({baseUrl:yt.api.baseUrl,prepareHeaders:(t,{getState:e})=>{var r;const n=((r=e().auth)==null?void 0:r.token)||localStorage.getItem("token");return n&&t.set("authorization",`Bearer ${n}`),t}}),tagTypes:["SandboxStatus","SandboxOrders","SandboxInventory"],endpoints:t=>({initializeSandbox:t.mutation({query:(e={})=>({url:"/amazon/sandbox/initialize",method:"POST",body:e}),invalidatesTags:["SandboxStatus"]}),getSandboxStatus:t.query({query:()=>"/amazon/sandbox/status",providesTags:["SandboxStatus"]}),testSandboxConnection:t.query({query:()=>"/amazon/sandbox/test"}),resetSandbox:t.mutation({query:()=>({url:"/amazon/sandbox/reset",method:"DELETE"}),invalidatesTags:["SandboxStatus","SandboxOrders","SandboxInventory"]}),getSandboxOrders:t.query({query:(e={})=>({url:"/amazon/sandbox/orders",params:{marketplaceId:e.marketplaceId,createdAfter:e.createdAfter||new Date(Date.now()-30*24*60*60*1e3).toISOString(),createdBefore:e.createdBefore,orderStatuses:e.orderStatuses,maxResults:e.maxResults||20}}),providesTags:["SandboxOrders"]}),getSandboxInventory:t.query({query:(e={})=>({url:"/amazon/sandbox/inventory",params:{marketplaceId:e.marketplaceId,skus:e.skus}}),providesTags:["SandboxInventory"]})})}),{useInitializeSandboxMutation:IU,useGetSandboxStatusQuery:PU,useResetSandboxMutation:AU,useGetSandboxOrdersQuery:RU,useGetSandboxInventoryQuery:OU,useLazyTestSandboxConnectionQuery:DU}=Tf,If=br({reducerPath:"userApi",baseQuery:xr({baseUrl:yt.api.baseUrl,prepareHeaders:(t,{getState:e})=>{var r;const n=((r=e().auth)==null?void 0:r.token)||localStorage.getItem("token");return n&&t.set("authorization",`Bearer ${n}`),t}}),tagTypes:["Profile","ClientList","ClientProfile"],endpoints:t=>({getUserProfile:t.query({query:()=>"/user/profile",providesTags:["Profile"]}),updateUserProfile:t.mutation({query:e=>({url:"/user/profile",method:"PUT",body:e}),invalidatesTags:["Profile"]}),uploadProfilePicture:t.mutation({query:e=>({url:"/user/profile/upload-picture",method:"POST",body:e}),invalidatesTags:["Profile"]}),getAllClients:t.query({query:()=>"/admin/clients-list",providesTags:["ClientList"]}),getClientProfile:t.query({query:e=>`/admin/client/${e}/profile`,providesTags:(e,n,r)=>[{type:"ClientProfile",id:r}]})})}),{useGetUserProfileQuery:MU,useUpdateUserProfileMutation:LU,useUploadProfilePictureMutation:FU,useGetAllClientsQuery:Bm,useGetClientProfileQuery:UU}=If,$o=br({reducerPath:"notificationApi",baseQuery:xr({baseUrl:yt.api.baseUrl,timeout:yt.api.timeout,credentials:"include",prepareHeaders:(t,{getState:e})=>{const n=e().auth.token||localStorage.getItem("token");return n&&t.set("authorization",`Bearer ${n}`),t}}),tagTypes:["Notification","UnreadCount","Preferences"],endpoints:t=>({getNotificationById:t.query({query:e=>`/notifications/${e}`,providesTags:(e,n,r)=>[{type:"Notification",id:r},"UnreadCount"],transformResponse:e=>e.data&&e.data.notification?{notification:e.data.notification,unreadCount:e.data.unreadCount}:{notification:e.data,unreadCount:null}}),getNotifications:t.query({query:({page:e=1,limit:n=20,unreadOnly:r=!1,type:s,priority:o,category:a,lastCheck:l})=>({url:"/notifications",params:{page:e,limit:n,unreadOnly:r,type:s,priority:o,category:a,lastCheck:l}}),providesTags:e=>e?[...e.data.notifications.map(({_id:n})=>({type:"Notification",id:n})),{type:"Notification",id:"LIST"},"UnreadCount"]:[{type:"Notification",id:"LIST"},"UnreadCount"]}),pollNotifications:t.query({query:e=>({url:"/notifications/poll",params:{lastCheck:e}}),providesTags:["UnreadCount"]}),getUnreadCount:t.query({query:()=>"/notifications/unread-count",providesTags:["UnreadCount"],transformResponse:e=>e.data.count}),createNotification:t.mutation({query:e=>({url:"/notifications",method:"POST",body:e}),invalidatesTags:[{type:"Notification",id:"LIST"},"UnreadCount"]}),markAsRead:t.mutation({query:e=>({url:`/notifications/${e}/read`,method:"PUT"}),invalidatesTags:(e,n,r)=>[{type:"Notification",id:r},"UnreadCount"]}),markAllAsRead:t.mutation({query:()=>({url:"/notifications/read-all",method:"PUT"}),invalidatesTags:[{type:"Notification",id:"LIST"},"UnreadCount"],async onQueryStarted(e,{dispatch:n,queryFulfilled:r}){const s=n($o.util.updateQueryData("getNotifications",void 0,o=>{o.data.notifications.forEach(a=>{a.isRead||(a.isRead=!0,a.readAt=new Date().toISOString())}),o.data.unreadCount=0}));try{await r}catch{s.undo()}}}),deleteNotification:t.mutation({query:e=>({url:`/notifications/${e}`,method:"DELETE"}),invalidatesTags:(e,n,r)=>[{type:"Notification",id:r},{type:"Notification",id:"LIST"},"UnreadCount"]}),broadcastNotification:t.mutation({query:e=>({url:"/notifications/broadcast",method:"POST",body:e}),invalidatesTags:[{type:"Notification",id:"LIST"}]}),getNotificationPreferences:t.query({query:()=>"/notifications/preferences",providesTags:["Preferences"],transformResponse:e=>e.data}),updateNotificationPreferences:t.mutation({query:e=>({url:"/notifications/preferences",method:"PUT",body:e}),invalidatesTags:["Preferences"]}),sendTestNotification:t.mutation({query:(e=["inApp"])=>({url:"/notifications/test",method:"POST",body:{channels:e}}),invalidatesTags:[{type:"Notification",id:"LIST"},"UnreadCount"]}),getNotificationStats:t.query({query:()=>"/notifications/stats",transformResponse:e=>e.data})})}),{useGetUnreadCountQuery:$U,useMarkAsReadMutation:BU,useMarkAllAsReadMutation:zU,useDeleteNotificationMutation:VU}=$o,Pf=br({reducerPath:"shopifyApi",baseQuery:xr({baseUrl:yt.api.baseUrl,prepareHeaders:(t,{getState:e})=>{const n=e().auth.token||localStorage.getItem("token");return n&&t.set("authorization",`Bearer ${n}`),t}}),tagTypes:["ShopifyConnection","ShopifyOrders","ShopifyHealth"],endpoints:t=>({getShopifyAuthUrl:t.query({query:e=>({url:"/shopify/auth/authorize",params:{shop:e}})}),getShopifyConnectionStatus:t.query({query:e=>({url:"/shopify/auth/status",params:e?{clientId:e}:{}}),providesTags:(e,n,r)=>r?[{type:"ShopifyConnection",id:r}]:["ShopifyConnection"]}),disconnectShopify:t.mutation({query:()=>({url:"/shopify/auth/disconnect",method:"DELETE"}),invalidatesTags:["ShopifyConnection","ShopifyOrders"]}),getShopifyOrders:t.query({query:(e={})=>({url:"/shopify/orders",params:{status:e.status||"any",limit:e.limit||50,createdAfter:e.createdAfter,createdBefore:e.createdBefore,fields:e.fields,page_info:e.page_info,...e.clientId&&{clientId:e.clientId}}}),providesTags:(e,n,r)=>r!=null&&r.clientId?[{type:"ShopifyOrders",id:r.clientId}]:["ShopifyOrders"],transformResponse:e=>{if(e.success===!1)throw new Error(e.message||"Failed to fetch orders");return e}}),getShopifyHealth:t.query({query:()=>"/shopify/health",providesTags:["ShopifyHealth"]})})}),{useGetShopifyConnectionStatusQuery:qU,useDisconnectShopifyMutation:WU,useGetShopifyOrdersQuery:HU,useLazyGetShopifyAuthUrlQuery:GU,useLazyGetShopifyOrdersQuery:QU}=Pf,Af=br({reducerPath:"documentApi",baseQuery:xr({baseUrl:yt.api.baseUrl,prepareHeaders:(t,{getState:e})=>{var r,s;const n=((s=(r=e())==null?void 0:r.auth)==null?void 0:s.token)||localStorage.getItem("token");return n&&t.set("authorization",`Bearer ${n}`),t}}),tagTypes:["Document","Category"],endpoints:t=>({getCategories:t.query({query:()=>"/documents/categories",providesTags:["Category"]}),uploadDocument:t.mutation({query:e=>({url:"/documents/upload",method:"POST",body:e}),invalidatesTags:["Document"]}),uploadMultipleDocuments:t.mutation({query:e=>({url:"/documents/upload-multiple",method:"POST",body:e}),invalidatesTags:["Document"]}),getDocuments:t.query({query:(e={})=>({url:"/documents",params:e}),providesTags:["Document"]}),getDocument:t.query({query:e=>`/documents/${e}`,providesTags:(e,n,r)=>[{type:"Document",id:r}]}),deleteDocument:t.mutation({query:e=>({url:`/documents/${e}`,method:"DELETE"}),invalidatesTags:["Document"]}),getDownloadUrl:t.query({query:e=>({url:`/documents/${e}/download`,responseHandler:async n=>`${yt.api.baseUrl}/documents/${e}/download`})})})}),{useGetCategoriesQuery:kT,useUploadDocumentMutation:KU,useUploadMultipleDocumentsMutation:YU,useGetDocumentsQuery:XU,useDeleteDocumentMutation:JU}=Af,Rf=br({reducerPath:"quickbooksApi",baseQuery:xr({baseUrl:yt.api.baseUrl,prepareHeaders:t=>{const e=localStorage.getItem("token");return e&&t.set("authorization",`Bearer ${e}`),t}}),tagTypes:["QuickBooksStatus","Invoices","Customers","Expenses","Dashboard"],endpoints:t=>({getQuickBooksAuthUrl:t.mutation({query:()=>({url:"/quickbooks/auth/authorize",method:"GET"})}),getQuickBooksConnectionStatus:t.query({query:e=>({url:"/quickbooks/auth/status",params:e?{clientId:e}:{}}),providesTags:(e,n,r)=>r?[{type:"QuickBooksStatus",id:r}]:["QuickBooksStatus"]}),refreshQuickBooksToken:t.mutation({query:()=>({url:"/quickbooks/auth/refresh",method:"POST"}),invalidatesTags:["QuickBooksStatus"]}),disconnectQuickBooks:t.mutation({query:()=>({url:"/quickbooks/auth/disconnect",method:"DELETE"}),invalidatesTags:["QuickBooksStatus","Invoices","Customers","Expenses","Dashboard"]}),handleQuickBooksCallback:t.mutation({query:e=>({url:"/quickbooks/auth/callback",method:"POST",body:e}),invalidatesTags:["QuickBooksStatus"]}),syncQuickBooksData:t.mutation({query:()=>({url:"/quickbooks/sync",method:"GET"}),invalidatesTags:["Invoices","Customers","Expenses","Dashboard"]}),getQuickBooksInvoices:t.query({query:(e={})=>({url:"/quickbooks/invoices",params:{...e,...e.clientId&&{clientId:e.clientId}}}),providesTags:(e,n,r)=>r!=null&&r.clientId?[{type:"Invoices",id:r.clientId}]:["Invoices"]}),getQuickBooksCustomers:t.query({query:(e={})=>({url:"/quickbooks/customers",params:{...e,...e.clientId&&{clientId:e.clientId}}}),providesTags:(e,n,r)=>r!=null&&r.clientId?[{type:"Customers",id:r.clientId}]:["Customers"]}),getQuickBooksExpenses:t.query({query:(e={})=>({url:"/quickbooks/expenses",params:{...e,...e.clientId&&{clientId:e.clientId}}}),providesTags:(e,n,r)=>r!=null&&r.clientId?[{type:"Expenses",id:r.clientId}]:["Expenses"]}),getQuickBooksVendors:t.query({query:(e={})=>({url:"/quickbooks/vendors",params:e})}),getQuickBooksBills:t.query({query:(e={})=>({url:"/quickbooks/bills",params:e})}),getQuickBooksCashBalance:t.query({query:(e={})=>({url:"/quickbooks/cashBalance",params:e})}),getQuickBooksEssentialStats:t.query({query:(e={})=>({url:"/quickbooks/essentialStats",params:e})}),getQuickBooksProfitLoss:t.query({query:(e={})=>({url:"/quickbooks/reports/profit-loss",params:{...e,...e.clientId&&{clientId:e.clientId}}})}),getQuickBooksBalanceSheet:t.query({query:(e={})=>({url:"/quickbooks/reports/balance-sheet",params:{...e,...e.clientId&&{clientId:e.clientId}}})}),getQuickBooksGeneralLedger:t.query({query:(e={})=>({url:"/quickbooks/reports/general-ledger",params:{...e,...e.clientId&&{clientId:e.clientId}}})}),getQuickBooksDashboard:t.query({query:e=>({url:"/quickbooks/dashboard",params:e?{clientId:e}:{}}),providesTags:(e,n,r)=>r?[{type:"Dashboard",id:r}]:["Dashboard"]}),getQuickBooksHealth:t.query({query:()=>"/quickbooks/health"})})}),{useGetQuickBooksAuthUrlMutation:B0,useGetQuickBooksConnectionStatusQuery:z0,useRefreshQuickBooksTokenMutation:ZU,useDisconnectQuickBooksMutation:V0,useHandleQuickBooksCallbackMutation:e9,useSyncQuickBooksDataMutation:kp,useGetQuickBooksInvoicesQuery:ET,useLazyGetQuickBooksInvoicesQuery:t9,useGetQuickBooksCustomersQuery:TT,useGetQuickBooksExpensesQuery:IT,useGetQuickBooksCashBalanceQuery:n9,useGetQuickBooksEssentialStatsQuery:r9,useGetQuickBooksGeneralLedgerQuery:s9,useGetQuickBooksProfitLossQuery:PT,useGetQuickBooksBalanceSheetQuery:AT}=Rf,Of=br({reducerPath:"questionnaireApi",baseQuery:xr({baseUrl:yt.api.baseUrl,timeout:yt.api.timeout,prepareHeaders:t=>(t.set("Content-Type","application/json"),t)}),tagTypes:["QuestionnaireResponse"],endpoints:t=>({submitQuestionnaire:t.mutation({query:e=>({url:"/questionnaire/submit",method:"POST",body:e}),invalidatesTags:["QuestionnaireResponse"]}),getQuestionnaireByEmail:t.query({query:e=>`/questionnaire/${encodeURIComponent(e)}`,providesTags:(e,n,r)=>[{type:"QuestionnaireResponse",id:r}]}),createClientInIgnition:t.mutation({query:e=>({url:"/integrations/zapier/lead",method:"POST",body:e})}),sendPandaDoc:t.mutation({query:e=>({url:"/integrations/zapier/pandadoc",method:"POST",body:e})})})}),{useSubmitQuestionnaireMutation:i9,useCreateClientInIgnitionMutation:o9,useSendPandaDocMutation:a9}=Of,Df=br({reducerPath:"tasksApi",baseQuery:xr({baseUrl:yt.api.baseUrl,prepareHeaders:(t,{getState:e})=>{var r;const n=((r=e().auth)==null?void 0:r.token)||localStorage.getItem("token");return n&&t.set("authorization",`Bearer ${n}`),t}}),tagTypes:["Tasks","Profile","ClientList","ClientProfile"],endpoints:t=>({createTask:t.mutation({query:e=>({url:"/tasks",method:"POST",body:e})}),getTasks:t.query({query:(e={})=>`/tasks?${new URLSearchParams(e).toString()}`,providesTags:["Tasks"]}),deleteTask:t.mutation({query:e=>({url:`/tasks/${e}`,method:"DELETE"}),invalidatesTags:["Tasks"]}),updateTask:t.mutation({query:({id:e,body:n})=>({url:`/tasks/${e}`,method:"PATCH",body:n}),invalidatesTags:["Tasks"]}),updateTaskStatus:t.mutation({query:({id:e,status:n,notes:r})=>({url:`/tasks/${e}/status`,method:"PATCH",body:{status:n,notes:r}}),invalidatesTags:["Tasks"]}),getTaskById:t.query({query:e=>`/tasks/${e}`,providesTags:(e,n,r)=>[{type:"Task",id:r}]})})}),{useCreateTaskMutation:RT,useGetTasksQuery:q0,useDeleteTaskMutation:OT,useUpdateTaskMutation:l9,useUpdateTaskStatusMutation:DT}=Df,MT=N6({reducer:{auth:gF,onboarding:jF,notifications:BF,[jf.reducerPath]:jf.reducer,[Cf.reducerPath]:Cf.reducer,[kf.reducerPath]:kf.reducer,[Ef.reducerPath]:Ef.reducer,[Tf.reducerPath]:Tf.reducer,[If.reducerPath]:If.reducer,[$o.reducerPath]:$o.reducer,[Pf.reducerPath]:Pf.reducer,[Af.reducerPath]:Af.reducer,[Rf.reducerPath]:Rf.reducer,[Of.reducerPath]:Of.reducer,[Df.reducerPath]:Df.reducer},middleware:t=>t({serializableCheck:!1}).concat(jf.middleware).concat(Cf.middleware).concat(kf.middleware).concat(Ef.middleware).concat(Tf.middleware).concat(If.middleware).concat($o.middleware).concat(Pf.middleware).concat(Af.middleware).concat(Rf.middleware).concat(Of.middleware).concat(Df.middleware)});Y6(MT.dispatch);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}var Ai;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ai||(Ai={}));const j1="popstate";function c9(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:a,hash:l}=r.location;return Tx("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ep(s)}return d9(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u9(){return Math.random().toString(36).substr(2,8)}function C1(t,e){return{usr:t.state,key:t.key,idx:e}}function Tx(t,e,n,r){return n===void 0&&(n=null),Xu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jl(e):e,{state:n,key:e&&e.key||r||u9()})}function Ep(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function d9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=Ai.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Xu({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=Ai.Pop;let y=h(),_=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:_})}function p(y,_){l=Ai.Push;let N=Tx(v.location,y,_);u=h()+1;let b=C1(N,u),j=v.createHref(N);try{a.pushState(b,"",j)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(j)}o&&c&&c({action:l,location:v.location,delta:1})}function g(y,_){l=Ai.Replace;let N=Tx(v.location,y,_);u=h();let b=C1(N,u),j=v.createHref(N);a.replaceState(b,"",j),o&&c&&c({action:l,location:v.location,delta:0})}function w(y){let _=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof y=="string"?y:Ep(y);return N=N.replace(/ $/,"%20"),Dt(_,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,_)}let v={get action(){return l},get location(){return t(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(j1,f),c=y,()=>{s.removeEventListener(j1,f),c=null}},createHref(y){return e(s,y)},createURL:w,encodeLocation(y){let _=w(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(y){return a.go(y)}};return v}var k1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(k1||(k1={}));function h9(t,e,n){return n===void 0&&(n="/"),f9(t,e,n)}function f9(t,e,n,r){let s=typeof e=="string"?Jl(e):e,o=W0(s.pathname||"/",n);if(o==null)return null;let a=FT(t);p9(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=C9(o);l=N9(a[c],u)}return l}function FT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Dt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=zi([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Dt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FT(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:w9(u,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of UT(o.path))s(o,a,c)}),e}function UT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=UT(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function p9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const m9=/^:[\w-]+$/,g9=3,y9=2,v9=1,x9=10,b9=-2,E1=t=>t==="*";function w9(t,e){let n=t.split("/"),r=n.length;return n.some(E1)&&(r+=b9),e&&(r+=y9),n.filter(s=>!E1(s)).reduce((s,o)=>s+(m9.test(o)?g9:o===""?v9:x9),r)}function _9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function N9(t,e,n){let{routesMeta:r}=t,s={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=S9({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:zi([o,f.pathname]),pathnameBase:I9(zi([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=zi([o,f.pathnameBase]))}return a}function S9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let v=l[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[f];return g&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function j9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),LT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function C9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function W0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function k9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jl(t):t;return{pathname:n?n.startsWith("/")?n:E9(n,e):e,search:P9(r),hash:A9(s)}}function E9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Oy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H0(t,e){let n=T9(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function G0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Jl(t):(s=Xu({},t),Dt(!s.pathname||!s.pathname.includes("?"),Oy("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),Oy("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),Oy("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=k9(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const zi=t=>t.join("/").replace(/\/\/+/g,"/"),I9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $T=["post","put","patch","delete"];new Set($T);const O9=["get",...$T];new Set(O9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const Q0=m.createContext(null),D9=m.createContext(null),ao=m.createContext(null),zm=m.createContext(null),js=m.createContext({outlet:null,matches:[],isDataRoute:!1}),BT=m.createContext(null);function M9(t,e){let{relative:n}=e===void 0?{}:e;Zl()||Dt(!1);let{basename:r,navigator:s}=m.useContext(ao),{hash:o,pathname:a,search:l}=qT(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:zi([r,a])),s.createHref({pathname:c,search:l,hash:o})}function Zl(){return m.useContext(zm)!=null}function kn(){return Zl()||Dt(!1),m.useContext(zm).location}function zT(t){m.useContext(ao).static||m.useLayoutEffect(t)}function Tt(){let{isDataRoute:t}=m.useContext(js);return t?X9():L9()}function L9(){Zl()||Dt(!1);let t=m.useContext(Q0),{basename:e,future:n,navigator:r}=m.useContext(ao),{matches:s}=m.useContext(js),{pathname:o}=kn(),a=JSON.stringify(H0(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return zT(()=>{l.current=!0}),m.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=G0(u,JSON.parse(a),o,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,o,t])}const F9=m.createContext(null);function U9(t){let e=m.useContext(js).outlet;return e&&m.createElement(F9.Provider,{value:t},e)}function VT(){let{matches:t}=m.useContext(js),e=t[t.length-1];return e?e.params:{}}function qT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(ao),{matches:s}=m.useContext(js),{pathname:o}=kn(),a=JSON.stringify(H0(s,r.v7_relativeSplatPath));return m.useMemo(()=>G0(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function $9(t,e){return B9(t,e)}function B9(t,e,n,r){Zl()||Dt(!1);let{navigator:s}=m.useContext(ao),{matches:o}=m.useContext(js),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=kn(),h;if(e){var f;let y=typeof e=="string"?Jl(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Dt(!1),h=y}else h=u;let p=h.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=h9(t,{pathname:g}),v=H9(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:zi([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:zi([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&v?m.createElement(zm.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ai.Pop}},v):v}function z9(){let t=Y9(),e=R9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const V9=m.createElement(z9,null);class q9 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(js.Provider,{value:this.props.routeContext},m.createElement(BT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W9(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Q0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(js.Provider,{value:e},r)}function H9(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Dt(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:g}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let g,w=!1,v=null,y=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||V9,c&&(u<0&&p===0?(J9("route-fallback"),w=!0,y=null):u===p&&(w=!0,y=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,p+1)),N=()=>{let b;return g?b=v:w?b=y:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,m.createElement(W9,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(q9,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):N()},null)}var WT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WT||{}),HT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(HT||{});function G9(t){let e=m.useContext(Q0);return e||Dt(!1),e}function Q9(t){let e=m.useContext(D9);return e||Dt(!1),e}function K9(t){let e=m.useContext(js);return e||Dt(!1),e}function GT(t){let e=K9(),n=e.matches[e.matches.length-1];return n.route.id||Dt(!1),n.route.id}function Y9(){var t;let e=m.useContext(BT),n=Q9(),r=GT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function X9(){let{router:t}=G9(WT.UseNavigateStable),e=GT(HT.UseNavigateStable),n=m.useRef(!1);return zT(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ju({fromRouteId:e},o)))},[t,e])}const T1={};function J9(t,e,n){T1[t]||(T1[t]=!0)}function Z9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xn(t){let{to:e,replace:n,state:r,relative:s}=t;Zl()||Dt(!1);let{future:o,static:a}=m.useContext(ao),{matches:l}=m.useContext(js),{pathname:c}=kn(),u=Tt(),h=G0(e,H0(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function K0(t){return U9(t.context)}function tt(t){Dt(!1)}function e$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ai.Pop,navigator:o,static:a=!1,future:l}=t;Zl()&&Dt(!1);let c=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:a,future:Ju({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=Jl(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let y=W0(h,c);return y==null?null:{location:{pathname:y,search:f,hash:p,state:g,key:w},navigationType:s}},[c,h,f,p,g,w,s]);return v==null?null:m.createElement(ao.Provider,{value:u},m.createElement(zm.Provider,{children:n,value:v}))}function t$(t){let{children:e,location:n}=t;return $9(Ix(e),n)}new Promise(()=>{});function Ix(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let o=[...e,s];if(r.type===m.Fragment){n.push.apply(n,Ix(r.props.children,o));return}r.type!==tt&&Dt(!1),!r.props.index||!r.props.children||Dt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ix(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(this,arguments)}function n$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function r$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s$(t,e){return t.button===0&&(!e||e==="_self")&&!r$(t)}function Ax(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function i$(t,e){let n=Ax(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const o$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a$="6";try{window.__reactRouterVersion=a$}catch{}const l$="startTransition",I1=gm[l$];function c$(t){let{basename:e,children:n,future:r,window:s}=t,o=m.useRef();o.current==null&&(o.current=c9({window:s,v5Compat:!0}));let a=o.current,[l,c]=m.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=m.useCallback(f=>{u&&I1?I1(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>a.listen(h),[a,h]),m.useEffect(()=>Z9(r),[r]),m.createElement(e$,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const u$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=n$(e,o$),{basename:g}=m.useContext(ao),w,v=!1;if(typeof u=="string"&&d$.test(u)&&(w=u,u$))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),I=W0(j.pathname,g);j.origin===b.origin&&I!=null?u=I+j.search+j.hash:v=!0}catch{}let y=M9(u,{relative:s}),_=h$(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function N(b){r&&r(b),b.defaultPrevented||_(b)}return m.createElement("a",Px({},p,{href:w||y,onClick:v||o?r:N,ref:n,target:c}))});var P1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(P1||(P1={}));var A1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A1||(A1={}));function h$(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=e===void 0?{}:e,c=Tt(),u=kn(),h=qT(t,{relative:a});return m.useCallback(f=>{if(s$(f,n)){f.preventDefault();let p=r!==void 0?r:Ep(u)===Ep(h);c(t,{replace:p,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,h,r,s,n,t,o,a,l])}function Y0(t){let e=m.useRef(Ax(t)),n=m.useRef(!1),r=kn(),s=m.useMemo(()=>i$(r.search,n.current?null:e.current),[r.search]),o=Tt(),a=m.useCallback((l,c)=>{const u=Ax(typeof l=="function"?l(s):l);n.current=!0,o("?"+u,c)},[o,s]);return[s,a]}const f$=()=>{};var R1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=function(t,e){if(!t)throw ec(e)},ec=function(t){return new Error("Firebase Database ("+QT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},p$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=o>>2,f=(o&3)<<4|l>>4;let p=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new m$;const p=o<<2|l>>4;if(r.push(p),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YT=function(t){const e=KT(t);return X0.encodeByteArray(e,!0)},Tp=function(t){return YT(t).replace(/\./g,"")},Ip=function(t){try{return X0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){return XT(void 0,t)}function XT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!y$(n)||(t[n]=XT(t[n],e[n]));return t}function y$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=()=>v$().__FIREBASE_DEFAULTS__,b$=()=>{if(typeof process>"u"||typeof R1>"u")return;const t=R1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ip(t[1]);return e&&JSON.parse(e)},J0=()=>{try{return f$()||x$()||b$()||w$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JT=t=>{var e,n;return(n=(e=J0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ZT=t=>{const e=JT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eI=()=>{var t;return(t=J0())==null?void 0:t.config},tI=t=>{var e;return(e=J0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tp(JSON.stringify(n)),Tp(JSON.stringify(a)),""].join(".")}const gu={};function _$(){const t={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?t.emulator.push(e):t.prod.push(e);return t}function N$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let O1=!1;function ew(t,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||gu[t]===e||gu[t]||O1)return;gu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=_$().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{O1=!0,a()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=N$(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),y=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),N=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),h(y,v);const j=u();c(N,_),b.append(N,w,y,j),document.body.appendChild(b)}o?(w.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function S$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C$(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k$(){return QT.NODE_ADMIN===!0}function sI(){try{return typeof indexedDB=="object"}catch{return!1}}function iI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function E$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$="FirebaseError";class Cs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T$,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?I$(o,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Cs(s,l,r)}}function I$(t,e){return t.replace(P$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const P$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){return JSON.parse(t)}function Zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Zu(Ip(o[0])||""),n=Zu(Ip(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},A$=function(t){const e=oI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},R$=function(t){const e=oI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Al(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Rx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pp(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Xi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(D1(o)&&D1(a)){if(!Xi(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function D1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const p=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(p<<1|p>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=l^o&(a^l),h=1518500249):(u=o^a^l,h=1859775393):f<60?(u=o&a|l&(o|a),h=2400959708):(u=o^a^l,h=3395469782);const p=(s<<5|s>>>27)+u+c+h+r[f]&4294967295;c=l,l=a,a=(o<<30|o>>>2)&4294967295,o=s,s=p}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}else for(;s<n;)if(o[a]=e[s],++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function D$(t,e){const n=new M$(t,e);return n.subscribe.bind(n)}class M${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dy),s.error===void 0&&(s.error=Dy),s.complete===void 0&&(s.complete=Dy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dy(){}function nw(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,ie(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(o<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){return t&&t._delegate?t._delegate:t}class vr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B$(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $$(t){return t===So?void 0:t}function B$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const V$={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},q$=We.INFO,W$={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},H$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=W$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=q$,this._logHandler=H$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const G$=(t,e)=>e.some(n=>t instanceof n);let M1,L1;function Q$(){return M1||(M1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K$(){return L1||(L1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aI=new WeakMap,Ox=new WeakMap,lI=new WeakMap,My=new WeakMap,rw=new WeakMap;function Y$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Hs(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&aI.set(n,t)}).catch(()=>{}),rw.set(e,t),e}function X$(t){if(Ox.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Ox.set(t,e)}let Dx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ox.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J$(t){Dx=t(Dx)}function Z$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ly(this),e,...n);return lI.set(r,e.sort?e.sort():[e]),Hs(r)}:K$().includes(t)?function(...e){return t.apply(Ly(this),e),Hs(aI.get(this))}:function(...e){return Hs(t.apply(Ly(this),e))}}function e8(t){return typeof t=="function"?Z$(t):(t instanceof IDBTransaction&&X$(t),G$(t,Q$())?new Proxy(t,Dx):t)}function Hs(t){if(t instanceof IDBRequest)return Y$(t);if(My.has(t))return My.get(t);const e=e8(t);return e!==t&&(My.set(t,e),rw.set(e,t)),e}const Ly=t=>rw.get(t);function Hm(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),l=Hs(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Hs(a.result),c.oldVersion,c.newVersion,Hs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function Fy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Hs(n).then(()=>{})}const t8=["get","getKey","getAll","getAllKeys","count"],n8=["put","add","delete","clear"],Uy=new Map;function F1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uy.get(e))return Uy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=n8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||t8.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Uy.set(e,o),o}J$(t=>({...t,get:(e,n,r)=>F1(e,n)||t.get(e,n,r),has:(e,n)=>!!F1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mx="@firebase/app",U1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Wm("@firebase/app"),i8="@firebase/app-compat",o8="@firebase/analytics-compat",a8="@firebase/analytics",l8="@firebase/app-check-compat",c8="@firebase/app-check",u8="@firebase/auth",d8="@firebase/auth-compat",h8="@firebase/database",f8="@firebase/data-connect",p8="@firebase/database-compat",m8="@firebase/functions",g8="@firebase/functions-compat",y8="@firebase/installations",v8="@firebase/installations-compat",x8="@firebase/messaging",b8="@firebase/messaging-compat",w8="@firebase/performance",_8="@firebase/performance-compat",N8="@firebase/remote-config",S8="@firebase/remote-config-compat",j8="@firebase/storage",C8="@firebase/storage-compat",k8="@firebase/firestore",E8="@firebase/ai",T8="@firebase/firestore-compat",I8="firebase",P8="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="[DEFAULT]",A8={[Mx]:"fire-core",[i8]:"fire-core-compat",[a8]:"fire-analytics",[o8]:"fire-analytics-compat",[c8]:"fire-app-check",[l8]:"fire-app-check-compat",[u8]:"fire-auth",[d8]:"fire-auth-compat",[h8]:"fire-rtdb",[f8]:"fire-data-connect",[p8]:"fire-rtdb-compat",[m8]:"fire-fn",[g8]:"fire-fn-compat",[y8]:"fire-iid",[v8]:"fire-iid-compat",[x8]:"fire-fcm",[b8]:"fire-fcm-compat",[w8]:"fire-perf",[_8]:"fire-perf-compat",[N8]:"fire-rc",[S8]:"fire-rc-compat",[j8]:"fire-gcs",[C8]:"fire-gcs-compat",[k8]:"fire-fst",[T8]:"fire-fst-compat",[E8]:"fire-vertex","fire-js":"fire-js",[I8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,R8=new Map,Fx=new Map;function $1(t,e){try{t.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kr(t){const e=t.name;if(Fx.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Fx.set(e,t);for(const n of ed.values())$1(n,t);for(const n of R8.values())$1(n,t);return!0}function ya(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new ga("app","Firebase",O8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=P8;function cI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Lx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Vi.create("bad-app-name",{appName:String(s)});if(n||(n=eI()),!n)throw Vi.create("no-options");const o=ed.get(s);if(o){if(Xi(n,o.options)&&Xi(r,o.config))return o;throw Vi.create("duplicate-app",{appName:s})}const a=new z$(s);for(const c of Fx.values())a.addComponent(c);const l=new D8(n,r,a);return ed.set(s,l),l}function Gm(t=Lx){const e=ed.get(t);if(!e&&t===Lx&&eI())return cI();if(!e)throw Vi.create("no-app",{appName:t});return e}function M8(){return Array.from(ed.values())}function Un(t,e,n){let r=A8[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(a.join(" "));return}Kr(new vr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="firebase-heartbeat-database",F8=1,td="firebase-heartbeat-store";let $y=null;function uI(){return $y||($y=Hm(L8,F8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(td)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),$y}async function U8(t){try{const n=(await uI()).transaction(td),r=await n.objectStore(td).get(dI(t));return await n.done,r}catch(e){if(e instanceof Cs)ti.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(n.message)}}}async function B1(t,e){try{const r=(await uI()).transaction(td,"readwrite");await r.objectStore(td).put(e,dI(t)),await r.done}catch(n){if(n instanceof Cs)ti.warn(n.message);else{const r=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(r.message)}}}function dI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=1024,B8=30;class z8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=z1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>B8){const a=W8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z1(),{heartbeatsToSend:r,unsentEntries:s}=V8(this._heartbeatsCache.heartbeats),o=Tp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ti.warn(n),""}}}function z1(){return new Date().toISOString().substring(0,10)}function V8(t,e=$8){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),V1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),V1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sI()?iI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V1(t){return Tp(JSON.stringify({version:2,heartbeats:t})).length}function W8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){Kr(new vr("platform-logger",e=>new r8(e),"PRIVATE")),Kr(new vr("heartbeat",e=>new z8(e),"PRIVATE")),Un(Mx,U1,t),Un(Mx,U1,"esm2020"),Un("fire-js","")}H8("");var G8="firebase",Q8="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(G8,Q8,"app");var q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function E(){}E.prototype=x.prototype,S.D=x.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(k,R,P){for(var T=Array(arguments.length-2),L=2;L<arguments.length;L++)T[L-2]=arguments[L];return x.prototype[R].apply(k,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,x,E){E||(E=0);var k=Array(16);if(typeof x=="string")for(var R=0;16>R;++R)k[R]=x.charCodeAt(E++)|x.charCodeAt(E++)<<8|x.charCodeAt(E++)<<16|x.charCodeAt(E++)<<24;else for(R=0;16>R;++R)k[R]=x[E++]|x[E++]<<8|x[E++]<<16|x[E++]<<24;x=S.g[0],E=S.g[1],R=S.g[2];var P=S.g[3],T=x+(P^E&(R^P))+k[0]+3614090360&4294967295;x=E+(T<<7&4294967295|T>>>25),T=P+(R^x&(E^R))+k[1]+3905402710&4294967295,P=x+(T<<12&4294967295|T>>>20),T=R+(E^P&(x^E))+k[2]+606105819&4294967295,R=P+(T<<17&4294967295|T>>>15),T=E+(x^R&(P^x))+k[3]+3250441966&4294967295,E=R+(T<<22&4294967295|T>>>10),T=x+(P^E&(R^P))+k[4]+4118548399&4294967295,x=E+(T<<7&4294967295|T>>>25),T=P+(R^x&(E^R))+k[5]+1200080426&4294967295,P=x+(T<<12&4294967295|T>>>20),T=R+(E^P&(x^E))+k[6]+2821735955&4294967295,R=P+(T<<17&4294967295|T>>>15),T=E+(x^R&(P^x))+k[7]+4249261313&4294967295,E=R+(T<<22&4294967295|T>>>10),T=x+(P^E&(R^P))+k[8]+1770035416&4294967295,x=E+(T<<7&4294967295|T>>>25),T=P+(R^x&(E^R))+k[9]+2336552879&4294967295,P=x+(T<<12&4294967295|T>>>20),T=R+(E^P&(x^E))+k[10]+4294925233&4294967295,R=P+(T<<17&4294967295|T>>>15),T=E+(x^R&(P^x))+k[11]+2304563134&4294967295,E=R+(T<<22&4294967295|T>>>10),T=x+(P^E&(R^P))+k[12]+1804603682&4294967295,x=E+(T<<7&4294967295|T>>>25),T=P+(R^x&(E^R))+k[13]+4254626195&4294967295,P=x+(T<<12&4294967295|T>>>20),T=R+(E^P&(x^E))+k[14]+2792965006&4294967295,R=P+(T<<17&4294967295|T>>>15),T=E+(x^R&(P^x))+k[15]+1236535329&4294967295,E=R+(T<<22&4294967295|T>>>10),T=x+(R^P&(E^R))+k[1]+4129170786&4294967295,x=E+(T<<5&4294967295|T>>>27),T=P+(E^R&(x^E))+k[6]+3225465664&4294967295,P=x+(T<<9&4294967295|T>>>23),T=R+(x^E&(P^x))+k[11]+643717713&4294967295,R=P+(T<<14&4294967295|T>>>18),T=E+(P^x&(R^P))+k[0]+3921069994&4294967295,E=R+(T<<20&4294967295|T>>>12),T=x+(R^P&(E^R))+k[5]+3593408605&4294967295,x=E+(T<<5&4294967295|T>>>27),T=P+(E^R&(x^E))+k[10]+38016083&4294967295,P=x+(T<<9&4294967295|T>>>23),T=R+(x^E&(P^x))+k[15]+3634488961&4294967295,R=P+(T<<14&4294967295|T>>>18),T=E+(P^x&(R^P))+k[4]+3889429448&4294967295,E=R+(T<<20&4294967295|T>>>12),T=x+(R^P&(E^R))+k[9]+568446438&4294967295,x=E+(T<<5&4294967295|T>>>27),T=P+(E^R&(x^E))+k[14]+3275163606&4294967295,P=x+(T<<9&4294967295|T>>>23),T=R+(x^E&(P^x))+k[3]+4107603335&4294967295,R=P+(T<<14&4294967295|T>>>18),T=E+(P^x&(R^P))+k[8]+1163531501&4294967295,E=R+(T<<20&4294967295|T>>>12),T=x+(R^P&(E^R))+k[13]+2850285829&4294967295,x=E+(T<<5&4294967295|T>>>27),T=P+(E^R&(x^E))+k[2]+4243563512&4294967295,P=x+(T<<9&4294967295|T>>>23),T=R+(x^E&(P^x))+k[7]+1735328473&4294967295,R=P+(T<<14&4294967295|T>>>18),T=E+(P^x&(R^P))+k[12]+2368359562&4294967295,E=R+(T<<20&4294967295|T>>>12),T=x+(E^R^P)+k[5]+4294588738&4294967295,x=E+(T<<4&4294967295|T>>>28),T=P+(x^E^R)+k[8]+2272392833&4294967295,P=x+(T<<11&4294967295|T>>>21),T=R+(P^x^E)+k[11]+1839030562&4294967295,R=P+(T<<16&4294967295|T>>>16),T=E+(R^P^x)+k[14]+4259657740&4294967295,E=R+(T<<23&4294967295|T>>>9),T=x+(E^R^P)+k[1]+2763975236&4294967295,x=E+(T<<4&4294967295|T>>>28),T=P+(x^E^R)+k[4]+1272893353&4294967295,P=x+(T<<11&4294967295|T>>>21),T=R+(P^x^E)+k[7]+4139469664&4294967295,R=P+(T<<16&4294967295|T>>>16),T=E+(R^P^x)+k[10]+3200236656&4294967295,E=R+(T<<23&4294967295|T>>>9),T=x+(E^R^P)+k[13]+681279174&4294967295,x=E+(T<<4&4294967295|T>>>28),T=P+(x^E^R)+k[0]+3936430074&4294967295,P=x+(T<<11&4294967295|T>>>21),T=R+(P^x^E)+k[3]+3572445317&4294967295,R=P+(T<<16&4294967295|T>>>16),T=E+(R^P^x)+k[6]+76029189&4294967295,E=R+(T<<23&4294967295|T>>>9),T=x+(E^R^P)+k[9]+3654602809&4294967295,x=E+(T<<4&4294967295|T>>>28),T=P+(x^E^R)+k[12]+3873151461&4294967295,P=x+(T<<11&4294967295|T>>>21),T=R+(P^x^E)+k[15]+530742520&4294967295,R=P+(T<<16&4294967295|T>>>16),T=E+(R^P^x)+k[2]+3299628645&4294967295,E=R+(T<<23&4294967295|T>>>9),T=x+(R^(E|~P))+k[0]+4096336452&4294967295,x=E+(T<<6&4294967295|T>>>26),T=P+(E^(x|~R))+k[7]+1126891415&4294967295,P=x+(T<<10&4294967295|T>>>22),T=R+(x^(P|~E))+k[14]+2878612391&4294967295,R=P+(T<<15&4294967295|T>>>17),T=E+(P^(R|~x))+k[5]+4237533241&4294967295,E=R+(T<<21&4294967295|T>>>11),T=x+(R^(E|~P))+k[12]+1700485571&4294967295,x=E+(T<<6&4294967295|T>>>26),T=P+(E^(x|~R))+k[3]+2399980690&4294967295,P=x+(T<<10&4294967295|T>>>22),T=R+(x^(P|~E))+k[10]+4293915773&4294967295,R=P+(T<<15&4294967295|T>>>17),T=E+(P^(R|~x))+k[1]+2240044497&4294967295,E=R+(T<<21&4294967295|T>>>11),T=x+(R^(E|~P))+k[8]+1873313359&4294967295,x=E+(T<<6&4294967295|T>>>26),T=P+(E^(x|~R))+k[15]+4264355552&4294967295,P=x+(T<<10&4294967295|T>>>22),T=R+(x^(P|~E))+k[6]+2734768916&4294967295,R=P+(T<<15&4294967295|T>>>17),T=E+(P^(R|~x))+k[13]+1309151649&4294967295,E=R+(T<<21&4294967295|T>>>11),T=x+(R^(E|~P))+k[4]+4149444226&4294967295,x=E+(T<<6&4294967295|T>>>26),T=P+(E^(x|~R))+k[11]+3174756917&4294967295,P=x+(T<<10&4294967295|T>>>22),T=R+(x^(P|~E))+k[2]+718787259&4294967295,R=P+(T<<15&4294967295|T>>>17),T=E+(P^(R|~x))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var E=x-this.blockSize,k=this.B,R=this.h,P=0;P<x;){if(R==0)for(;P<=E;)s(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<x;)if(k[R++]=S.charCodeAt(P++),R==this.blockSize){s(this,k),R=0;break}}else for(;P<x;)if(k[R++]=S[P++],R==this.blockSize){s(this,k),R=0;break}}this.h=R,this.o+=x},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var E=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=E&255,E/=256;for(this.u(S),S=Array(16),x=E=0;4>x;++x)for(var k=0;32>k;k+=8)S[E++]=this.g[x]>>>k&255;return S};function o(S,x){var E=l;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=x(S)}function a(S,x){this.h=x;for(var E=[],k=!0,R=S.length-1;0<=R;R--){var P=S[R]|0;k&&P==x||(E[R]=P,k=!1)}this.g=E}var l={};function c(S){return-128<=S&&128>S?o(S,function(x){return new a([x|0],0>x?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return y(u(-S));for(var x=[],E=1,k=0;S>=E;k++)x[k]=S/E|0,E*=4294967296;return new a(x,0)}function h(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return y(h(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(x,8)),k=f,R=0;R<S.length;R+=8){var P=Math.min(8,S.length-R),T=parseInt(S.substring(R,R+P),x);8>P?(P=u(Math.pow(x,P)),k=k.j(P).add(u(T))):(k=k.j(E),k=k.add(u(T)))}return k}var f=c(0),p=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-y(this).m();for(var S=0,x=1,E=0;E<this.g.length;E++){var k=this.i(E);S+=(0<=k?k:4294967296+k)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(v(this))return"-"+y(this).toString(S);for(var x=u(Math.pow(S,6)),E=this,k="";;){var R=j(E,x).g;E=_(E,R.j(x));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=R,w(E))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=_(this,S),v(S)?-1:w(S)?0:1};function y(S){for(var x=S.g.length,E=[],k=0;k<x;k++)E[k]=~S.g[k];return new a(E,~S.h).add(p)}t.abs=function(){return v(this)?y(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),E=[],k=0,R=0;R<=x;R++){var P=k+(this.i(R)&65535)+(S.i(R)&65535),T=(P>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);k=T>>>16,P&=65535,T&=65535,E[R]=T<<16|P}return new a(E,E[E.length-1]&-2147483648?-1:0)};function _(S,x){return S.add(y(x))}t.j=function(S){if(w(this)||w(S))return f;if(v(this))return v(S)?y(this).j(y(S)):y(y(this).j(S));if(v(S))return y(this.j(y(S)));if(0>this.l(g)&&0>S.l(g))return u(this.m()*S.m());for(var x=this.g.length+S.g.length,E=[],k=0;k<2*x;k++)E[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<S.g.length;R++){var P=this.i(k)>>>16,T=this.i(k)&65535,L=S.i(R)>>>16,q=S.i(R)&65535;E[2*k+2*R]+=T*q,N(E,2*k+2*R),E[2*k+2*R+1]+=P*q,N(E,2*k+2*R+1),E[2*k+2*R+1]+=T*L,N(E,2*k+2*R+1),E[2*k+2*R+2]+=P*L,N(E,2*k+2*R+2)}for(k=0;k<x;k++)E[k]=E[2*k+1]<<16|E[2*k];for(k=x;k<2*x;k++)E[k]=0;return new a(E,0)};function N(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function b(S,x){this.g=S,this.h=x}function j(S,x){if(w(x))throw Error("division by zero");if(w(S))return new b(f,f);if(v(S))return x=j(y(S),x),new b(y(x.g),y(x.h));if(v(x))return x=j(S,y(x)),new b(y(x.g),x.h);if(30<S.g.length){if(v(S)||v(x))throw Error("slowDivide_ only works with positive integers.");for(var E=p,k=x;0>=k.l(S);)E=I(E),k=I(k);var R=O(E,1),P=O(k,1);for(k=O(k,2),E=O(E,2);!w(k);){var T=P.add(k);0>=T.l(S)&&(R=R.add(E),P=T),k=O(k,1),E=O(E,1)}return x=_(S,R.j(x)),new b(R,x)}for(R=f;0<=S.l(x);){for(E=Math.max(1,Math.floor(S.m()/x.m())),k=Math.ceil(Math.log(E)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=u(E),T=P.j(x);v(T)||0<T.l(S);)E-=k,P=u(E),T=P.j(x);w(P)&&(P=p),R=R.add(P),S=_(S,T)}return new b(R,S)}t.A=function(S){return j(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),E=[],k=0;k<x;k++)E[k]=this.i(k)&S.i(k);return new a(E,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),E=[],k=0;k<x;k++)E[k]=this.i(k)|S.i(k);return new a(E,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),E=[],k=0;k<x;k++)E[k]=this.i(k)^S.i(k);return new a(E,this.h^S.h)};function I(S){for(var x=S.g.length+1,E=[],k=0;k<x;k++)E[k]=S.i(k)<<1|S.i(k-1)>>>31;return new a(E,S.h)}function O(S,x){var E=x>>5;x%=32;for(var k=S.g.length-E,R=[],P=0;P<k;P++)R[P]=0<x?S.i(P+E)>>>x|S.i(P+E+1)<<32-x:S.i(P+E);return new a(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,sw=a}).apply(typeof q1<"u"?q1:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,C,A){return d==Array.prototype||d==Object.prototype||(d[C]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var C=0;C<d.length;++C){var A=d[C];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(d,C){if(C)e:{var A=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var G=d[M];if(!(G in A))break e;A=A[G]}d=d[d.length-1],M=A[d],C=C(M),C!=M&&C!=null&&e(A,d,{configurable:!0,writable:!0,value:C})}}function o(d,C){d instanceof String&&(d+="");var A=0,M=!1,G={next:function(){if(!M&&A<d.length){var Y=A++;return{value:C(Y,d[Y]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(d){return d||function(){return o(this,function(C,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(d){var C=typeof d;return C=C!="object"?C:d?Array.isArray(d)?"array":C:"null",C=="array"||C=="object"&&typeof d.length=="number"}function u(d){var C=typeof d;return C=="object"&&d!=null||C=="function"}function h(d,C,A){return d.call.apply(d.bind,arguments)}function f(d,C,A){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),d.apply(C,G)}}return function(){return d.apply(C,arguments)}}function p(d,C,A){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(d,C){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function w(d,C){function A(){}A.prototype=C.prototype,d.aa=C.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(M,G,Y){for(var ae=Array(arguments.length-2),et=2;et<arguments.length;et++)ae[et-2]=arguments[et];return C.prototype[G].apply(M,ae)}}function v(d){const C=d.length;if(0<C){const A=Array(C);for(let M=0;M<C;M++)A[M]=d[M];return A}return[]}function y(d,C){for(let A=1;A<arguments.length;A++){const M=arguments[A];if(c(M)){const G=d.length||0,Y=M.length||0;d.length=G+Y;for(let ae=0;ae<Y;ae++)d[G+ae]=M[ae]}else d.push(M)}}class _{constructor(C,A){this.i=C,this.j=A,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function N(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var I=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(d,C,A){for(const M in d)C.call(A,d[M],M,d)}function S(d,C){for(const A in d)C.call(void 0,d[A],A,d)}function x(d){const C={};for(const A in d)C[A]=d[A];return C}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,C){let A,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(A in M)d[A]=M[A];for(let Y=0;Y<E.length;Y++)A=E[Y],Object.prototype.hasOwnProperty.call(M,A)&&(d[A]=M[A])}}function R(d){var C=1;d=d.split(":");const A=[];for(;0<C&&d.length;)A.push(d.shift()),C--;return d.length&&A.push(d.join(":")),A}function P(d){l.setTimeout(()=>{throw d},0)}function T(){var d=F;let C=null;return d.g&&(C=d.g,d.g=d.g.next,d.g||(d.h=null),C.next=null),C}class L{constructor(){this.h=this.g=null}add(C,A){const M=q.get();M.set(C,A),this.h?this.h.next=M:this.g=M,this.h=M}}var q=new _(()=>new z,d=>d.reset());class z{constructor(){this.next=this.g=this.h=null}set(C,A){this.h=C,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let B,D=!1,F=new L,W=()=>{const d=l.Promise.resolve(void 0);B=()=>{d.then(X)}};var X=()=>{for(var d;d=T();){try{d.h.call(d.g)}catch(A){P(A)}var C=q;C.j(d),100>C.h&&(C.h++,d.next=C.g,C.g=d)}D=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(d,C){this.type=d,this.g=this.target=C,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,C=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};l.addEventListener("test",A,C),l.removeEventListener("test",A,C)}catch{}return d}();function V(d,C){if($.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=C,C=d.relatedTarget){if(I){e:{try{j(C.nodeName);var G=!0;break e}catch{}G=!1}G||(C=null)}}else A=="mouseover"?C=d.fromElement:A=="mouseout"&&(C=d.toElement);this.relatedTarget=C,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:H[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&V.aa.h.call(this)}}w(V,$);var H={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),J=0;function Q(d,C,A,M,G){this.listener=d,this.proxy=null,this.src=C,this.type=A,this.capture=!!M,this.ha=G,this.key=++J,this.da=this.fa=!1}function ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function re(d){this.src=d,this.g={},this.h=0}re.prototype.add=function(d,C,A,M,G){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ae=ye(d,C,M,G);return-1<ae?(C=d[ae],A||(C.fa=!1)):(C=new Q(C,this.src,Y,!!M,G),C.fa=A,d.push(C)),C};function ne(d,C){var A=C.type;if(A in d.g){var M=d.g[A],G=Array.prototype.indexOf.call(M,C,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(M,G,1),Y&&(ee(C),d.g[A].length==0&&(delete d.g[A],d.h--))}}function ye(d,C,A,M){for(var G=0;G<d.length;++G){var Y=d[G];if(!Y.da&&Y.listener==C&&Y.capture==!!A&&Y.ha==M)return G}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),ze={};function se(d,C,A,M,G){if(Array.isArray(C)){for(var Y=0;Y<C.length;Y++)se(d,C[Y],A,M,G);return null}return A=Nt(A),d&&d[U]?d.K(C,A,u(M)?!!M.capture:!1,G):we(d,C,A,!1,M,G)}function we(d,C,A,M,G,Y){if(!C)throw Error("Invalid event type");var ae=u(G)?!!G.capture:!!G,et=_t(d);if(et||(d[fe]=et=new re(d)),A=et.add(C,A,M,ae,Y),A.proxy)return A;if(M=_e(),A.proxy=M,M.src=d,M.listener=A,d.addEventListener)K||(G=ae),G===void 0&&(G=!1),d.addEventListener(C.toString(),M,G);else if(d.attachEvent)d.attachEvent(Je(C.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function _e(){function d(A){return C.call(d.src,d.listener,A)}const C=wt;return d}function Qe(d,C,A,M,G){if(Array.isArray(C))for(var Y=0;Y<C.length;Y++)Qe(d,C[Y],A,M,G);else M=u(M)?!!M.capture:!!M,A=Nt(A),d&&d[U]?(d=d.i,C=String(C).toString(),C in d.g&&(Y=d.g[C],A=ye(Y,A,M,G),-1<A&&(ee(Y[A]),Array.prototype.splice.call(Y,A,1),Y.length==0&&(delete d.g[C],d.h--)))):d&&(d=_t(d))&&(C=d.g[C.toString()],d=-1,C&&(d=ye(C,A,M,G)),(A=-1<d?C[d]:null)&&zt(A))}function zt(d){if(typeof d!="number"&&d&&!d.da){var C=d.src;if(C&&C[U])ne(C.i,d);else{var A=d.type,M=d.proxy;C.removeEventListener?C.removeEventListener(A,M,d.capture):C.detachEvent?C.detachEvent(Je(A),M):C.addListener&&C.removeListener&&C.removeListener(M),(A=_t(C))?(ne(A,d),A.h==0&&(A.src=null,C[fe]=null)):ee(d)}}}function Je(d){return d in ze?ze[d]:ze[d]="on"+d}function wt(d,C){if(d.da)d=!0;else{C=new V(C,this);var A=d.listener,M=d.ha||d.src;d.fa&&zt(d),d=A.call(M,C)}return d}function _t(d){return d=d[fe],d instanceof re?d:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(d){return typeof d=="function"?d:(d[Ze]||(d[Ze]=function(C){return d.handleEvent(C)}),d[Ze])}function rt(){Z.call(this),this.i=new re(this),this.M=this,this.F=null}w(rt,Z),rt.prototype[U]=!0,rt.prototype.removeEventListener=function(d,C,A,M){Qe(this,d,C,A,M)};function Ve(d,C){var A,M=d.F;if(M)for(A=[];M;M=M.F)A.push(M);if(d=d.M,M=C.type||C,typeof C=="string")C=new $(C,d);else if(C instanceof $)C.target=C.target||d;else{var G=C;C=new $(M,d),k(C,G)}if(G=!0,A)for(var Y=A.length-1;0<=Y;Y--){var ae=C.g=A[Y];G=cn(ae,M,!0,C)&&G}if(ae=C.g=d,G=cn(ae,M,!0,C)&&G,G=cn(ae,M,!1,C)&&G,A)for(Y=0;Y<A.length;Y++)ae=C.g=A[Y],G=cn(ae,M,!1,C)&&G}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var d=this.i,C;for(C in d.g){for(var A=d.g[C],M=0;M<A.length;M++)ee(A[M]);delete d.g[C],d.h--}}this.F=null},rt.prototype.K=function(d,C,A,M){return this.i.add(String(d),C,!1,A,M)},rt.prototype.L=function(d,C,A,M){return this.i.add(String(d),C,!0,A,M)};function cn(d,C,A,M){if(C=d.i.g[String(C)],!C)return!0;C=C.concat();for(var G=!0,Y=0;Y<C.length;++Y){var ae=C[Y];if(ae&&!ae.da&&ae.capture==A){var et=ae.listener,tn=ae.ha||ae.src;ae.fa&&ne(d.i,ae),G=et.call(tn,M)!==!1&&G}}return G&&!M.defaultPrevented}function es(d,C,A){if(typeof d=="function")A&&(d=p(d,A));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:l.setTimeout(d,C||0)}function It(d){d.g=es(()=>{d.g=null,d.i&&(d.i=!1,It(d))},d.l);const C=d.h;d.h=null,d.m.apply(null,C)}class sr extends Z{constructor(C,A){super(),this.m=C,this.l=A,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vt(d){Z.call(this),this.h=d,this.g={}}w(Vt,Z);var st=[];function ts(d){O(d.g,function(C,A){this.g.hasOwnProperty(A)&&zt(C)},d),d.g={}}Vt.prototype.N=function(){Vt.aa.N.call(this),ts(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=l.JSON.stringify,Nr=l.JSON.parse,ns=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function qn(){}qn.prototype.h=null;function or(d){return d.h||(d.h=d.i())}function Sr(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){$.call(this,"d")}w(jr,$);function lt(){$.call(this,"c")}w(lt,$);var St={},ve=null;function ke(){return ve=ve||new rt}St.La="serverreachability";function ce(d){$.call(this,St.La,d)}w(ce,$);function Re(d){const C=ke();Ve(C,new ce(C))}St.STAT_EVENT="statevent";function oe(d,C){$.call(this,St.STAT_EVENT,d),this.stat=C}w(oe,$);function he(d){const C=ke();Ve(C,new oe(C,d))}St.Ma="timingevent";function Ne(d,C){$.call(this,St.Ma,d),this.size=C}w(Ne,$);function mt(d,C){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},C)}function jt(){this.g=!0}jt.prototype.xa=function(){this.g=!1};function ar(d,C,A,M,G,Y){d.info(function(){if(d.g)if(Y)for(var ae="",et=Y.split("&"),tn=0;tn<et.length;tn++){var Be=et[tn].split("=");if(1<Be.length){var un=Be[0];Be=Be[1];var dn=un.split("_");ae=2<=dn.length&&dn[1]=="type"?ae+(un+"="+Be+"&"):ae+(un+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+C+`
`+A+`
`+ae})}function lr(d,C,A,M,G,Y,ae){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+C+`
`+A+`
`+Y+" "+ae})}function Ct(d,C,A,M){d.info(function(){return"XMLHTTP TEXT ("+C+"): "+it(d,A)+(M?" "+M:"")})}function In(d,C){d.info(function(){return"TIMEOUT: "+C})}jt.prototype.info=function(){};function it(d,C){if(!d.g)return C;if(!C)return null;try{var A=JSON.parse(C);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var M=A[d];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<G.length;ae++)G[ae]=""}}}}return ir(A)}catch{return C}}var Es={NO_ERROR:0,TIMEOUT:8},Lg={},_a;function uo(){}w(uo,qn),uo.prototype.g=function(){return new XMLHttpRequest},uo.prototype.i=function(){return{}},_a=new uo;function Cr(d,C,A,M){this.j=d,this.i=C,this.l=A,this.R=M||1,this.U=new Vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pc}function pc(){this.i=null,this.g="",this.h=!1}var Ke={},Wn={};function ho(d,C,A){d.L=1,d.v=dh(Ts(C)),d.m=A,d.P=!0,pi(d,null)}function pi(d,C){d.F=Date.now(),lh(d),d.A=Ts(d.v);var A=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),pN(A.i,"t",M),d.C=0,A=d.j.J,d.h=new pc,d.g=AN(d.j,A?C:null,!d.m),0<d.O&&(d.M=new sr(p(d.Y,d,d.g),d.O)),C=d.U,A=d.g,M=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(st[0]=G.toString()),G=st);for(var Y=0;Y<G.length;Y++){var ae=se(A,G[Y],M||C.handleEvent,!1,C.h||C);if(!ae)break;C.g[ae.key]=ae}C=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,C)):(d.u="GET",d.g.ea(d.A,d.u,null,C)),Re(),ar(d.i,d.u,d.A,d.l,d.R,d.m)}Cr.prototype.ca=function(d){d=d.target;const C=this.M;C&&Is(d)==3?C.j():this.Y(d)},Cr.prototype.Y=function(d){try{if(d==this.g)e:{const dn=Is(this.g);var C=this.g.Ba();const ja=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||wN(this.g)))){this.J||dn!=4||C==7||(C==8||0>=ja?Re(3):Re(2)),Fg(this);var A=this.g.Z();this.X=A;t:if(ah(this)){var M=wN(this.g);d="";var G=M.length,Y=Is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fo(this),gc(this);var ae="";break t}this.h.i=new l.TextDecoder}for(C=0;C<G;C++)this.h.h=!0,d+=this.h.i.decode(M[C],{stream:!(Y&&C==G-1)});M.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=A==200,lr(this.i,this.u,this.A,this.l,this.R,dn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var et,tn=this.g;if((et=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(et)){var Be=et;break t}}Be=null}if(A=Be)Ct(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ug(this,A);else{this.o=!1,this.s=3,he(12),fo(this),gc(this);break e}}if(this.P){A=!0;let kr;for(;!this.J&&this.C<ae.length;)if(kr=mc(this,ae),kr==Wn){dn==4&&(this.s=4,he(14),A=!1),Ct(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==Ke){this.s=4,he(15),Ct(this.i,this.l,ae,"[Invalid Chunk]"),A=!1;break}else Ct(this.i,this.l,kr,null),Ug(this,kr);if(ah(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||ae.length!=0||this.h.h||(this.s=1,he(16),A=!1),this.o=this.o&&A,!A)Ct(this.i,this.l,ae,"[Invalid Chunked Response]"),fo(this),gc(this);else if(0<ae.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Wg(un),un.M=!0,he(11))}}else Ct(this.i,this.l,ae,null),Ug(this,ae);dn==4&&fo(this),this.o&&!this.J&&(dn==4?EN(this.j,this):(this.o=!1,lh(this)))}else q4(this.g),A==400&&0<ae.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),fo(this),gc(this)}}}catch{}finally{}};function ah(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function mc(d,C){var A=d.C,M=C.indexOf(`
`,A);return M==-1?Wn:(A=Number(C.substring(A,M)),isNaN(A)?Ke:(M+=1,M+A>C.length?Wn:(C=C.slice(M,M+A),d.C=M+A,C)))}Cr.prototype.cancel=function(){this.J=!0,fo(this)};function lh(d){d.S=Date.now()+d.I,nN(d,d.I)}function nN(d,C){if(d.B!=null)throw Error("WatchDog timer not null");d.B=mt(p(d.ba,d),C)}function Fg(d){d.B&&(l.clearTimeout(d.B),d.B=null)}Cr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(In(this.i,this.A),this.L!=2&&(Re(),he(17)),fo(this),this.s=2,gc(this)):nN(this,this.S-d)};function gc(d){d.j.G==0||d.J||EN(d.j,d)}function fo(d){Fg(d);var C=d.M;C&&typeof C.ma=="function"&&C.ma(),d.M=null,ts(d.U),d.g&&(C=d.g,d.g=null,C.abort(),C.ma())}function Ug(d,C){try{var A=d.j;if(A.G!=0&&(A.g==d||$g(A.h,d))){if(!d.K&&$g(A.h,d)&&A.G==3){try{var M=A.Da.g.parse(C)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)yh(A),mh(A);else break e;qg(A),he(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=mt(p(A.Za,A),6e3));if(1>=iN(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else mo(A,11)}else if((d.K||A.g==d)&&yh(A),!N(C))for(G=A.Da.g.parse(C),C=0;C<G.length;C++){let Be=G[C];if(A.T=Be[0],Be=Be[1],A.G==2)if(Be[0]=="c"){A.K=Be[1],A.ia=Be[2];const un=Be[3];un!=null&&(A.la=un,A.j.info("VER="+A.la));const dn=Be[4];dn!=null&&(A.Aa=dn,A.j.info("SVER="+A.Aa));const ja=Be[5];ja!=null&&typeof ja=="number"&&0<ja&&(M=1.5*ja,A.L=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const kr=d.g;if(kr){const vh=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vh){var Y=M.h;Y.g||vh.indexOf("spdy")==-1&&vh.indexOf("quic")==-1&&vh.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Bg(Y,Y.h),Y.h=null))}if(M.D){const Hg=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Hg&&(M.ya=Hg,ct(M.I,M.D,Hg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),M=A;var ae=d;if(M.qa=PN(M,M.J?M.ia:null,M.W),ae.K){oN(M.h,ae);var et=ae,tn=M.L;tn&&(et.I=tn),et.B&&(Fg(et),lh(et)),M.g=ae}else CN(M);0<A.i.length&&gh(A)}else Be[0]!="stop"&&Be[0]!="close"||mo(A,7);else A.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?mo(A,7):Vg(A):Be[0]!="noop"&&A.l&&A.l.ta(Be),A.v=0)}}Re(4)}catch{}}var E4=class{constructor(d,C){this.g=d,this.map=C}};function rN(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sN(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function iN(d){return d.h?1:d.g?d.g.size:0}function $g(d,C){return d.h?d.h==C:d.g?d.g.has(C):!1}function Bg(d,C){d.g?d.g.add(C):d.h=C}function oN(d,C){d.h&&d.h==C?d.h=null:d.g&&d.g.has(C)&&d.g.delete(C)}rN.prototype.cancel=function(){if(this.i=aN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function aN(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let C=d.i;for(const A of d.g.values())C=C.concat(A.D);return C}return v(d.i)}function T4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var C=[],A=d.length,M=0;M<A;M++)C.push(d[M]);return C}C=[],A=0;for(M in d)C[A++]=d[M];return C}function I4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var C=[];d=d.length;for(var A=0;A<d;A++)C.push(A);return C}C=[],A=0;for(const M in d)C[A++]=M;return C}}}function lN(d,C){if(d.forEach&&typeof d.forEach=="function")d.forEach(C,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,C,void 0);else for(var A=I4(d),M=T4(d),G=M.length,Y=0;Y<G;Y++)C.call(void 0,M[Y],A&&A[Y],d)}var cN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function P4(d,C){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var M=d[A].indexOf("="),G=null;if(0<=M){var Y=d[A].substring(0,M);G=d[A].substring(M+1)}else Y=d[A];C(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function po(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof po){this.h=d.h,ch(this,d.j),this.o=d.o,this.g=d.g,uh(this,d.s),this.l=d.l;var C=d.i,A=new xc;A.i=C.i,C.g&&(A.g=new Map(C.g),A.h=C.h),uN(this,A),this.m=d.m}else d&&(C=String(d).match(cN))?(this.h=!1,ch(this,C[1]||"",!0),this.o=yc(C[2]||""),this.g=yc(C[3]||"",!0),uh(this,C[4]),this.l=yc(C[5]||"",!0),uN(this,C[6]||"",!0),this.m=yc(C[7]||"")):(this.h=!1,this.i=new xc(null,this.h))}po.prototype.toString=function(){var d=[],C=this.j;C&&d.push(vc(C,dN,!0),":");var A=this.g;return(A||C=="file")&&(d.push("//"),(C=this.o)&&d.push(vc(C,dN,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(vc(A,A.charAt(0)=="/"?O4:R4,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",vc(A,M4)),d.join("")};function Ts(d){return new po(d)}function ch(d,C,A){d.j=A?yc(C,!0):C,d.j&&(d.j=d.j.replace(/:$/,""))}function uh(d,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);d.s=C}else d.s=null}function uN(d,C,A){C instanceof xc?(d.i=C,L4(d.i,d.h)):(A||(C=vc(C,D4)),d.i=new xc(C,d.h))}function ct(d,C,A){d.i.set(C,A)}function dh(d){return ct(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function yc(d,C){return d?C?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vc(d,C,A){return typeof d=="string"?(d=encodeURI(d).replace(C,A4),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function A4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var dN=/[#\/\?@]/g,R4=/[#\?:]/g,O4=/[#\?]/g,D4=/[#\?@]/g,M4=/#/g;function xc(d,C){this.h=this.g=null,this.i=d||null,this.j=!!C}function mi(d){d.g||(d.g=new Map,d.h=0,d.i&&P4(d.i,function(C,A){d.add(decodeURIComponent(C.replace(/\+/g," ")),A)}))}t=xc.prototype,t.add=function(d,C){mi(this),this.i=null,d=Na(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(C),this.h+=1,this};function hN(d,C){mi(d),C=Na(d,C),d.g.has(C)&&(d.i=null,d.h-=d.g.get(C).length,d.g.delete(C))}function fN(d,C){return mi(d),C=Na(d,C),d.g.has(C)}t.forEach=function(d,C){mi(this),this.g.forEach(function(A,M){A.forEach(function(G){d.call(C,G,M,this)},this)},this)},t.na=function(){mi(this);const d=Array.from(this.g.values()),C=Array.from(this.g.keys()),A=[];for(let M=0;M<C.length;M++){const G=d[M];for(let Y=0;Y<G.length;Y++)A.push(C[M])}return A},t.V=function(d){mi(this);let C=[];if(typeof d=="string")fN(this,d)&&(C=C.concat(this.g.get(Na(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)C=C.concat(d[A])}return C},t.set=function(d,C){return mi(this),this.i=null,d=Na(this,d),fN(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[C]),this.h+=1,this},t.get=function(d,C){return d?(d=this.V(d),0<d.length?String(d[0]):C):C};function pN(d,C,A){hN(d,C),0<A.length&&(d.i=null,d.g.set(Na(d,C),v(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],C=Array.from(this.g.keys());for(var A=0;A<C.length;A++){var M=C[A];const Y=encodeURIComponent(String(M)),ae=this.V(M);for(M=0;M<ae.length;M++){var G=Y;ae[M]!==""&&(G+="="+encodeURIComponent(String(ae[M]))),d.push(G)}}return this.i=d.join("&")};function Na(d,C){return C=String(C),d.j&&(C=C.toLowerCase()),C}function L4(d,C){C&&!d.j&&(mi(d),d.i=null,d.g.forEach(function(A,M){var G=M.toLowerCase();M!=G&&(hN(this,M),pN(this,G,A))},d)),d.j=C}function F4(d,C){const A=new jt;if(l.Image){const M=new Image;M.onload=g(gi,A,"TestLoadImage: loaded",!0,C,M),M.onerror=g(gi,A,"TestLoadImage: error",!1,C,M),M.onabort=g(gi,A,"TestLoadImage: abort",!1,C,M),M.ontimeout=g(gi,A,"TestLoadImage: timeout",!1,C,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else C(!1)}function U4(d,C){const A=new jt,M=new AbortController,G=setTimeout(()=>{M.abort(),gi(A,"TestPingServer: timeout",!1,C)},1e4);fetch(d,{signal:M.signal}).then(Y=>{clearTimeout(G),Y.ok?gi(A,"TestPingServer: ok",!0,C):gi(A,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(G),gi(A,"TestPingServer: error",!1,C)})}function gi(d,C,A,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(A)}catch{}}function $4(){this.g=new ns}function B4(d,C,A){const M=A||"";try{lN(d,function(G,Y){let ae=G;u(G)&&(ae=ir(G)),C.push(M+Y+"="+encodeURIComponent(ae))})}catch(G){throw C.push(M+"type="+encodeURIComponent("_badmap")),G}}function hh(d){this.l=d.Ub||null,this.j=d.eb||!1}w(hh,qn),hh.prototype.g=function(){return new fh(this.l,this.j)},hh.prototype.i=function(d){return function(){return d}}({});function fh(d,C){rt.call(this),this.D=d,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(fh,rt),t=fh.prototype,t.open=function(d,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=C,this.readyState=1,wc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(C.body=d),(this.D||l).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mN(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function mN(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var C=d.value?d.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!d.done}))&&(this.response=this.responseText+=C)}d.done?bc(this):wc(this),this.readyState==3&&mN(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,bc(this))},t.Qa=function(d){this.g&&(this.response=d,bc(this))},t.ga=function(){this.g&&bc(this)};function bc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,wc(d)}t.setRequestHeader=function(d,C){this.u.append(d,C)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],C=this.h.entries();for(var A=C.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=C.next();return d.join(`\r
`)};function wc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function gN(d){let C="";return O(d,function(A,M){C+=M,C+=":",C+=A,C+=`\r
`}),C}function zg(d,C,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=gN(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):ct(d,C,A))}function Pt(d){rt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Pt,rt);var z4=/^https?$/i,V4=["POST","PUT"];t=Pt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,C,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);C=C?C.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_a.g(),this.v=this.o?or(this.o):or(_a),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(d),!0),this.B=!1}catch(Y){yN(this,Y);return}if(d=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)A.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())A.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(V4,C,void 0))||M||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of A)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bN(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){yN(this,Y)}};function yN(d,C){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=C,d.m=5,vN(d),ph(d)}function vN(d){d.A||(d.A=!0,Ve(d,"complete"),Ve(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ve(this,"complete"),Ve(this,"abort"),ph(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ph(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xN(this):this.bb())},t.bb=function(){xN(this)};function xN(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Is(d)!=4||d.Z()!=2)){if(d.u&&Is(d)==4)es(d.Ea,0,d);else if(Ve(d,"readystatechange"),Is(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var A;if(!(A=C)){var M;if(M=ae===0){var G=String(d.D).match(cN)[1]||null;!G&&l.self&&l.self.location&&(G=l.self.location.protocol.slice(0,-1)),M=!z4.test(G?G.toLowerCase():"")}A=M}if(A)Ve(d,"complete"),Ve(d,"success");else{d.m=6;try{var Y=2<Is(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",vN(d)}}finally{ph(d)}}}}function ph(d,C){if(d.g){bN(d);const A=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,C||Ve(d,"ready");try{A.onreadystatechange=M}catch{}}}function bN(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Is(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var C=this.g.responseText;return d&&C.indexOf(d)==0&&(C=C.substring(d.length)),Nr(C)}};function wN(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function q4(d){const C={};d=(d.g&&2<=Is(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(N(d[M]))continue;var A=R(d[M]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Y=C[G]||[];C[G]=Y,Y.push(A)}S(C,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _c(d,C,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||C}function _N(d){this.Aa=0,this.i=[],this.j=new jt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_c("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_c("baseRetryDelayMs",5e3,d),this.cb=_c("retryDelaySeedMs",1e4,d),this.Wa=_c("forwardChannelMaxRetries",2,d),this.wa=_c("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new rN(d&&d.concurrentRequestLimit),this.Da=new $4,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_N.prototype,t.la=8,t.G=1,t.connect=function(d,C,A,M){he(0),this.W=d,this.H=C||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.I=PN(this,null,this.W),gh(this)};function Vg(d){if(NN(d),d.G==3){var C=d.U++,A=Ts(d.I);if(ct(A,"SID",d.K),ct(A,"RID",C),ct(A,"TYPE","terminate"),Nc(d,A),C=new Cr(d,d.j,C),C.L=2,C.v=dh(Ts(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(C.v.toString(),"")}catch{}!A&&l.Image&&(new Image().src=C.v,A=!0),A||(C.g=AN(C.j,null),C.g.ea(C.v)),C.F=Date.now(),lh(C)}IN(d)}function mh(d){d.g&&(Wg(d),d.g.cancel(),d.g=null)}function NN(d){mh(d),d.u&&(l.clearTimeout(d.u),d.u=null),yh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function gh(d){if(!sN(d.h)&&!d.s){d.s=!0;var C=d.Ga;B||W(),D||(B(),D=!0),F.add(C,d),d.B=0}}function W4(d,C){return iN(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=C.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=mt(p(d.Ga,d,C),TN(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Cr(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=x(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var C=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(C+=M,4096<C){C=A;break e}if(C===4096||A===this.i.length-1){C=A+1;break e}}C=1e3}else C=1e3;C=jN(this,G,C),A=Ts(this.I),ct(A,"RID",d),ct(A,"CVER",22),this.D&&ct(A,"X-HTTP-Session-Id",this.D),Nc(this,A),Y&&(this.O?C="headers="+encodeURIComponent(String(gN(Y)))+"&"+C:this.m&&zg(A,this.m,Y)),Bg(this.h,G),this.Ua&&ct(A,"TYPE","init"),this.P?(ct(A,"$req",C),ct(A,"SID","null"),G.T=!0,ho(G,A,null)):ho(G,A,C),this.G=2}}else this.G==3&&(d?SN(this,d):this.i.length==0||sN(this.h)||SN(this))};function SN(d,C){var A;C?A=C.l:A=d.U++;const M=Ts(d.I);ct(M,"SID",d.K),ct(M,"RID",A),ct(M,"AID",d.T),Nc(d,M),d.m&&d.o&&zg(M,d.m,d.o),A=new Cr(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),C&&(d.i=C.D.concat(d.i)),C=jN(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Bg(d.h,A),ho(A,M,C)}function Nc(d,C){d.H&&O(d.H,function(A,M){ct(C,M,A)}),d.l&&lN({},function(A,M){ct(C,M,A)})}function jN(d,C,A){A=Math.min(d.i.length,A);var M=d.l?p(d.l.Na,d.l,d):null;e:{var G=d.i;let Y=-1;for(;;){const ae=["count="+A];Y==-1?0<A?(Y=G[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let et=!0;for(let tn=0;tn<A;tn++){let Be=G[tn].g;const un=G[tn].map;if(Be-=Y,0>Be)Y=Math.max(0,G[tn].g-100),et=!1;else try{B4(un,ae,"req"+Be+"_")}catch{M&&M(un)}}if(et){M=ae.join("&");break e}}}return d=d.i.splice(0,A),C.D=d,M}function CN(d){if(!d.g&&!d.u){d.Y=1;var C=d.Fa;B||W(),D||(B(),D=!0),F.add(C,d),d.v=0}}function qg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=mt(p(d.Fa,d),TN(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,kN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=mt(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),mh(this),kN(this))};function Wg(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function kN(d){d.g=new Cr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var C=Ts(d.qa);ct(C,"RID","rpc"),ct(C,"SID",d.K),ct(C,"AID",d.T),ct(C,"CI",d.F?"0":"1"),!d.F&&d.ja&&ct(C,"TO",d.ja),ct(C,"TYPE","xmlhttp"),Nc(d,C),d.m&&d.o&&zg(C,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=dh(Ts(C)),A.m=null,A.P=!0,pi(A,d)}t.Za=function(){this.C!=null&&(this.C=null,mh(this),qg(this),he(19))};function yh(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function EN(d,C){var A=null;if(d.g==C){yh(d),Wg(d),d.g=null;var M=2}else if($g(d.h,C))A=C.D,oN(d.h,C),M=1;else return;if(d.G!=0){if(C.o)if(M==1){A=C.m?C.m.length:0,C=Date.now()-C.F;var G=d.B;M=ke(),Ve(M,new Ne(M,A)),gh(d)}else CN(d);else if(G=C.s,G==3||G==0&&0<C.X||!(M==1&&W4(d,C)||M==2&&qg(d)))switch(A&&0<A.length&&(C=d.h,C.i=C.i.concat(A)),G){case 1:mo(d,5);break;case 4:mo(d,10);break;case 3:mo(d,6);break;default:mo(d,2)}}}function TN(d,C){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*C}function mo(d,C){if(d.j.info("Error code "+C),C==2){var A=p(d.fb,d),M=d.Xa;const G=!M;M=new po(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ch(M,"https"),dh(M),G?F4(M.toString(),A):U4(M.toString(),A)}else he(2);d.G=0,d.l&&d.l.sa(C),IN(d),NN(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function IN(d){if(d.G=0,d.ka=[],d.l){const C=aN(d.h);(C.length!=0||d.i.length!=0)&&(y(d.ka,C),y(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function PN(d,C,A){var M=A instanceof po?Ts(A):new po(A);if(M.g!="")C&&(M.g=C+"."+M.g),uh(M,M.s);else{var G=l.location;M=G.protocol,C=C?C+"."+G.hostname:G.hostname,G=+G.port;var Y=new po(null);M&&ch(Y,M),C&&(Y.g=C),G&&uh(Y,G),A&&(Y.l=A),M=Y}return A=d.D,C=d.ya,A&&C&&ct(M,A,C),ct(M,"VER",d.la),Nc(d,M),M}function AN(d,C,A){if(C&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=d.Ca&&!d.pa?new Pt(new hh({eb:A})):new Pt(d.pa),C.Ha(d.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function RN(){}t=RN.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cr(d,C){rt.call(this),this.g=new _N(C),this.l=d,this.h=C&&C.messageUrlParams||null,d=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(d?d["X-WebChannel-Content-Type"]=C.messageContentType:d={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(d?d["X-WebChannel-Client-Profile"]=C.va:d={"X-WebChannel-Client-Profile":C.va}),this.g.S=d,(d=C&&C.Sb)&&!N(d)&&(this.g.m=d),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!N(C)&&(this.g.D=C,d=this.h,d!==null&&C in d&&(d=this.h,C in d&&delete d[C])),this.j=new Sa(this)}w(cr,rt),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){Vg(this.g)},cr.prototype.o=function(d){var C=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=ir(d),d=A);C.i.push(new E4(C.Ya++,d)),C.G==3&&gh(C)},cr.prototype.N=function(){this.g.l=null,delete this.j,Vg(this.g),delete this.g,cr.aa.N.call(this)};function ON(d){jr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var C=d.__sm__;if(C){e:{for(const A in C){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,C=C!==null&&d in C?C[d]:void 0),this.data=C}else this.data=d}w(ON,jr);function DN(){lt.call(this),this.status=1}w(DN,lt);function Sa(d){this.g=d}w(Sa,RN),Sa.prototype.ua=function(){Ve(this.g,"a")},Sa.prototype.ta=function(d){Ve(this.g,new ON(d))},Sa.prototype.sa=function(d){Ve(this.g,new DN)},Sa.prototype.ra=function(){Ve(this.g,"b")},cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,Lg.COMPLETE="complete",Sr.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const W1="@firebase/firestore",H1="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new Wm("@firebase/firestore");function Lr(t,...e){if(Rl.logLevel<=We.DEBUG){const n=e.map(iw);Rl.debug(`Firestore (${Ud}): ${t}`,...n)}}function hI(t,...e){if(Rl.logLevel<=We.ERROR){const n=e.map(iw);Rl.error(`Firestore (${Ud}): ${t}`,...n)}}function K8(t,...e){if(Rl.logLevel<=We.WARN){const n=e.map(iw);Rl.warn(`Firestore (${Ud}): ${t}`,...n)}}function iw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fI(t,r,n)}function fI(t,e,n){let r=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hI(r),new Error(r)}function yu(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||fI(e,s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Le extends Cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wn.UNAUTHENTICATED))}shutdown(){}}class X8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J8{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yu(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new vu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vu,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Lr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Lr("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vu)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Lr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yu(typeof r.accessToken=="string",31837,{l:r}),new pI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yu(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class Z8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Z8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yu(this.o===void 0,3512);const r=o=>{o.error!=null&&Lr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Lr("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Lr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Lr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new G1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yu(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new G1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=nB(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ji(t,e){return t<e?-1:t>e?1:0}function sB(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return By(s)===By(o)?Ji(s,o):By(s)?1:-1}return Ji(t.length,e.length)}const iB=55296,oB=57343;function By(t){const e=t.charCodeAt(0);return e>=iB&&e<=oB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="__name__";class is{constructor(e,n,r){n===void 0?n=0:n>e.length&&nd(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&nd(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=is.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ji(e.length,n.length)}static compareSegments(e,n){const r=is.isNumericId(e),s=is.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?is.extractNumericId(e).compare(is.extractNumericId(n)):sB(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sw.fromString(e.substring(4,e.length-2))}}class Or extends is{construct(e,n,r){return new Or(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(Me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Or(n)}static emptyPath(){return new Or([])}}const aB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ko extends is{construct(e,n,r){return new ko(e,n,r)}static isValidIdentifier(e){return aB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ko.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q1}static keyField(){return new ko([Q1])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Le(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Le(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Le(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(o(),s++)}if(o(),a)throw new Le(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ko(n)}static emptyPath(){return new ko([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.path=e}static fromPath(e){return new Ro(Or.fromString(e))}static fromName(e){return new Ro(Or.fromString(e).popFirst(5))}static empty(){return new Ro(Or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Or.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Or.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ro(new Or(e.slice()))}}function lB(t,e,n,r){if(e===!0&&r===!0)throw new Le(Me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uB(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nd(12329,{type:typeof t})}function dB(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uB(t);throw new Le(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function $d(t,e){if(!cB(t))throw new Le(Me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Le(Me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=-62135596800,Y1=1e6;class os{static now(){return os.fromMillis(Date.now())}static fromDate(e){return os.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Y1);return new os(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K1)throw new Le(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y1}_compareTo(e){return this.seconds===e.seconds?Ji(this.nanoseconds,e.nanoseconds):Ji(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:os._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($d(e,os._jsonSchema))return new os(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}os._jsonSchemaVersion="firestore/timestamp/1.0",os._jsonSchema={type:$t("string",os._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};function hB(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fB("Invalid base64 string: "+o):o}}(e);return new Zo(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new Zo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ji(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zo.EMPTY_BYTE_STRING=new Zo("");const Ux="(default)";class Ap{constructor(e,n){this.projectId=e,this.database=n||Ux}static empty(){return new Ap("","")}get isDefaultDatabase(){return this.database===Ux}isEqual(e){return e instanceof Ap&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n=null,r=[],s=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mB(t){return new pB(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X1,De;(De=X1||(X1={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new sw([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=1048576;function zy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Lr("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new vu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,l=new ow(e,n,a,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var J1,Z1;(Z1=J1||(J1={})).Ma="default",Z1.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firestore.googleapis.com",tj=!0;class nj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mI,this.ssl=tj}else this.host=e.host,this.ssl=e.ssl??tj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yB)throw new Le(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xB(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gI{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y8;switch(r.type){case"firstParty":return new eB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ej.get(n);r&&(Lr("ComponentProvider","Removing Datastore"),ej.delete(n),r.terminate())}(this),Promise.resolve()}}function bB(t,e,n,r={}){var u;t=dB(t,gI);const s=ma(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Z0(`https://${l}`),ew("Firestore",!0)),o.host!==mI&&o.host!==l&&K8("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!Xi(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=wn.MOCK_USER;else{h=nI(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Le(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new wn(p)}t._authCredentials=new X8(new pI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aw(this.firestore,e,this._query)}}class us{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new us(this.firestore,e,this._key)}toJSON(){return{type:us._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($d(n,us._jsonSchema))return new us(e,r||null,new Ro(Or.fromString(n.referencePath)))}}us._jsonSchemaVersion="firestore/documentReference/1.0",us._jsonSchema={type:$t("string",us._jsonSchemaVersion),referencePath:$t("string")};class lw extends aw{constructor(e,n,r){super(e,n,mB(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new us(this.firestore,null,new Ro(e))}withConverter(e){return new lw(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="AsyncQueue";class sj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vB(this,"async_queue_retry"),this._c=()=>{const r=zy();r&&Lr(rj,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new vu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hB(e))throw e;Lr(rj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,hI("INTERNAL UNHANDLED ERROR: ",ij(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ow.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&nd(47125,{Pc:ij(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ij(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wB extends gI{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new sj,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sj(e),this._firestoreClient=void 0,await e}}}function _B(t,e){const n=typeof t=="object"?t:Gm(),r=typeof t=="string"?t:Ux,s=ya(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=ZT("firestore");o&&bB(s,...o)}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(Zo.fromBase64String(e))}catch(n){throw new Le(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Us(Zo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($d(e,Us._jsonSchema))return Us.fromBase64String(e.bytes)}}Us._jsonSchemaVersion="firestore/bytes/1.0",Us._jsonSchema={type:$t("string",Us._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ko(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ji(this._lat,e._lat)||Ji(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bo._jsonSchemaVersion}}static fromJSON(e){if($d(e,Bo._jsonSchema))return new Bo(e.latitude,e.longitude)}}Bo._jsonSchemaVersion="firestore/geoPoint/1.0",Bo._jsonSchema={type:$t("string",Bo._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($d(e,zo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new zo(e.vectorValues);throw new Le(Me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zo._jsonSchemaVersion="firestore/vectorValue/1.0",zo._jsonSchema={type:$t("string",zo._jsonSchemaVersion),vectorValues:$t("object")};const NB=new RegExp("[~\\*/\\[\\]]");function SB(t,e,n){if(e.search(NB)>=0)throw oj(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new yI(...e.split("."))._internalPath}catch{throw oj(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function oj(t,e,n,r,s){let o=`Function ${e}() called with invalid data`;o+=". ";let a="";return new Le(Me.INVALID_ARGUMENT,o+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new us(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jB extends vI{data(){return super.data()}}function xI(t,e){return typeof e=="string"?SB(t,e):e instanceof yI?e._internalPath:e._delegate._internalPath}class Gh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ll extends vI{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(Me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",ll._jsonSchema={type:$t("string",ll._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Mf extends ll{data(e={}){return super.data(e)}}class xu{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mf(this._firestore,this._userDataWriter,r.key,r,new Gh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Mf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Gh(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new Mf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Gh(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:CB(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(Me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rB.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nd(61501,{type:t})}}xu._jsonSchemaVersion="firestore/querySnapshot/1.0",xu._jsonSchema={type:$t("string",xu._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};(function(e,n=!0){(function(s){Ud=s})(va),Kr(new vr("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new wB(new J8(r.getProvider("auth-internal")),new tB(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Le(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ap(u.options.projectId,h)}(a,s),a);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Un(W1,H1,e),Un(W1,H1,"esm2020")})();var aj={};const lj="@firebase/database",cj="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bI="";function kB(t){bI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return di(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new EB(e)}}catch{}return new TB},Oo=wI("localStorage"),IB=wI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Wm("@firebase/database"),PB=function(){let t=1;return function(){return t++}}(),_I=function(t){const e=F$(t),n=new O$;n.update(e);const r=n.digest();return X0.encodeByteArray(r)},Bd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Bd.apply(null,r):typeof r=="object"?e+=Zt(r):e+=r,e+=" "}return e};let bu=null,uj=!0;const AB=function(t,e){ie(!0,"Can't turn on custom loggers persistently."),cl.logLevel=We.VERBOSE,bu=cl.log.bind(cl)},mn=function(...t){if(uj===!0&&(uj=!1,bu===null&&IB.get("logging_enabled")===!0&&AB()),bu){const e=Bd.apply(null,t);bu(e)}},zd=function(t){return function(...e){mn(t,...e)}},$x=function(...t){const e="FIREBASE INTERNAL ERROR: "+Bd(...t);cl.error(e)},ni=function(...t){const e=`FIREBASE FATAL ERROR: ${Bd(...t)}`;throw cl.error(e),new Error(e)},$n=function(...t){const e="FIREBASE WARNING: "+Bd(...t);cl.warn(e)},RB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$n("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},NI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},OB=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ol="[MIN_NAME]",ea="[MAX_NAME]",nc=function(t,e){if(t===e)return 0;if(t===Ol||e===ea)return-1;if(e===Ol||t===ea)return 1;{const n=dj(t),r=dj(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},DB=function(t,e){return t===e?0:t<e?-1:1},Mc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zt(e))},cw=function(t){if(typeof t!="object"||t===null)return Zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zt(e[r]),n+=":",n+=cw(t[e[r]]);return n+="}",n},SI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function zn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jI=function(t){ie(!NI(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,a,l,c;t===0?(o=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(s?1:0),u.reverse();const h=u.join("");let f="";for(c=0;c<64;c+=8){let p=parseInt(h.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),f=f+p}return f.toLowerCase()},MB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},LB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FB(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const UB=new RegExp("^-?(0*)\\d{1,10}$"),$B=-2147483648,BB=2147483647,dj=function(t){if(UB.test(t)){const e=Number(t);if(e>=$B&&e<=BB)return e}return null},rc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $n("Exception was thrown by user callback.",n),e},Math.floor(0))}},zB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Dr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$n(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$n(e)}}class Lf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Lf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="5",CI="v",kI="s",EI="r",TI="f",II=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,PI="ls",AI="p",Bx="ac",RI="websocket",OI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,r,s,o=!1,a="",l=!1,c=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Oo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function WB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function MI(t,e,n){ie(typeof e=="string","typeof type must == string"),ie(typeof n=="object","typeof params must == object");let r;if(e===RI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);WB(t)&&(n.ns=t.namespace);const s=[];return zn(n,(o,a)=>{s.push(o+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(){this.counters_={}}incrementCounter(e,n=1){di(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return g$(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy={},qy={};function dw(t){const e=t.toString();return Vy[e]||(Vy[e]=new HB),Vy[e]}function GB(t,e){const n=t.toString();return qy[n]||(qy[n]=e()),qy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&rc(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="start",KB="close",YB="pLPCommand",XB="pRTLPCB",LI="id",FI="pw",UI="ser",JB="cb",ZB="seg",ez="ts",tz="d",nz="dframe",$I=1870,BI=30,rz=$I-BI,sz=25e3,iz=3e4;class el{constructor(e,n,r,s,o,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zd(e),this.stats_=dw(n),this.urlFn=c=>(this.appCheckToken&&(c[Bx]=this.appCheckToken),MI(n,OI,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new QB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iz)),OB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hw((...o)=>{const[a,l,c,u,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===hj)this.id=l,this.password=c;else if(a===KB)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[hj]="t",r[UI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[JB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[CI]=uw,this.transportSessionId&&(r[kI]=this.transportSessionId),this.lastSessionId&&(r[PI]=this.lastSessionId),this.applicationId&&(r[AI]=this.applicationId),this.appCheckToken&&(r[Bx]=this.appCheckToken),typeof location<"u"&&location.hostname&&II.test(location.hostname)&&(r[EI]=TI);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){el.forceAllow_=!0}static forceDisallow(){el.forceDisallow_=!0}static isAvailable(){return el.forceAllow_?!0:!el.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MB()&&!LB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=YT(n),s=SI(r,rz);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[nz]="t",r[LI]=e,r[FI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class hw{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=PB(),window[YB+this.uniqueCallbackIdentifier]=e,window[XB+this.uniqueCallbackIdentifier]=n,this.myIFrame=hw.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){mn("frame writing exception"),l.stack&&mn(l.stack),mn(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[LI]=this.myID,e[FI]=this.myPW,e[UI]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BI+r.length<=$I;){const a=this.pendingSegs.shift();r=r+"&"+ZB+s+"="+a.seg+"&"+ez+s+"="+a.ts+"&"+tz+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(sz)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=16384,az=45e3;let Rp=null;typeof MozWebSocket<"u"?Rp=MozWebSocket:typeof WebSocket<"u"&&(Rp=WebSocket);class Mr{constructor(e,n,r,s,o,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zd(this.connId),this.stats_=dw(n),this.connURL=Mr.connectionURL_(n,a,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const a={};return a[CI]=uw,typeof location<"u"&&location.hostname&&II.test(location.hostname)&&(a[EI]=TI),n&&(a[kI]=n),r&&(a[PI]=r),s&&(a[Bx]=s),o&&(a[AI]=o),MI(e,RI,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oo.set("previous_websocket_failure",!0);try{let r;k$(),this.mySock=new Rp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Rp!==null&&!Mr.forceDisallow_}static previouslyFailed(){return Oo.isInMemoryStorage||Oo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Oo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ie(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=SI(n,oz);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(az))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mr.responsesRequiredToBeHealthy=2;Mr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{static get ALL_TRANSPORTS(){return[el,Mr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Mr&&Mr.isAvailable();let r=n&&!Mr.previouslyFailed();if(e.webSocketOnly&&(n||$n("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mr];else{const s=this.transports_=[];for(const o of rd.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);rd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=6e4,cz=5e3,uz=10*1024,dz=100*1024,Wy="t",fj="d",hz="s",pj="r",fz="e",mj="o",gj="a",yj="n",vj="p",pz="h";class mz{constructor(e,n,r,s,o,a,l,c,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zd("c:"+this.id+":"),this.transportManager_=new rd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=wu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wy in e){const n=e[Wy];n===gj?this.upgradeIfSecondaryHealthy_():n===pj?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mj&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mc("t",e),r=Mc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vj,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gj,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yj,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mc("t",e),r=Mc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mc(Wy,e);if(fj in e){const r=e[fj];if(n===pz){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===yj){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===hz?this.onConnectionShutdown_(r):n===pj?this.onReset_(r):n===fz?$x("Server Error: "+r):n===mj?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$x("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),uw!==r&&$n("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(lz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vj,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.allowedEvents_=e,this.listeners_={},ie(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){ie(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends VI{static getInstance(){return new Op}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ie(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=32,bj=768;class nt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function He(){return new nt("")}function Te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zi(t){return t.pieces_.length-t.pieceNum_}function ot(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new nt(t.pieces_,e)}function qI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function WI(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HI(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new nt(e,0)}function Gt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof nt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new nt(n,0)}function Pe(t){return t.pieceNum_>=t.pieces_.length}function Rn(t,e){const n=Te(t),r=Te(e);if(n===null)return e;if(n===r)return Rn(ot(t),ot(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function fw(t,e){if(Zi(t)!==Zi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Fr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Zi(t)>Zi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class yz{constructor(e,n){this.errorPrefix_=n,this.parts_=WI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qm(this.parts_[r]);GI(this)}}function vz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qm(e),GI(t)}function xz(t){const e=t.parts_.pop();t.byteLength_-=qm(e),t.parts_.length>0&&(t.byteLength_-=1)}function GI(t){if(t.byteLength_>bj)throw new Error(t.errorPrefix_+"has a key path longer than "+bj+" bytes ("+t.byteLength_+").");if(t.parts_.length>xj)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xj+") or object contains a cycle "+jo(t))}function jo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends VI{static getInstance(){return new pw}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ie(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=1e3,bz=60*5*1e3,wj=30*1e3,wz=1.3,_z=3e4,Nz="server_kill",_j=3;class Gs extends zI{constructor(e,n,r,s,o,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Gs.nextPersistentConnectionId_++,this.log_=zd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lc,this.maxReconnectDelay_=bz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Op.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Zt(o)),ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Vm,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ie(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,l=>{const c=l.d,u=l.s;Gs.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&di(e,"w")){const r=Al(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();$n(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||R$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wj)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=A$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const a={p:n,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):$x("Unrecognized action received from server: "+Zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_z&&(this.reconnectDelay_=Lc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Gs.nextConnectionId_++,o=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},u=function(f){ie(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,p]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?mn("getToken() completed but was canceled"):(mn("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,l=new mz(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{$n(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Nz)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&$n(f),c())}}}interrupt(e){mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Rx(this.interruptReasons_)&&(this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>cw(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new nt(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){mn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_j&&(this.reconnectDelay_=wj,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){mn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_j&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+bI.replace(/\./g,"-")]=1,tw()?e["framework.cordova"]=1:rI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Op.getInstance().currentlyOnline();return Rx(this.interruptReasons_)&&e}}Gs.nextPersistentConnectionId_=0;Gs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ie(Ol,e),s=new Ie(Ol,n);return this.compare(r,s)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh;class QI extends Qm{static get __EMPTY_NODE(){return Qh}static set __EMPTY_NODE(e){Qh=e}compare(e,n){return nc(e.name,n.name)}isDefinedOn(e){throw ec("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(ea,Qh)}makePost(e,n){return ie(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,Qh)}toString(){return".key"}}const ul=new QI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=s??On.EMPTY_NODE,this.right=o??On.EMPTY_NODE}copy(e,n,r,s,o){return new Jt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return On.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return On.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Jt.RED=!0;Jt.BLACK=!1;class Sz{copy(e,n,r,s,o){return this}insert(e,n,r){return new Jt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class On{constructor(e,n=On.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new On(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Jt.BLACK,null,null))}remove(e){return new On(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Jt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kh(this.root_,null,this.comparator_,!0,e)}}On.EMPTY_NODE=new Sz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){return nc(t.name,e.name)}function mw(t,e){return nc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zx;function Cz(t){zx=t}const KI=function(t){return typeof t=="number"?"number:"+jI(t):"string:"+t},YI=function(t){if(t.isLeafNode()){const e=t.val();ie(typeof e=="string"||typeof e=="number"||typeof e=="object"&&di(e,".sv"),"Priority must be a string or number.")}else ie(t===zx||t.isEmpty(),"priority of unexpected type.");ie(t===zx||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nj;class Kt{static set __childrenNodeConstructor(e){Nj=e}static get __childrenNodeConstructor(){return Nj}constructor(e,n=Kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YI(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pe(e)?this:Te(e)===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Te(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ie(r!==".priority"||Zi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ot(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KI(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jI(this.value_):e+=this.value_,this.lazyHash_=_I(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Kt.__childrenNodeConstructor?-1:(ie(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Kt.VALUE_TYPE_ORDER.indexOf(n),o=Kt.VALUE_TYPE_ORDER.indexOf(r);return ie(s>=0,"Unknown leaf type: "+n),ie(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XI,JI;function kz(t){XI=t}function Ez(t){JI=t}class Tz extends Qm{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?nc(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(ea,new Kt("[PRIORITY-POST]",JI))}makePost(e,n){const r=XI(e);return new Ie(n,new Kt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Et=new Tz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=Math.log(2);class Pz{constructor(e){const n=o=>parseInt(Math.log(o)/Iz,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Dp=function(t,e,n,r){t.sort(e);const s=function(c,u){const h=u-c;let f,p;if(h===0)return null;if(h===1)return f=t[c],p=n?n(f):f,new Jt(p,f.node,Jt.BLACK,null,null);{const g=parseInt(h/2,10)+c,w=s(c,g),v=s(g+1,u);return f=t[g],p=n?n(f):f,new Jt(p,f.node,Jt.BLACK,w,v)}},o=function(c){let u=null,h=null,f=t.length;const p=function(w,v){const y=f-w,_=f;f-=w;const N=s(y+1,_),b=t[y],j=n?n(b):b;g(new Jt(j,b.node,v,null,N))},g=function(w){u?(u.left=w,u=w):(h=w,u=w)};for(let w=0;w<c.count;++w){const v=c.nextBitIsOne(),y=Math.pow(2,c.count-(w+1));v?p(y,Jt.BLACK):(p(y,Jt.BLACK),p(y,Jt.RED))}return h},a=new Pz(t.length),l=o(a);return new On(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy;const Ta={};class zs{static get Default(){return ie(Ta&&Et,"ChildrenNode.ts has not been loaded"),Hy=Hy||new zs({".priority":Ta},{".priority":Et}),Hy}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Al(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof On?n:null}hasIndex(e){return di(this.indexSet_,e.toString())}addIndex(e,n){ie(e!==ul,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(Ie.Wrap);let a=o.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=o.getNext();let l;s?l=Dp(r,e.getCompare()):l=Ta;const c=e.toString(),u={...this.indexSet_};u[c]=e;const h={...this.indexes_};return h[c]=l,new zs(h,u)}addToIndexes(e,n){const r=Pp(this.indexes_,(s,o)=>{const a=Al(this.indexSet_,o);if(ie(a,"Missing index implementation for "+o),s===Ta)if(a.isDefinedOn(e.node)){const l=[],c=n.getIterator(Ie.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),Dp(l,a.getCompare())}else return Ta;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new Ie(e.name,l))),c.insert(e,e.node)}});return new zs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Pp(this.indexes_,s=>{if(s===Ta)return s;{const o=n.get(e.name);return o?s.remove(new Ie(e.name,o)):s}});return new zs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;class Se{static get EMPTY_NODE(){return Fc||(Fc=new Se(new On(mw),null,zs.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YI(this.priorityNode_),this.children_.isEmpty()&&ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fc}updatePriority(e){return this.children_.isEmpty()?this:new Se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Fc:n}}getChild(e){const n=Te(e);return n===null?this:this.getImmediateChild(n).getChild(ot(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ie(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ie(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Fc:this.priorityNode_;return new Se(s,a,o)}}updateChild(e,n){const r=Te(e);if(r===null)return n;{ie(Te(e)!==".priority"||Zi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ot(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Et,(a,l)=>{n[a]=l.val(e),r++,o&&Se.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+KI(this.getPriority().val())+":"),this.forEachChild(Et,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":_I(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Ie(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ie.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vd?-1:0}withIndex(e){if(e===ul||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Se(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ul||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Et),s=n.getIterator(Et);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===ul?null:this.indexMap_.get(e.toString())}}Se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Az extends Se{constructor(){super(new On(mw),Se.EMPTY_NODE,zs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Se.EMPTY_NODE}isEmpty(){return!1}}const Vd=new Az;Object.defineProperties(Ie,{MIN:{value:new Ie(Ol,Se.EMPTY_NODE)},MAX:{value:new Ie(ea,Vd)}});QI.__EMPTY_NODE=Se.EMPTY_NODE;Kt.__childrenNodeConstructor=Se;Cz(Vd);Ez(Vd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=!0;function sn(t,e=null){if(t===null)return Se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ie(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Kt(n,sn(e))}if(!(t instanceof Array)&&Rz){const n=[];let r=!1;if(zn(t,(a,l)=>{if(a.substring(0,1)!=="."){const c=sn(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ie(a,c)))}}),n.length===0)return Se.EMPTY_NODE;const o=Dp(n,jz,a=>a.name,mw);if(r){const a=Dp(n,Et.getCompare());return new Se(o,sn(e),new zs({".priority":a},{".priority":Et}))}else return new Se(o,sn(e),zs.Default)}else{let n=Se.EMPTY_NODE;return zn(t,(r,s)=>{if(di(t,r)&&r.substring(0,1)!=="."){const o=sn(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(sn(e))}}kz(sn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz extends Qm{constructor(e){super(),this.indexPath_=e,ie(!Pe(e)&&Te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?nc(e.name,n.name):o}makePost(e,n){const r=sn(e),s=Se.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ie(n,s)}maxPost(){const e=Se.EMPTY_NODE.updateChild(this.indexPath_,Vd);return new Ie(ea,e)}toString(){return WI(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz extends Qm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?nc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,n){const r=sn(e);return new Ie(n,r)}toString(){return".value"}}const Mz=new Dz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){return{type:"value",snapshotNode:t}}function Dl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function id(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Lz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.index_=e}updateChild(e,n,r,s,o,a){ie(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(sd(n,l)):ie(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Dl(n,r)):a.trackChildChange(id(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Et,(s,o)=>{n.hasChild(s)||r.trackChildChange(sd(s,o))}),n.isLeafNode()||n.forEachChild(Et,(s,o)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(o)||r.trackChildChange(id(s,o,a))}else r.trackChildChange(Dl(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Se.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.indexedFilter_=new gw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=od.getStartPost_(e),this.endPost_=od.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,a){return this.matches(new Ie(n,r))||(r=Se.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Se.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Se.EMPTY_NODE);const o=this;return n.forEachChild(Et,(a,l)=>{o.matches(new Ie(a,l))||(s=s.updateImmediateChild(a,Se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new od(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,a){return this.rangedFilter_.matches(new Ie(n,r))||(r=Se.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Se.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Se.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let a=0;for(;o.hasNext();){const l=o.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:s=s.updateImmediateChild(l.name,Se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let a;if(this.reverse_){const f=this.index_.getCompare();a=(p,g)=>f(g,p)}else a=this.index_.getCompare();const l=e;ie(l.numChildren()===this.limit_,"");const c=new Ie(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(l.hasChild(n)){const f=l.getImmediateChild(n);let p=s.getChildAfterChild(this.index_,u,this.reverse_);for(;p!=null&&(p.name===n||l.hasChild(p.name));)p=s.getChildAfterChild(this.index_,p,this.reverse_);const g=p==null?1:a(p,c);if(h&&!r.isEmpty()&&g>=0)return o!=null&&o.trackChildChange(id(n,r,f)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(sd(n,f));const v=l.updateImmediateChild(n,Se.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(o!=null&&o.trackChildChange(Dl(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}}else return r.isEmpty()?e:h&&a(u,c)>=0?(o!=null&&(o.trackChildChange(sd(u.name,u.node)),o.trackChildChange(Dl(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,Se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ol}hasEnd(){return this.endSet_}getIndexEndValue(){return ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ea}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ie(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Et}copy(){const e=new yw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Uz(t){return t.loadsAllData()?new gw(t.getIndex()):t.hasLimit()?new Fz(t):new od(t)}function Sj(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Et?n="$priority":t.index_===Mz?n="$value":t.index_===ul?n="$key":(ie(t.index_ instanceof Oz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jj(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Et&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends zI{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ie(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=zd("p:rest:"),this.listens_={}}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=Mp.getListenId_(e,r),l={};this.listens_[a]=l;const c=Sj(e._queryParams);this.restRequest_(o+".json",c,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),Al(this.listens_,a)===l){let p;u?u===401?p="permission_denied":p="rest_error:"+u:p="ok",s(p,null)}})}unlisten(e,n){const r=Mp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Sj(e._queryParams),r=e._path.toString(),s=new Vm;return this.restRequest_(r+".json",n,(o,a)=>{let l=a;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tc(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Zu(l.responseText)}catch{$n("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&$n("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(){this.rootNode_=Se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){return{value:null,children:new Map}}function eP(t,e,n){if(Pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Te(e);t.children.has(r)||t.children.set(r,Lp());const s=t.children.get(r);e=ot(e),eP(s,e,n)}}function Vx(t,e,n){t.value!==null?n(e,t.value):Bz(t,(r,s)=>{const o=new nt(e.toString()+"/"+r);Vx(s,o,n)})}function Bz(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&zn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=10*1e3,Vz=30*1e3,qz=5*60*1e3;class Wz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zz(e);const r=Cj+(Vz-Cj)*Math.random();wu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;zn(e,(s,o)=>{o>0&&di(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),wu(this.reportStats_.bind(this),Math.floor(Math.random()*2*qz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ur||(Ur={}));function tP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xw(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ur.ACK_USER_WRITE,this.source=tP()}operationForChild(e){if(Pe(this.path)){if(this.affectedTree.value!=null)return ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new nt(e));return new Fp(He(),n,this.revert)}}else return ie(Te(this.path)===e,"operationForChild called for unrelated child."),new Fp(ot(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.source=e,this.path=n,this.type=Ur.LISTEN_COMPLETE}operationForChild(e){return Pe(this.path)?new ad(this.source,He()):new ad(this.source,ot(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ur.OVERWRITE}operationForChild(e){return Pe(this.path)?new ta(this.source,He(),this.snap.getImmediateChild(e)):new ta(this.source,ot(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ur.MERGE}operationForChild(e){if(Pe(this.path)){const n=this.children.subtree(new nt(e));return n.isEmpty()?null:n.value?new ta(this.source,He(),n.value):new ld(this.source,He(),n)}else return ie(Te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ld(this.source,ot(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Gz(t,e,n,r){const s=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(Lz(a.childName,a.snapshotNode))}),Uc(t,s,"child_removed",e,r,n),Uc(t,s,"child_added",e,r,n),Uc(t,s,"child_moved",o,r,n),Uc(t,s,"child_changed",e,r,n),Uc(t,s,"value",e,r,n),s}function Uc(t,e,n,r,s,o){const a=r.filter(l=>l.type===n);a.sort((l,c)=>Kz(t,l,c)),a.forEach(l=>{const c=Qz(t,l,o);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function Qz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Kz(t,e,n){if(e.childName==null||n.childName==null)throw ec("Should only compare child_ events.");const r=new Ie(e.childName,e.snapshotNode),s=new Ie(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t,e){return{eventCache:t,serverCache:e}}function _u(t,e,n,r){return Km(new na(e,n,r),t.serverCache)}function nP(t,e,n,r){return Km(t.eventCache,new na(e,n,r))}function qx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ra(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy;const Yz=()=>(Gy||(Gy=new On(DB)),Gy);class ht{static fromObject(e){let n=new ht(null);return zn(e,(r,s)=>{n=n.set(new nt(r),s)}),n}constructor(e,n=Yz()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(Pe(e))return null;{const r=Te(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(ot(e),n);return o!=null?{path:Gt(new nt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pe(e))return this;{const n=Te(e),r=this.children.get(n);return r!==null?r.subtree(ot(e)):new ht(null)}}set(e,n){if(Pe(e))return new ht(n,this.children);{const r=Te(e),o=(this.children.get(r)||new ht(null)).set(ot(e),n),a=this.children.insert(r,o);return new ht(this.value,a)}}remove(e){if(Pe(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const n=Te(e),r=this.children.get(n);if(r){const s=r.remove(ot(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new ht(null):new ht(this.value,o)}else return this}}get(e){if(Pe(e))return this.value;{const n=Te(e),r=this.children.get(n);return r?r.get(ot(e)):null}}setTree(e,n){if(Pe(e))return n;{const r=Te(e),o=(this.children.get(r)||new ht(null)).setTree(ot(e),n);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new ht(this.value,a)}}fold(e){return this.fold_(He(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(Gt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,He(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Pe(e))return null;{const o=Te(e),a=this.children.get(o);return a?a.findOnPath_(ot(e),Gt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,He(),n)}foreachOnPath_(e,n,r){if(Pe(e))return this;{this.value&&r(n,this.value);const s=Te(e),o=this.children.get(s);return o?o.foreachOnPath_(ot(e),Gt(n,s),r):new ht(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Gt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.writeTree_=e}static empty(){return new Wr(new ht(null))}}function Nu(t,e,n){if(Pe(e))return new Wr(new ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const a=Rn(s,e);return o=o.updateChild(a,n),new Wr(t.writeTree_.set(s,o))}else{const s=new ht(n),o=t.writeTree_.setTree(e,s);return new Wr(o)}}}function kj(t,e,n){let r=t;return zn(n,(s,o)=>{r=Nu(r,Gt(e,s),o)}),r}function Ej(t,e){if(Pe(e))return Wr.empty();{const n=t.writeTree_.setTree(e,new ht(null));return new Wr(n)}}function Wx(t,e){return xa(t,e)!=null}function xa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rn(n.path,e)):null}function Tj(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Et,(r,s)=>{e.push(new Ie(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ie(r,s.value))}),e}function qi(t,e){if(Pe(e))return t;{const n=xa(t,e);return n!=null?new Wr(new ht(n)):new Wr(t.writeTree_.subtree(e))}}function Hx(t){return t.writeTree_.isEmpty()}function Ml(t,e){return rP(He(),t.writeTree_,e)}function rP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(ie(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=rP(Gt(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Gt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t,e){return aP(e,t)}function Xz(t,e,n,r,s){ie(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Nu(t.visibleWrites,e,n)),t.lastWriteId=r}function Jz(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Zz(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);ie(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&e7(l,r.path)?s=!1:Fr(r.path,l.path)&&(o=!0)),a--}if(s){if(o)return t7(t),!0;if(r.snap)t.visibleWrites=Ej(t.visibleWrites,r.path);else{const l=r.children;zn(l,c=>{t.visibleWrites=Ej(t.visibleWrites,Gt(r.path,c))})}return!0}else return!1}function e7(t,e){if(t.snap)return Fr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Fr(Gt(t.path,n),e))return!0;return!1}function t7(t){t.visibleWrites=sP(t.allWrites,n7,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function n7(t){return t.visible}function sP(t,e,n){let r=Wr.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const a=o.path;let l;if(o.snap)Fr(n,a)?(l=Rn(n,a),r=Nu(r,l,o.snap)):Fr(a,n)&&(l=Rn(a,n),r=Nu(r,He(),o.snap.getChild(l)));else if(o.children){if(Fr(n,a))l=Rn(n,a),r=kj(r,l,o.children);else if(Fr(a,n))if(l=Rn(a,n),Pe(l))r=kj(r,He(),o.children);else{const c=Al(o.children,Te(l));if(c){const u=c.getChild(ot(l));r=Nu(r,He(),u)}}}else throw ec("WriteRecord should have .snap or .children")}}return r}function iP(t,e,n,r,s){if(!r&&!s){const o=xa(t.visibleWrites,e);if(o!=null)return o;{const a=qi(t.visibleWrites,e);if(Hx(a))return n;if(n==null&&!Wx(a,He()))return null;{const l=n||Se.EMPTY_NODE;return Ml(a,l)}}}else{const o=qi(t.visibleWrites,e);if(!s&&Hx(o))return n;if(!s&&n==null&&!Wx(o,He()))return null;{const a=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(Fr(u.path,e)||Fr(e,u.path))},l=sP(t.allWrites,a,e),c=n||Se.EMPTY_NODE;return Ml(l,c)}}}function r7(t,e,n){let r=Se.EMPTY_NODE;const s=xa(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Et,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=qi(t.visibleWrites,e);return n.forEachChild(Et,(a,l)=>{const c=Ml(qi(o,new nt(a)),l);r=r.updateImmediateChild(a,c)}),Tj(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=qi(t.visibleWrites,e);return Tj(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function s7(t,e,n,r,s){ie(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=Gt(e,n);if(Wx(t.visibleWrites,o))return null;{const a=qi(t.visibleWrites,o);return Hx(a)?s.getChild(n):Ml(a,s.getChild(n))}}function i7(t,e,n,r){const s=Gt(e,n),o=xa(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const a=qi(t.visibleWrites,s);return Ml(a,r.getNode().getImmediateChild(n))}else return null}function o7(t,e){return xa(t.visibleWrites,e)}function a7(t,e,n,r,s,o,a){let l;const c=qi(t.visibleWrites,e),u=xa(c,He());if(u!=null)l=u;else if(n!=null)l=Ml(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=a.getCompare(),p=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let g=p.getNext();for(;g&&h.length<s;)f(g,r)!==0&&h.push(g),g=p.getNext();return h}else return[]}function l7(){return{visibleWrites:Wr.empty(),allWrites:[],lastWriteId:-1}}function Up(t,e,n,r){return iP(t.writeTree,t.treePath,e,n,r)}function ww(t,e){return r7(t.writeTree,t.treePath,e)}function Ij(t,e,n,r){return s7(t.writeTree,t.treePath,e,n,r)}function $p(t,e){return o7(t.writeTree,Gt(t.treePath,e))}function c7(t,e,n,r,s,o){return a7(t.writeTree,t.treePath,e,n,r,s,o)}function _w(t,e,n){return i7(t.writeTree,t.treePath,e,n)}function oP(t,e){return aP(Gt(t.treePath,e),t.writeTree)}function aP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ie(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ie(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,id(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,sd(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Dl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,id(r,e.snapshotNode,s.oldSnap));else throw ec("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const lP=new d7;class Nw{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new na(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _w(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ra(this.viewCache_),o=c7(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){return{filter:t}}function f7(t,e){ie(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ie(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function p7(t,e,n,r,s){const o=new u7;let a,l;if(n.type===Ur.OVERWRITE){const u=n;u.source.fromUser?a=Gx(t,e,u.path,u.snap,r,s,o):(ie(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!Pe(u.path),a=Bp(t,e,u.path,u.snap,r,s,l,o))}else if(n.type===Ur.MERGE){const u=n;u.source.fromUser?a=g7(t,e,u.path,u.children,r,s,o):(ie(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),a=Qx(t,e,u.path,u.children,r,s,l,o))}else if(n.type===Ur.ACK_USER_WRITE){const u=n;u.revert?a=x7(t,e,u.path,r,s,o):a=y7(t,e,u.path,u.affectedTree,r,s,o)}else if(n.type===Ur.LISTEN_COMPLETE)a=v7(t,e,n.path,r,o);else throw ec("Unknown operation type: "+n.type);const c=o.getChanges();return m7(e,a,c),{viewCache:a,changes:c}}function m7(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=qx(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ZI(qx(e)))}}function cP(t,e,n,r,s,o){const a=e.eventCache;if($p(r,n)!=null)return e;{let l,c;if(Pe(n))if(ie(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ra(e),h=u instanceof Se?u:Se.EMPTY_NODE,f=ww(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const u=Up(r,ra(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=Te(n);if(u===".priority"){ie(Zi(n)===1,"Can't have a priority with additional path components");const h=a.getNode();c=e.serverCache.getNode();const f=Ij(r,n,h,c);f!=null?l=t.filter.updatePriority(h,f):l=a.getNode()}else{const h=ot(n);let f;if(a.isCompleteForChild(u)){c=e.serverCache.getNode();const p=Ij(r,n,a.getNode(),c);p!=null?f=a.getNode().getImmediateChild(u).updateChild(h,p):f=a.getNode().getImmediateChild(u)}else f=_w(r,u,e.serverCache);f!=null?l=t.filter.updateChild(a.getNode(),u,f,h,s,o):l=a.getNode()}}return _u(e,l,a.isFullyInitialized()||Pe(n),t.filter.filtersNodes())}}function Bp(t,e,n,r,s,o,a,l){const c=e.serverCache;let u;const h=a?t.filter:t.filter.getIndexedFilter();if(Pe(n))u=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(n,r);u=h.updateFullNode(c.getNode(),g,null)}else{const g=Te(n);if(!c.isCompleteForPath(n)&&Zi(n)>1)return e;const w=ot(n),y=c.getNode().getImmediateChild(g).updateChild(w,r);g===".priority"?u=h.updatePriority(c.getNode(),y):u=h.updateChild(c.getNode(),g,y,w,lP,null)}const f=nP(e,u,c.isFullyInitialized()||Pe(n),h.filtersNodes()),p=new Nw(s,f,o);return cP(t,f,n,s,p,l)}function Gx(t,e,n,r,s,o,a){const l=e.eventCache;let c,u;const h=new Nw(s,e,o);if(Pe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=_u(e,u,!0,t.filter.filtersNodes());else{const f=Te(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=_u(e,u,l.isFullyInitialized(),l.isFiltered());else{const p=ot(n),g=l.getNode().getImmediateChild(f);let w;if(Pe(p))w=r;else{const v=h.getCompleteChild(f);v!=null?qI(p)===".priority"&&v.getChild(HI(p)).isEmpty()?w=v:w=v.updateChild(p,r):w=Se.EMPTY_NODE}if(g.equals(w))c=e;else{const v=t.filter.updateChild(l.getNode(),f,w,p,h,a);c=_u(e,v,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Pj(t,e){return t.eventCache.isCompleteForChild(e)}function g7(t,e,n,r,s,o,a){let l=e;return r.foreach((c,u)=>{const h=Gt(n,c);Pj(e,Te(h))&&(l=Gx(t,l,h,u,s,o,a))}),r.foreach((c,u)=>{const h=Gt(n,c);Pj(e,Te(h))||(l=Gx(t,l,h,u,s,o,a))}),l}function Aj(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Qx(t,e,n,r,s,o,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;Pe(n)?u=r:u=new ht(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((f,p)=>{if(h.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),w=Aj(t,g,p);c=Bp(t,c,new nt(f),w,s,o,a,l)}}),u.children.inorderTraversal((f,p)=>{const g=!e.serverCache.isCompleteForChild(f)&&p.value===null;if(!h.hasChild(f)&&!g){const w=e.serverCache.getNode().getImmediateChild(f),v=Aj(t,w,p);c=Bp(t,c,new nt(f),v,s,o,a,l)}}),c}function y7(t,e,n,r,s,o,a){if($p(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Pe(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Bp(t,e,n,c.getNode().getChild(n),s,o,l,a);if(Pe(n)){let u=new ht(null);return c.getNode().forEachChild(ul,(h,f)=>{u=u.set(new nt(h),f)}),Qx(t,e,n,u,s,o,l,a)}else return e}else{let u=new ht(null);return r.foreach((h,f)=>{const p=Gt(n,h);c.isCompleteForPath(p)&&(u=u.set(h,c.getNode().getChild(p)))}),Qx(t,e,n,u,s,o,l,a)}}function v7(t,e,n,r,s){const o=e.serverCache,a=nP(e,o.getNode(),o.isFullyInitialized()||Pe(n),o.isFiltered());return cP(t,a,n,r,lP,s)}function x7(t,e,n,r,s,o){let a;if($p(r,n)!=null)return e;{const l=new Nw(r,e,s),c=e.eventCache.getNode();let u;if(Pe(n)||Te(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Up(r,ra(e));else{const f=e.serverCache.getNode();ie(f instanceof Se,"serverChildren would be complete if leaf node"),h=ww(r,f)}h=h,u=t.filter.updateFullNode(c,h,o)}else{const h=Te(n);let f=_w(r,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),f!=null?u=t.filter.updateChild(c,h,f,ot(n),l,o):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(c,h,Se.EMPTY_NODE,ot(n),l,o):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Up(r,ra(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,o)))}return a=e.serverCache.isFullyInitialized()||$p(r,He())!=null,_u(e,u,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new gw(r.getIndex()),o=Uz(r);this.processor_=h7(o);const a=n.serverCache,l=n.eventCache,c=s.updateFullNode(Se.EMPTY_NODE,a.getNode(),null),u=o.updateFullNode(Se.EMPTY_NODE,l.getNode(),null),h=new na(c,a.isFullyInitialized(),s.filtersNodes()),f=new na(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Km(f,h),this.eventGenerator_=new Hz(this.query_)}get query(){return this.query_}}function w7(t){return t.viewCache_.serverCache.getNode()}function _7(t,e){const n=ra(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Pe(e)&&!n.getImmediateChild(Te(e)).isEmpty())?n.getChild(e):null}function Rj(t){return t.eventRegistrations_.length===0}function N7(t,e){t.eventRegistrations_.push(e)}function Oj(t,e,n){const r=[];if(n){ie(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,s);a&&r.push(a)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const a=t.eventRegistrations_[o];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Dj(t,e,n,r){e.type===Ur.MERGE&&e.source.queryId!==null&&(ie(ra(t.viewCache_),"We should always have a full cache before handling merges"),ie(qx(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=p7(t.processor_,s,e,n,r);return f7(t.processor_,o.viewCache),ie(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,uP(t,o.changes,o.viewCache.eventCache.getNode(),null)}function S7(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Et,(o,a)=>{r.push(Dl(o,a))}),n.isFullyInitialized()&&r.push(ZI(n.getNode())),uP(t,r,n.getNode(),e)}function uP(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Gz(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp;class j7{constructor(){this.views=new Map}}function C7(t){ie(!zp,"__referenceConstructor has already been defined"),zp=t}function k7(){return ie(zp,"Reference.ts has not been loaded"),zp}function E7(t){return t.views.size===0}function Sw(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return ie(o!=null,"SyncTree gave us an op for an invalid query."),Dj(o,e,n,r)}else{let o=[];for(const a of t.views.values())o=o.concat(Dj(a,e,n,r));return o}}function T7(t,e,n,r,s){const o=e._queryIdentifier,a=t.views.get(o);if(!a){let l=Up(n,s?r:null),c=!1;l?c=!0:r instanceof Se?(l=ww(n,r),c=!1):(l=Se.EMPTY_NODE,c=!1);const u=Km(new na(l,c,!1),new na(r,s,!1));return new b7(e,u)}return a}function I7(t,e,n,r,s,o){const a=T7(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),N7(a,n),S7(a,n)}function P7(t,e,n,r){const s=e._queryIdentifier,o=[];let a=[];const l=eo(t);if(s==="default")for(const[c,u]of t.views.entries())a=a.concat(Oj(u,n,r)),Rj(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||o.push(u.query));else{const c=t.views.get(s);c&&(a=a.concat(Oj(c,n,r)),Rj(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||o.push(c.query)))}return l&&!eo(t)&&o.push(new(k7())(e._repo,e._path)),{removed:o,events:a}}function dP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function dl(t,e){let n=null;for(const r of t.views.values())n=n||_7(r,e);return n}function hP(t,e){if(e._queryParams.loadsAllData())return Ym(t);{const r=e._queryIdentifier;return t.views.get(r)}}function fP(t,e){return hP(t,e)!=null}function eo(t){return Ym(t)!=null}function Ym(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp;function A7(t){ie(!Vp,"__referenceConstructor has already been defined"),Vp=t}function R7(){return ie(Vp,"Reference.ts has not been loaded"),Vp}let O7=1;class Mj{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=l7(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pP(t,e,n,r,s){return Xz(t.pendingWriteTree_,e,n,r,s),s?qd(t,new ta(tP(),e,n)):[]}function Do(t,e,n=!1){const r=Jz(t.pendingWriteTree_,e);if(Zz(t.pendingWriteTree_,e)){let o=new ht(null);return r.snap!=null?o=o.set(He(),!0):zn(r.children,a=>{o=o.set(new nt(a),!0)}),qd(t,new Fp(r.path,o,n))}else return[]}function Xm(t,e,n){return qd(t,new ta(vw(),e,n))}function D7(t,e,n){const r=ht.fromObject(n);return qd(t,new ld(vw(),e,r))}function M7(t,e){return qd(t,new ad(vw(),e))}function L7(t,e,n){const r=Cw(t,n);if(r){const s=kw(r),o=s.path,a=s.queryId,l=Rn(o,e),c=new ad(xw(a),l);return Ew(t,o,c)}else return[]}function Kx(t,e,n,r,s=!1){const o=e._path,a=t.syncPointTree_.get(o);let l=[];if(a&&(e._queryIdentifier==="default"||fP(a,e))){const c=P7(a,e,n,r);E7(a)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=c.removed;if(l=c.events,!s){const h=u.findIndex(p=>p._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(p,g)=>eo(g));if(h&&!f){const p=t.syncPointTree_.subtree(o);if(!p.isEmpty()){const g=$7(p);for(let w=0;w<g.length;++w){const v=g[w],y=v.query,_=yP(t,v);t.listenProvider_.startListening(Su(y),qp(t,y),_.hashFn,_.onComplete)}}}!f&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(Su(e),null):u.forEach(p=>{const g=t.queryToTagMap.get(Jm(p));t.listenProvider_.stopListening(Su(p),g)}))}B7(t,u)}return l}function F7(t,e,n,r){const s=Cw(t,r);if(s!=null){const o=kw(s),a=o.path,l=o.queryId,c=Rn(a,e),u=new ta(xw(l),c,n);return Ew(t,a,u)}else return[]}function U7(t,e,n,r){const s=Cw(t,r);if(s){const o=kw(s),a=o.path,l=o.queryId,c=Rn(a,e),u=ht.fromObject(n),h=new ld(xw(l),c,u);return Ew(t,a,h)}else return[]}function Lj(t,e,n,r=!1){const s=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(s,(p,g)=>{const w=Rn(p,s);o=o||dl(g,w),a=a||eo(g)});let l=t.syncPointTree_.get(s);l?(a=a||eo(l),o=o||dl(l,He())):(l=new j7,t.syncPointTree_=t.syncPointTree_.set(s,l));let c;o!=null?c=!0:(c=!1,o=Se.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((g,w)=>{const v=dl(w,He());v&&(o=o.updateImmediateChild(g,v))}));const u=fP(l,e);if(!u&&!e._queryParams.loadsAllData()){const p=Jm(e);ie(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const g=z7();t.queryToTagMap.set(p,g),t.tagToQueryMap.set(g,p)}const h=bw(t.pendingWriteTree_,s);let f=I7(l,e,n,h,o,c);if(!u&&!a&&!r){const p=hP(l,e);f=f.concat(V7(t,e,p))}return f}function jw(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,l)=>{const c=Rn(a,e),u=dl(l,c);if(u)return u});return iP(s,e,o,n,!0)}function qd(t,e){return mP(e,t.syncPointTree_,null,bw(t.pendingWriteTree_,He()))}function mP(t,e,n,r){if(Pe(t.path))return gP(t,e,n,r);{const s=e.get(He());n==null&&s!=null&&(n=dl(s,He()));let o=[];const a=Te(t.path),l=t.operationForChild(a),c=e.children.get(a);if(c&&l){const u=n?n.getImmediateChild(a):null,h=oP(r,a);o=o.concat(mP(l,c,u,h))}return s&&(o=o.concat(Sw(s,t,r,n))),o}}function gP(t,e,n,r){const s=e.get(He());n==null&&s!=null&&(n=dl(s,He()));let o=[];return e.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,u=oP(r,a),h=t.operationForChild(a);h&&(o=o.concat(gP(h,l,c,u)))}),s&&(o=o.concat(Sw(s,t,r,n))),o}function yP(t,e){const n=e.query,r=qp(t,n);return{hashFn:()=>(w7(e)||Se.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?L7(t,n._path,r):M7(t,n._path);{const o=FB(s,n);return Kx(t,n,null,o)}}}}function qp(t,e){const n=Jm(e);return t.queryToTagMap.get(n)}function Jm(t){return t._path.toString()+"$"+t._queryIdentifier}function Cw(t,e){return t.tagToQueryMap.get(e)}function kw(t){const e=t.indexOf("$");return ie(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new nt(t.substr(0,e))}}function Ew(t,e,n){const r=t.syncPointTree_.get(e);ie(r,"Missing sync point for query tag that we're tracking");const s=bw(t.pendingWriteTree_,e);return Sw(r,n,s,null)}function $7(t){return t.fold((e,n,r)=>{if(n&&eo(n))return[Ym(n)];{let s=[];return n&&(s=dP(n)),zn(r,(o,a)=>{s=s.concat(a)}),s}})}function Su(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(R7())(t._repo,t._path):t}function B7(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Jm(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function z7(){return O7++}function V7(t,e,n){const r=e._path,s=qp(t,e),o=yP(t,n),a=t.listenProvider_.startListening(Su(e),s,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(s)ie(!eo(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,h,f)=>{if(!Pe(u)&&h&&eo(h))return[Ym(h).query];{let p=[];return h&&(p=p.concat(dP(h).map(g=>g.query))),zn(f,(g,w)=>{p=p.concat(w)}),p}});for(let u=0;u<c.length;++u){const h=c[u];t.listenProvider_.stopListening(Su(h),qp(t,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Tw(n)}node(){return this.node_}}class Iw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Gt(this.path_,e);return new Iw(this.syncTree_,n)}node(){return jw(this.syncTree_,this.path_)}}const q7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Fj=function(t,e,n){if(!t||typeof t!="object")return t;if(ie(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return W7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return H7(t[".sv"],e);ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},W7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ie(!1,"Unexpected server value: "+t)}},H7=function(t,e,n){t.hasOwnProperty("increment")||ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ie(!1,"Unexpected increment value: "+r);const s=e.node();if(ie(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},G7=function(t,e,n,r){return Pw(e,new Iw(n,t),r)},vP=function(t,e,n){return Pw(t,new Tw(e),n)};function Pw(t,e,n){const r=t.getPriority().val(),s=Fj(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,l=Fj(a.getValue(),e,n);return l!==a.getValue()||s!==a.getPriority().val()?new Kt(l,sn(s)):t}else{const a=t;return o=a,s!==a.getPriority().val()&&(o=o.updatePriority(new Kt(s))),a.forEachChild(Et,(l,c)=>{const u=Pw(c,e.getImmediateChild(l),n);u!==c&&(o=o.updateImmediateChild(l,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Rw(t,e){let n=e instanceof nt?e:new nt(e),r=t,s=Te(n);for(;s!==null;){const o=Al(r.node.children,s)||{children:{},childCount:0};r=new Aw(s,r,o),n=ot(n),s=Te(n)}return r}function sc(t){return t.node.value}function xP(t,e){t.node.value=e,Yx(t)}function bP(t){return t.node.childCount>0}function Q7(t){return sc(t)===void 0&&!bP(t)}function Zm(t,e){zn(t.node.children,(n,r)=>{e(new Aw(n,t,r))})}function wP(t,e,n,r){n&&e(t),Zm(t,s=>{wP(s,e,!0)})}function K7(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Wd(t){return new nt(t.parent===null?t.name:Wd(t.parent)+"/"+t.name)}function Yx(t){t.parent!==null&&Y7(t.parent,t.name,t)}function Y7(t,e,n){const r=Q7(n),s=di(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Yx(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Yx(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=/[\[\].#$\/\u0000-\u001F\u007F]/,J7=/[\[\].#$\u0000-\u001F\u007F]/,Qy=10*1024*1024,_P=function(t){return typeof t=="string"&&t.length!==0&&!X7.test(t)},NP=function(t){return typeof t=="string"&&t.length!==0&&!J7.test(t)},Z7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),NP(t)},SP=function(t,e,n,r){r&&e===void 0||Ow(nw(t,"value"),e,n)},Ow=function(t,e,n){const r=n instanceof nt?new yz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jo(r));if(typeof e=="function")throw new Error(t+"contains a function "+jo(r)+" with contents = "+e.toString());if(NI(e))throw new Error(t+"contains "+e.toString()+" "+jo(r));if(typeof e=="string"&&e.length>Qy/3&&qm(e)>Qy)throw new Error(t+"contains a string greater than "+Qy+" utf8 bytes "+jo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(zn(e,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!_P(a)))throw new Error(t+" contains an invalid key ("+a+") "+jo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vz(r,a),Ow(t,l,r),xz(r)}),s&&o)throw new Error(t+' contains ".value" child '+jo(r)+" in addition to actual children.")}},jP=function(t,e,n,r){if(!NP(n))throw new Error(nw(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},eV=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jP(t,e,n)},CP=function(t,e){if(Te(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},tV=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_P(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Z7(n))throw new Error(nw(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dw(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!fw(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function kP(t,e,n){Dw(t,n),EP(t,r=>fw(r,e))}function ri(t,e,n){Dw(t,n),EP(t,r=>Fr(r,e)||Fr(e,r))}function EP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(rV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();bu&&mn("event: "+n.toString()),rc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="repo_interrupt",iV=25;class oV{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lp(),this.transactionQueueTree_=new Aw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aV(t,e,n){if(t.stats_=dw(t.repoInfo_),t.forceRestClient_||zB())t.server_=new Mp(t.repoInfo_,(r,s,o,a)=>{Uj(t,r,s,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>$j(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gs(t.repoInfo_,e,(r,s,o,a)=>{Uj(t,r,s,o,a)},r=>{$j(t,r)},r=>{lV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=GB(t.repoInfo_,()=>new Wz(t.stats_,t.server_)),t.infoData_=new $z,t.infoSyncTree_=new Mj({startListening:(r,s,o,a)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=Xm(t.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),Lw(t,"connected",!1),t.serverSyncTree_=new Mj({startListening:(r,s,o,a)=>(t.server_.listen(r,o,s,(l,c)=>{const u=a(l,c);ri(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function TP(t){const n=t.infoData_.getNode(new nt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Mw(t){return q7({timestamp:TP(t)})}function Uj(t,e,n,r,s){t.dataUpdateCount++;const o=new nt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const c=Pp(n,u=>sn(u));a=U7(t.serverSyncTree_,o,c,s)}else{const c=sn(n);a=F7(t.serverSyncTree_,o,c,s)}else if(r){const c=Pp(n,u=>sn(u));a=D7(t.serverSyncTree_,o,c)}else{const c=sn(n);a=Xm(t.serverSyncTree_,o,c)}let l=o;a.length>0&&(l=eg(t,o)),ri(t.eventQueue_,l,a)}function $j(t,e){Lw(t,"connected",e),e===!1&&uV(t)}function lV(t,e){zn(e,(n,r)=>{Lw(t,n,r)})}function Lw(t,e,n){const r=new nt("/.info/"+e),s=sn(n);t.infoData_.updateSnapshot(r,s);const o=Xm(t.infoSyncTree_,r,s);ri(t.eventQueue_,r,o)}function IP(t){return t.nextWriteId_++}function cV(t,e,n,r,s){Fw(t,"set",{path:e.toString(),value:n,priority:r});const o=Mw(t),a=sn(n,r),l=jw(t.serverSyncTree_,e),c=vP(a,l,o),u=IP(t),h=pP(t.serverSyncTree_,e,c,u,!0);Dw(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),(p,g)=>{const w=p==="ok";w||$n("set at "+e+" failed: "+p);const v=Do(t.serverSyncTree_,u,!w);ri(t.eventQueue_,e,v),fV(t,s,p,g)});const f=DP(t,e);eg(t,f),ri(t.eventQueue_,f,[])}function uV(t){Fw(t,"onDisconnectEvents");const e=Mw(t),n=Lp();Vx(t.onDisconnect_,He(),(s,o)=>{const a=G7(s,o,t.serverSyncTree_,e);eP(n,s,a)});let r=[];Vx(n,He(),(s,o)=>{r=r.concat(Xm(t.serverSyncTree_,s,o));const a=DP(t,s);eg(t,a)}),t.onDisconnect_=Lp(),ri(t.eventQueue_,He(),r)}function dV(t,e,n){let r;Te(e._path)===".info"?r=Lj(t.infoSyncTree_,e,n):r=Lj(t.serverSyncTree_,e,n),kP(t.eventQueue_,e._path,r)}function Xx(t,e,n){let r;Te(e._path)===".info"?r=Kx(t.infoSyncTree_,e,n):r=Kx(t.serverSyncTree_,e,n),kP(t.eventQueue_,e._path,r)}function hV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sV)}function Fw(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mn(n,...e)}function fV(t,e,n,r){e&&rc(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let o=s;r&&(o+=": "+r);const a=new Error(o);a.code=s,e(a)}})}function PP(t,e,n){return jw(t.serverSyncTree_,e,n)||Se.EMPTY_NODE}function Uw(t,e=t.transactionQueueTree_){if(e||tg(t,e),sc(e)){const n=RP(t,e);ie(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&pV(t,Wd(e),n)}else bP(e)&&Zm(e,n=>{Uw(t,n)})}function pV(t,e,n){const r=n.map(u=>u.currentWriteId),s=PP(t,e,r);let o=s;const a=s.hash();for(let u=0;u<n.length;u++){const h=n[u];ie(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Rn(e,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}const l=o.val(!0),c=e;t.server_.put(c.toString(),l,u=>{Fw(t,"transaction put response",{path:c.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let p=0;p<n.length;p++)n[p].status=2,h=h.concat(Do(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&f.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();tg(t,Rw(t.transactionQueueTree_,e)),Uw(t,t.transactionQueueTree_),ri(t.eventQueue_,e,h);for(let p=0;p<f.length;p++)rc(f[p])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{$n("transaction at "+c.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}eg(t,e)}},a)}function eg(t,e){const n=AP(t,e),r=Wd(n),s=RP(t,n);return mV(t,s,r),r}function mV(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=Rn(n,c.path);let h=!1,f;if(ie(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,f=c.abortReason,s=s.concat(Do(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=iV)h=!0,f="maxretry",s=s.concat(Do(t.serverSyncTree_,c.currentWriteId,!0));else{const p=PP(t,c.path,a);c.currentInputSnapshot=p;const g=e[l].update(p.val());if(g!==void 0){Ow("transaction failed: Data returned ",g,c.path);let w=sn(g);typeof g=="object"&&g!=null&&di(g,".priority")||(w=w.updatePriority(p.getPriority()));const y=c.currentWriteId,_=Mw(t),N=vP(w,p,_);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=N,c.currentWriteId=IP(t),a.splice(a.indexOf(y),1),s=s.concat(pP(t.serverSyncTree_,c.path,N,c.currentWriteId,c.applyLocally)),s=s.concat(Do(t.serverSyncTree_,y,!0))}else h=!0,f="nodata",s=s.concat(Do(t.serverSyncTree_,c.currentWriteId,!0))}ri(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(p){setTimeout(p,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}tg(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)rc(r[l]);Uw(t,t.transactionQueueTree_)}function AP(t,e){let n,r=t.transactionQueueTree_;for(n=Te(e);n!==null&&sc(r)===void 0;)r=Rw(r,n),e=ot(e),n=Te(e);return r}function RP(t,e){const n=[];return OP(t,e,n),n.sort((r,s)=>r.order-s.order),n}function OP(t,e,n){const r=sc(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Zm(e,s=>{OP(t,s,n)})}function tg(t,e){const n=sc(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,xP(e,n.length>0?n:void 0)}Zm(e,r=>{tg(t,r)})}function DP(t,e){const n=Wd(AP(t,e)),r=Rw(t.transactionQueueTree_,e);return K7(r,s=>{Ky(t,s)}),Ky(t,r),wP(r,s=>{Ky(t,s)}),n}function Ky(t,e){const n=sc(e);if(n){const r=[];let s=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ie(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(ie(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Do(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?xP(e,void 0):n.length=o+1,ri(t.eventQueue_,Wd(e),s);for(let a=0;a<r.length;a++)rc(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function yV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$n(`Invalid query segment '${n}' in query '${t}'`)}return e}const Bj=function(t,e){const n=vV(t),r=n.namespace;n.domain==="firebase.com"&&ni(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||RB();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new DI(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new nt(n.pathString)}},vV=function(t){let e="",n="",r="",s="",o="",a=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=gV(t.substring(h,f)));const p=yV(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),o=r}"ns"in p&&(o=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xV=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=zj.charAt(n%64),n=Math.floor(n/64);ie(n===0,"Cannot push at time == 0");let a=o.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)a+=zj.charAt(e[s]);return ie(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zt(this.snapshot.exportVal())}}class LP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ie(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Pe(this._path)?null:qI(this._path)}get ref(){return new hi(this._repo,this._path)}get _queryIdentifier(){const e=jj(this._queryParams),n=cw(e);return n==="{}"?"default":n}get _queryObject(){return jj(this._queryParams)}isEqual(e){if(e=rr(e),!(e instanceof $w))return!1;const n=this._repo===e._repo,r=fw(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+gz(this._path)}}class hi extends $w{constructor(e,n){super(e,n,new yw,!1)}get parent(){const e=HI(this._path);return e===null?null:new hi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class cd{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new nt(e),r=Ll(this.ref,e);return new cd(this._node.getChild(n),r,Et)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new cd(s,Ll(this.ref,r),Et)))}hasChild(e){const n=new nt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hl(t,e){return t=rr(t),t._checkNotDeleted("ref"),e!==void 0?Ll(t._root,e):t._root}function Ll(t,e){return t=rr(t),Te(t._path)===null?eV("child","path",e):jP("child","path",e),new hi(t._repo,Gt(t._path,e))}function wV(t,e){t=rr(t),CP("push",t._path),SP("push",e,t._path,!0);const n=TP(t._repo),r=xV(n),s=Ll(t,r),o=Ll(t,r);let a;return a=Promise.resolve(o),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}function Vj(t,e){t=rr(t),CP("set",t._path),SP("set",e,t._path,!1);const n=new Vm;return cV(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Bw{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new MP("value",this,new cd(e.snapshotNode,new hi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new LP(this,e,n):null}matches(e){return e instanceof Bw?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class zw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new LP(this,e,n):null}createEvent(e,n){ie(e.childName!=null,"Child events should have a childName.");const r=Ll(new hi(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new MP(e.type,this,new cd(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof zw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function ng(t,e,n,r,s){let o;if(typeof r=="object"&&(o=void 0,s=r),typeof r=="function"&&(o=r),s&&s.onlyOnce){const c=n,u=(h,f)=>{Xx(t._repo,t,l),c(h,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const a=new bV(n,o||void 0),l=e==="value"?new Bw(a):new zw(e,a);return dV(t._repo,t,l),()=>Xx(t._repo,t,l)}function Vw(t,e,n,r){return ng(t,"value",e,n,r)}function FP(t,e,n,r){return ng(t,"child_added",e,n,r)}function _V(t,e,n,r){return ng(t,"child_changed",e,n,r)}function NV(t,e,n,r){return ng(t,"child_removed",e,n,r)}function SV(t,e,n){Xx(t._repo,t,null)}C7(hi);A7(hi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="FIREBASE_DATABASE_EMULATOR_HOST",Jx={};let CV=!1;function kV(t,e,n,r){const s=e.lastIndexOf(":"),o=e.substring(0,s),a=ma(o);t.repoInfo_=new DI(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function EV(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=Bj(o,s),l=a.repoInfo,c;typeof process<"u"&&aj&&(c=aj[jV]),c?(o=`http://${c}?ns=${l.namespace}`,a=Bj(o,s),l=a.repoInfo):a.repoInfo.secure;const u=new qB(t.name,t.options,e);tV("Invalid Firebase Database URL",a),Pe(a.path)||ni("Database URL must point to the root of a Firebase Database (not including a child path).");const h=IV(l,t,u,new VB(t,n));return new PV(h,t)}function TV(t,e){const n=Jx[e];(!n||n[t.key]!==t)&&ni(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hV(t),delete n[t.key]}function IV(t,e,n,r){let s=Jx[e.name];s||(s={},Jx[e.name]=s);let o=s[t.toURLString()];return o&&ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new oV(t,CV,n,r),s[t.toURLString()]=o,o}let PV=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hi(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ni("Cannot call "+e+" on a deleted database.")}};function UP(t=Gm(),e){const n=ya(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ZT("database");r&&AV(n,...r)}return n}function AV(t,e,n,r={}){t=rr(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Xi(r,o.repoInfo_.emulatorOptions))return;ni("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Lf(Lf.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:nI(r.mockUserToken,t.app.options.projectId);a=new Lf(l)}ma(e)&&(Z0(e),ew("Database",!0)),kV(o,s,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){kB(va),Kr(new vr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return EV(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),Un(lj,cj,t),Un(lj,cj,"esm2020")}Gs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};RV();const $P="@firebase/installations",qw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=1e4,zP=`w:${qw}`,VP="FIS_v2",OV="https://firebaseinstallations.googleapis.com/v1",DV=60*60*1e3,MV="installations",LV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sa=new ga(MV,LV,FV);function qP(t){return t instanceof Cs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP({projectId:t}){return`${OV}/projects/${t}/installations`}function HP(t){return{token:t.token,requestStatus:2,expiresIn:$V(t.expiresIn),creationTime:Date.now()}}async function GP(t,e){const r=(await e.json()).error;return sa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function QP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function UV(t,{refreshToken:e}){const n=QP(t);return n.append("Authorization",BV(e)),n}async function KP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $V(t){return Number(t.replace("s","000"))}function BV(t){return`${VP} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=WP(t),s=QP(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:VP,appId:t.appId,sdkVersion:zP},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await KP(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:HP(u.authToken)}}else throw await GP("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=/^[cdef][\w-]{21}$/,Zx="";function WV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=HV(t);return qV.test(n)?n:Zx}catch{return Zx}}function HV(t){return VV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new Map;function JP(t,e){const n=rg(t);ZP(n,e),GV(n,e)}function ZP(t,e){const n=XP.get(t);if(n)for(const r of n)r(e)}function GV(t,e){const n=QV();n&&n.postMessage({key:t,fid:e}),KV()}let Mo=null;function QV(){return!Mo&&"BroadcastChannel"in self&&(Mo=new BroadcastChannel("[Firebase] FID Change"),Mo.onmessage=t=>{ZP(t.data.key,t.data.fid)}),Mo}function KV(){XP.size===0&&Mo&&(Mo.close(),Mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="firebase-installations-database",XV=1,ia="firebase-installations-store";let Yy=null;function Ww(){return Yy||(Yy=Hm(YV,XV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ia)}}})),Yy}async function Wp(t,e){const n=rg(t),s=(await Ww()).transaction(ia,"readwrite"),o=s.objectStore(ia),a=await o.get(n);return await o.put(e,n),await s.done,(!a||a.fid!==e.fid)&&JP(t,e.fid),e}async function eA(t){const e=rg(t),r=(await Ww()).transaction(ia,"readwrite");await r.objectStore(ia).delete(e),await r.done}async function sg(t,e){const n=rg(t),s=(await Ww()).transaction(ia,"readwrite"),o=s.objectStore(ia),a=await o.get(n),l=e(a);return l===void 0?await o.delete(n):await o.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&JP(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(t){let e;const n=await sg(t.appConfig,r=>{const s=JV(r),o=ZV(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===Zx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function JV(t){const e=t||{fid:WV(),registrationStatus:0};return tA(e)}function ZV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(sa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=eq(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tq(t)}:{installationEntry:e}}async function eq(t,e){try{const n=await zV(t,e);return Wp(t.appConfig,n)}catch(n){throw qP(n)&&n.customData.serverCode===409?await eA(t.appConfig):await Wp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function tq(t){let e=await qj(t.appConfig);for(;e.registrationStatus===1;)await YP(100),e=await qj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Hw(t);return r||n}return e}function qj(t){return sg(t,e=>{if(!e)throw sa.create("installation-not-found");return tA(e)})}function tA(t){return nq(t)?{fid:t.fid,registrationStatus:0}:t}function nq(t){return t.registrationStatus===1&&t.registrationTime+BP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rq({appConfig:t,heartbeatServiceProvider:e},n){const r=sq(t,n),s=UV(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:zP,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await KP(()=>fetch(r,l));if(c.ok){const u=await c.json();return HP(u)}else throw await GP("Generate Auth Token",c)}function sq(t,{fid:e}){return`${WP(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(t,e=!1){let n;const r=await sg(t.appConfig,o=>{if(!nA(o))throw sa.create("not-registered");const a=o.authToken;if(!e&&aq(a))return o;if(a.requestStatus===1)return n=iq(t,e),o;{if(!navigator.onLine)throw sa.create("app-offline");const l=cq(o);return n=oq(t,l),l}});return n?await n:r.authToken}async function iq(t,e){let n=await Wj(t.appConfig);for(;n.authToken.requestStatus===1;)await YP(100),n=await Wj(t.appConfig);const r=n.authToken;return r.requestStatus===0?Gw(t,e):r}function Wj(t){return sg(t,e=>{if(!nA(e))throw sa.create("not-registered");const n=e.authToken;return uq(n)?{...e,authToken:{requestStatus:0}}:e})}async function oq(t,e){try{const n=await rq(t,e),r={...e,authToken:n};return await Wp(t.appConfig,r),n}catch(n){if(qP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Wp(t.appConfig,r)}throw n}}function nA(t){return t!==void 0&&t.registrationStatus===2}function aq(t){return t.requestStatus===2&&!lq(t)}function lq(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+DV}function cq(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function uq(t){return t.requestStatus===1&&t.requestTime+BP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dq(t){const e=t,{installationEntry:n,registrationPromise:r}=await Hw(e);return r?r.catch(console.error):Gw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hq(t,e=!1){const n=t;return await fq(n),(await Gw(n,e)).token}async function fq(t){const{registrationPromise:e}=await Hw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(t){if(!t||!t.options)throw Xy("App Configuration");if(!t.name)throw Xy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xy(t){return sa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="installations",mq="installations-internal",gq=t=>{const e=t.getProvider("app").getImmediate(),n=pq(e),r=ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yq=t=>{const e=t.getProvider("app").getImmediate(),n=ya(e,rA).getImmediate();return{getId:()=>dq(n),getToken:s=>hq(n,s)}};function vq(){Kr(new vr(rA,gq,"PUBLIC")),Kr(new vr(mq,yq,"PRIVATE"))}vq();Un($P,qw);Un($P,qw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq="/firebase-messaging-sw.js",bq="/firebase-cloud-messaging-push-scope",sA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wq="https://fcmregistrations.googleapis.com/v1",iA="google.c.a.c_id",_q="google.c.a.c_l",Nq="google.c.a.ts",Sq="google.c.a.e",Hj=1e4;var Gj;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Gj||(Gj={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ud;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ud||(ud={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jq(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let o=0;o<r.length;++o)s[o]=r.charCodeAt(o);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="fcm_token_details_db",Cq=5,Qj="fcm_token_object_Store";async function kq(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Jy))return null;let e=null;return(await Hm(Jy,Cq,{upgrade:async(r,s,o,a)=>{if(s<2||!r.objectStoreNames.contains(Qj))return;const l=a.objectStore(Qj),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Os(u.vapidKey)}}}else if(s===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Os(u.auth),p256dh:Os(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Os(u.vapidKey)}}}else if(s===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Os(u.auth),p256dh:Os(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Os(u.vapidKey)}}}}}})).close(),await Fy(Jy),await Fy("fcm_vapid_details_db"),await Fy("undefined"),Eq(e)?e:null}function Eq(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq="firebase-messaging-database",Iq=1,dd="firebase-messaging-store";let Zy=null;function oA(){return Zy||(Zy=Hm(Tq,Iq,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dd)}}})),Zy}async function Pq(t){const e=aA(t),r=await(await oA()).transaction(dd).objectStore(dd).get(e);if(r)return r;{const s=await kq(t.appConfig.senderId);if(s)return await Qw(t,s),s}}async function Qw(t,e){const n=aA(t),s=(await oA()).transaction(dd,"readwrite");return await s.objectStore(dd).put(e,n),await s.done,e}function aA({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Nn=new ga("messaging","Messaging",Aq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e){const n=await Yw(t),r=lA(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(Kw(t.appConfig),s)).json()}catch(a){throw Nn.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(o.error){const a=o.error.message;throw Nn.create("token-subscribe-failed",{errorInfo:a})}if(!o.token)throw Nn.create("token-subscribe-no-token");return o.token}async function Oq(t,e){const n=await Yw(t),r=lA(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${Kw(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw Nn.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(o.error){const a=o.error.message;throw Nn.create("token-update-failed",{errorInfo:a})}if(!o.token)throw Nn.create("token-update-no-token");return o.token}async function Dq(t,e){const r={method:"DELETE",headers:await Yw(t)};try{const o=await(await fetch(`${Kw(t.appConfig)}/${e}`,r)).json();if(o.error){const a=o.error.message;throw Nn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(s){throw Nn.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function Kw({projectId:t}){return`${wq}/projects/${t}/registrations`}async function Yw({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function lA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==sA&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=7*24*60*60*1e3;async function Lq(t){const e=await Uq(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Os(e.getKey("auth")),p256dh:Os(e.getKey("p256dh"))},r=await Pq(t.firebaseDependencies);if(r){if($q(r.subscriptionOptions,n))return Date.now()>=r.createTime+Mq?Fq(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Dq(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return Kj(t.firebaseDependencies,n)}else return Kj(t.firebaseDependencies,n)}async function Fq(t,e){try{const n=await Oq(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await Qw(t.firebaseDependencies,r),n}catch(n){throw n}}async function Kj(t,e){const r={token:await Rq(t,e),createTime:Date.now(),subscriptionOptions:e};return await Qw(t,r),r.token}async function Uq(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jq(e)})}function $q(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&s&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Bq(e,t),zq(e,t),Vq(e,t),e}function Bq(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const o=e.notification.icon;o&&(t.notification.icon=o)}function zq(t,e){e.data&&(t.data=e.data)}function Vq(t,e){var s,o,a,l;if(!e.fcmOptions&&!((s=e.notification)!=null&&s.click_action))return;t.fcmOptions={};const n=((o=e.fcmOptions)==null?void 0:o.link)??((a=e.notification)==null?void 0:a.click_action);n&&(t.fcmOptions.link=n);const r=(l=e.fcmOptions)==null?void 0:l.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(t){return typeof t=="object"&&!!t&&iA in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(t){if(!t||!t.options)throw ev("App Configuration Object");if(!t.name)throw ev("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw ev(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ev(t){return Nn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=Wq(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t){try{t.swRegistration=await navigator.serviceWorker.register(xq,{scope:bq}),t.swRegistration.update().catch(()=>{}),await Qq(t.swRegistration)}catch(e){throw Nn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Qq(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Hj} ms`)),Hj),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=o=>{var a;((a=o.target)==null?void 0:a.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kq(t,e){if(!e&&!t.swRegistration&&await Gq(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Nn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xq(t,e){if(!navigator)throw Nn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Nn.create("permission-blocked");return await Yq(t,e==null?void 0:e.vapidKey),await Kq(t,e==null?void 0:e.serviceWorkerRegistration),Lq(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jq(t,e,n){const r=Zq(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[iA],message_name:n[_q],message_time:n[Nq],message_device_time:Math.floor(Date.now()/1e3)})}function Zq(t){switch(t){case ud.NOTIFICATION_CLICKED:return"notification_open";case ud.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eW(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ud.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Yj(n)):t.onMessageHandler.next(Yj(n)));const r=n.data;qq(r)&&r[Sq]==="1"&&await Jq(t,n.messageType,r)}const Xj="@firebase/messaging",Jj="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=t=>{const e=new Hq(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>eW(e,n)),e},nW=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>Xq(e,r)}};function rW(){Kr(new vr("messaging",tW,"PUBLIC")),Kr(new vr("messaging-internal",nW,"PRIVATE")),Un(Xj,Jj),Un(Xj,Jj,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sW(){try{await iI()}catch{return!1}return typeof window<"u"&&sI()&&E$()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t=Gm()){return sW().then(e=>{if(!e)throw Nn.create("unsupported-browser")},e=>{throw Nn.create("indexed-db-unsupported")}),ya(rr(t),"messaging").getImmediate()}rW();function cA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oW=cA,uA=new ga("auth","Firebase",cA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Wm("@firebase/auth");function aW(t,...e){Hp.logLevel<=We.WARN&&Hp.warn(`Auth (${va}): ${t}`,...e)}function Ff(t,...e){Hp.logLevel<=We.ERROR&&Hp.error(`Auth (${va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,...e){throw Xw(t,...e)}function ms(t,...e){return Xw(t,...e)}function dA(t,e,n){const r={...oW(),[e]:n};return new ga("auth","Firebase",r).create(e,{appName:t.name})}function Vo(t){return dA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uA.create(t,...e)}function je(t,e,...n){if(!t)throw Xw(e,...n)}function Vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function ii(t,e){t||Vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function lW(){return Zj()==="http:"||Zj()==="https:"}function Zj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lW()||j$()||"connection"in navigator)?navigator.onLine:!0}function uW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=tw()||rI()}get(){return cW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fW=new Hd(3e4,6e4);function Zw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ic(t,e,n,r,s={}){return fA(t,s,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=tc({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return S$()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ma(t.emulatorConfig.host)&&(u.credentials="include"),hA.fetch()(await pA(t,t.config.apiHost,n,l),u)})}async function fA(t,e,n){t._canInitEmulator=!1;const r={...dW,...e};try{const s=new mW(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Yh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Yh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Yh(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dA(t,h,u);si(t,h)}}catch(s){if(s instanceof Cs)throw s;si(t,"network-request-failed",{message:String(s)})}}async function pW(t,e,n,r,s={}){const o=await ic(t,e,n,r,s);return"mfaPendingCredential"in o&&si(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function pA(t,e,n,r){const s=`${e}${n}?${r}`,o=t,a=o.config.emulator?Jw(t.config,s):`${t.config.apiScheme}://${s}`;return hW.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}class mW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),fW.get())})}}function Yh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ms(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gW(t,e){return ic(t,"POST","/v1/accounts:delete",e)}async function Gp(t,e){return ic(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yW(t,e=!1){const n=rr(t),r=await n.getIdToken(e),s=e_(r);je(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:ju(tv(s.auth_time)),issuedAtTime:ju(tv(s.iat)),expirationTime:ju(tv(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function tv(t){return Number(t)*1e3}function e_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ip(n);return s?JSON.parse(s):(Ff("Failed to decode base64 JWT payload"),null)}catch(s){return Ff("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eC(t){const e=e_(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cs&&vW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await hd(t,Gp(e,{idToken:n}));je(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(f=s.providerUserInfo)!=null&&f.length?mA(s.providerUserInfo):[],a=wW(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tb(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function bW(t){const e=rr(t);await Qp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wW(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e){const n=await fA(t,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=await pA(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ma(t.emulatorConfig.host)&&(c.credentials="include"),hA.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NW(t,e){return ic(t,"POST","/v2/accounts:revokeToken",Zw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=eC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await _W(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,a=new fl;return r&&(je(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(je(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(je(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new xW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hd(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yW(this,e)}reload(){return bW(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Vo(this.auth));const e=await this.getIdToken();return await hd(this,gW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:w,stsTokenManager:v}=n;je(f&&v,e,"internal-error");const y=fl.fromJSON(this.name,v);je(typeof f=="string",e,"internal-error"),vi(r,e.name),vi(s,e.name),je(typeof p=="boolean",e,"internal-error"),je(typeof g=="boolean",e,"internal-error"),vi(o,e.name),vi(a,e.name),vi(l,e.name),vi(c,e.name),vi(u,e.name),vi(h,e.name);const _=new $r({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:a,phoneNumber:o,tenantId:l,stsTokenManager:y,createdAt:u,lastLoginAt:h});return w&&Array.isArray(w)&&(_.providerData=w.map(N=>({...N}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new fl;s.updateFromServerResponse(n);const o=new $r({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];je(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?mA(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new fl;l.updateFromIdToken(r);const c=new $r({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new tb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Map;function qs(t){ii(t instanceof Function,"Expected a class definition");let e=tC.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gA.type="NONE";const nC=gA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Uf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Uf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gp(this.auth,{idToken:e}).catch(()=>{});return n?$r._fromGetAccountInfoResponse(this.auth,n,e):null}return $r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pl(qs(nC),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||qs(nC);const a=Uf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let f;if(typeof h=="string"){const p=await Gp(e,{idToken:h}).catch(()=>{});if(!p)break;f=await $r._fromGetAccountInfoResponse(e,p,h)}else f=$r._fromJSON(e,h);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new pl(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new pl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_A(e))return"Blackberry";if(NA(e))return"Webos";if(vA(e))return"Safari";if((e.includes("chrome/")||xA(e))&&!e.includes("edge/"))return"Chrome";if(wA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yA(t=Sn()){return/firefox\//i.test(t)}function vA(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xA(t=Sn()){return/crios\//i.test(t)}function bA(t=Sn()){return/iemobile/i.test(t)}function wA(t=Sn()){return/android/i.test(t)}function _A(t=Sn()){return/blackberry/i.test(t)}function NA(t=Sn()){return/webos/i.test(t)}function t_(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SW(t=Sn()){var e;return t_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function jW(){return C$()&&document.documentMode===10}function SA(t=Sn()){return t_(t)||wA(t)||NA(t)||_A(t)||/windows phone/i.test(t)||bA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e=[]){let n;switch(t){case"Browser":n=rC(Sn());break;case"Worker":n=`${rC(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(t,e={}){return ic(t,"GET","/v2/passwordPolicy",Zw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=6;class TW{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sC(this),this.idTokenSubscription=new sC(this),this.beforeStateQueue=new CW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gp(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Dr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Vo(this));const n=e?rr(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kW(this),n=new TW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qs(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&aW(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function n_(t){return rr(t)}class sC{constructor(e){this.auth=e,this.observer=null,this.addObserver=D$(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PW(t){r_=t}function AW(t){return r_.loadJS(t)}function RW(){return r_.gapiScript}function OW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t,e){const n=ya(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Xi(o,e??{}))return s;si(s,"already-initialized")}return n.initialize({options:e})}function MW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LW(t,e,n){const r=n_(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=CA(e),{host:a,port:l}=FW(e),c=l===null?"":`:${l}`,u={url:`${o}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(Xi(u,r.config.emulator)&&Xi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ma(a)?(Z0(`${o}//${a}${c}`),ew("Auth",!0)):UW()}function CA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FW(t){const e=CA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:iC(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:iC(a)}}}function iC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,n){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return pW(t,"POST","/v1/accounts:signInWithIdp",Zw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W="http://localhost";class oa extends kA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const a=new oa(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:$W,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends EA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Gd{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Gd{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Gd{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await $r._fromIdTokenResponse(e,r,s),a=oC(r);return new Fl({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=oC(r);return new Fl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function oC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Cs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Kp(e,n,r,s)}}function TA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(t,o,e,r):o})}async function BW(t,e,n=!1){const r=await hd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(Vo(r));const s="reauthenticate";try{const o=await hd(t,TA(r,s,e,t),n);je(o.idToken,r,"internal-error");const a=e_(o.idToken);je(a,r,"internal-error");const{sub:l}=a;return je(t.uid===l,r,"user-mismatch"),Fl._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&si(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(t,e,n=!1){if(Dr(t.app))return Promise.reject(Vo(t));const r="signIn",s=await TA(t,r,e),o=await Fl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function qW(t,e,n,r){return rr(t).onIdTokenChanged(e,n,r)}function WW(t,e,n){return rr(t).beforeAuthStateChanged(e,n)}const Yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=1e3,GW=10;class PA extends IA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);jW()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,GW):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PA.type="LOCAL";const QW=PA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends IA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AA.type="SESSION";const RA=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,o)),c=await KW(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=s_("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(p.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return window}function XW(t){gs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function JW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function eH(){return OA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firebaseLocalStorageDb",tH=1,Xp="firebaseLocalStorage",MA="fbase_key";class Qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function og(t,e){return t.transaction([Xp],e?"readwrite":"readonly").objectStore(Xp)}function nH(){const t=indexedDB.deleteDatabase(DA);return new Qd(t).toPromise()}function nb(){const t=indexedDB.open(DA,tH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xp,{keyPath:MA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xp)?e(r):(r.close(),await nH(),e(await nb()))})})}async function aC(t,e,n){const r=og(t,!0).put({[MA]:e,value:n});return new Qd(r).toPromise()}async function rH(t,e){const n=og(t,!1).get(e),r=await new Qd(n).toPromise();return r===void 0?null:r.value}function lC(t,e){const n=og(t,!0).delete(e);return new Qd(n).toPromise()}const sH=800,iH=3;class LA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(eH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await JW(),!this.activeServiceWorker)return;this.sender=new YW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nb();return await aC(e,Yp,"1"),await lC(e,Yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=og(s,!1).getAll();return new Qd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LA.type="LOCAL";const oH=LA;new Hd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t,e){return e?qs(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends kA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lH(t){return VW(t.auth,new i_(t),t.bypassAuthState)}function cH(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),zW(n,new i_(t),t.bypassAuthState)}async function uH(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),BW(n,new i_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lH;case"linkViaPopup":case"linkViaRedirect":return uH;case"reauthViaPopup":case"reauthViaRedirect":return cH;default:si(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=new Hd(2e3,1e4);class tl extends FA{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=s_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dH.get())};e()}}tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH="pendingRedirect",$f=new Map;class fH extends FA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const r=await pH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pH(t,e){const n=yH(e),r=gH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mH(t,e){$f.set(t._key(),e)}function gH(t){return qs(t._redirectPersistence)}function yH(t){return Uf(hH,t.config.apiKey,t.name)}async function vH(t,e,n=!1){if(Dr(t.app))return Promise.reject(Vo(t));const r=n_(t),s=aH(r,e),a=await new fH(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=10*60*1e3;class bH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ms(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xH&&this.cachedEventUids.clear(),this.cachedEventUids.has(cC(e))}saveEventToCache(e){this.cachedEventUids.add(cC(e)),this.lastProcessedEventTime=Date.now()}}function cC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _H(t,e={}){return ic(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SH=/^https?/;async function jH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _H(t);for(const n of e)try{if(CH(n))return}catch{}si(t,"unauthorized-domain")}function CH(t){const e=eb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!SH.test(n))return!1;if(NH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=new Hd(3e4,6e4);function uC(){const t=gs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EH(t){return new Promise((e,n)=>{var s,o,a;function r(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),n(ms(t,"network-request-failed"))},timeout:kH.get()})}if((o=(s=gs().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=gs().gapi)!=null&&a.load)r();else{const l=OW("iframefcb");return gs()[l]=()=>{gapi.load?r():n(ms(t,"network-request-failed"))},AW(`${RW()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function TH(t){return Bf=Bf||EH(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new Hd(5e3,15e3),PH="__/auth/iframe",AH="emulator/auth/iframe",RH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DH(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jw(e,AH):`https://${t.config.authDomain}/${PH}`,r={apiKey:e.apiKey,appName:t.name,v:va},s=OH.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${tc(r).slice(1)}`}async function MH(t){const e=await TH(t),n=gs().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:DH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RH,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=ms(t,"network-request-failed"),l=gs().setTimeout(()=>{o(a)},IH.get());function c(){gs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FH=500,UH=600,$H="_blank",BH="http://localhost";class dC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zH(t,e,n,r=FH,s=UH){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...LH,width:r.toString(),height:s.toString(),top:o,left:a},u=Sn().toLowerCase();n&&(l=xA(u)?$H:n),yA(u)&&(e=e||BH,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(SW(u)&&l!=="_self")return VH(e||"",l),new dC(null);const f=window.open(e||"",l,h);je(f,t,"popup-blocked");try{f.focus()}catch{}return new dC(f)}function VH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH="__/auth/handler",WH="emulator/auth/handler",HH=encodeURIComponent("fac");async function hC(t,e,n,r,s,o){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:va,eventId:s};if(e instanceof EA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Rx(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof Gd){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${HH}=${encodeURIComponent(c)}`:"";return`${GH(t)}?${tc(l).slice(1)}${u}`}function GH({config:t}){return t.emulator?Jw(t,WH):`https://${t.authDomain}/${qH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="webStorageSupport";class QH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RA,this._completeRedirectFn=vH,this._overrideRedirectResult=mH}async _openPopup(e,n,r,s){var a;ii((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await hC(e,n,r,eb(),s);return zH(e,o,s_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await hC(e,n,r,eb(),s);return XW(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MH(e),r=new bH(e);return n.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nv,{type:nv},s=>{var a;const o=(a=s==null?void 0:s[0])==null?void 0:a[nv];o!==void 0&&n(!!o),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SA()||vA()||t_()}}const KH=QH;var fC="@firebase/auth",pC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JH(t){Kr(new vr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;je(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jA(t)},u=new IW(r,s,o,c);return MW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kr(new vr("auth-internal",e=>{const n=n_(e.getProvider("auth").getImmediate());return(r=>new YH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(fC,pC,XH(t)),Un(fC,pC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=5*60,eG=tI("authIdTokenMaxAge")||ZH;let mC=null;const tG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eG)return;const s=n==null?void 0:n.token;mC!==s&&(mC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nG(t=Gm()){const e=ya(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DW(t,{popupRedirectResolver:KH,persistence:[oH,QW,RA]}),r=tI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=tG(o.toString());WW(n,a,()=>a(n.currentUser)),qW(n,l=>a(l))}}const s=JT("auth");return s&&LW(n,`http://${s}`),n}function rG(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}PW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=ms("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",rG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JH("Browser");const Ia={apiKey:void 0,authDomain:void 0,databaseURL:"https://undefined-default-rtdb.firebaseio.com",projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0};let vo,rv,Jc,sv,iv;const $A=()=>{try{const t=M8();if(t.length>0?(vo=t[0],console.log(" Firebase already initialized, reusing existing app")):(vo=cI(Ia),console.log(" Firebase initialized successfully"),console.log(" Firebase config:",{projectId:Ia.projectId,databaseURL:Ia.databaseURL,authDomain:Ia.authDomain})),rv||(rv=_B(vo)),!Jc){Jc=UP(vo,Ia.databaseURL),console.log(" Firebase Realtime Database initialized with URL:",Ia.databaseURL);const e=hl(Jc,".info/connected");Vw(e,n=>{const r=n.val();window.__firebaseRealtimeConnected=r===!0,console.log(" Firebase Realtime Database connection:",r?" Connected":" Disconnected")})}return iv||(iv=nG(vo)),!sv&&typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator&&(sv=iW(vo),navigator.serviceWorker.register("/firebase-messaging-sw.js").then(e=>{console.log(" Service Worker registered:",e)}).catch(e=>{console.error(" Service Worker registration failed:",e)})),{app:vo,db:rv,database:Jc,messaging:sv,auth:iv}}catch(t){throw console.error(" Firebase initialization error:",t),console.error("Error details:",t.message),window.__firebaseRealtimeConnected=!1,t}},sG=()=>Jc,as={ADMIN:"1",STAFF:"2",CLIENT:"3"},ag=t=>(t==null?void 0:t.role_id)===as.CLIENT,Pa=({children:t,redirectTo:e="/login"})=>{const n=kn();return Oe(F0)?t:i.jsx(Xn,{to:e,state:{from:n.pathname},replace:!0})},$c=({children:t,allowedRoles:e=[],fallbackPath:n="/dashboard"})=>{const r=Oe(Ss);return e.length===0||e.includes(r==null?void 0:r.role_id)?t:i.jsx(Xn,{to:n,replace:!0})},gC=({children:t,requireIncomplete:e=!1,redirectTo:n="/onboarding"})=>{const r=Oe(Ss),s=Oe(U0);return ag(r)?e&&s?i.jsx(Xn,{to:"/dashboard",replace:!0}):!e&&!s?i.jsx(Xn,{to:n,replace:!0}):t:t},iG=({message:t="Loading...",inline:e=!1})=>{const n=e?{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"transparent",position:"relative"}:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999},r=e?{width:"30px",height:"30px",border:"3px solid rgba(102, 126, 234, 0.3)",borderTop:"3px solid #667eea",borderRadius:"50%",animation:"plurify-spin 1s linear infinite",marginBottom:"15px"}:{width:"50px",height:"50px",border:"4px solid rgba(255, 255, 255, 0.3)",borderTop:"4px solid #ffffff",borderRadius:"50%",animation:"plurify-spin 1s linear infinite",marginBottom:"20px"},s=e?{color:"#333",fontSize:"14px",fontWeight:"500",margin:0,textAlign:"center"}:{color:"#ffffff",fontSize:"18px",fontWeight:"500",margin:0,textAlign:"center"};return be.useEffect(()=>{const o="plurify-loading-animation";if(!document.getElementById(o)){const a=document.createElement("style");a.id=o,a.textContent=`
        @keyframes plurify-spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `,document.head.appendChild(a)}return()=>{const a=document.getElementById(o);a&&!document.querySelector("[data-plurify-loading]")&&a.remove()}},[]),i.jsxs("div",{style:n,"data-plurify-loading":"true",children:[i.jsx("div",{style:r}),i.jsx("p",{style:s,children:t})]})},oG=({children:t,redirectTo:e="/pricing"})=>{const n=kn(),r=Oe(Ss),s=ag(r),{data:o,isLoading:a,error:l}=$0(void 0,{skip:!s});return s?a?i.jsx(iG,{message:"Checking subscription..."}):!(o!=null&&o.data)||o.data.status!=="active"?i.jsx(Xn,{to:e,state:{from:n.pathname,message:"Please subscribe to access this feature"},replace:!0}):o.data.status==="past_due"||o.data.status==="canceled"?i.jsx(Xn,{to:"/subscription",state:{from:n.pathname,message:"Your subscription needs attention. Please update your payment method."},replace:!0}):t:t},yC=({children:t,redirectTo:e=null})=>{const n=Oe(F0),r=Oe(Ss),s=Oe(U0);return n?e?i.jsx(Xn,{to:e,replace:!0}):ag(r)&&!s?i.jsx(Xn,{to:"/onboarding",replace:!0}):i.jsx(Xn,{to:"/dashboard",replace:!0}):t},aG=()=>{var p;const t=Tt(),e=Jr(),[n,{isLoading:r,error:s}]=eU(),[o,a]=m.useState({email:"",password:""}),[l,c]=m.useState({}),u=g=>{const{name:w,value:v}=g.target;a(y=>({...y,[w]:v})),l[w]&&c(y=>({...y,[w]:""}))},h=()=>{const g={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(g.email="Email is invalid"):g.email="Email is required",o.password||(g.password="Password is required"),c(g),Object.keys(g).length===0},f=async g=>{if(g.preventDefault(),!!h())try{const w=await n(o).unwrap();if(w.success&&w.data){const{token:v,user:y}=w.data;localStorage.setItem("token",v),localStorage.setItem("user",JSON.stringify(y)),e(yT({data:{token:v,user:y}})),await new Promise(_=>setTimeout(_,100)),(y==null?void 0:y.role_id)==="3"?y.onboarding_completed?t("/dashboard"):t("/onboarding"):t("/dashboard")}}catch(w){console.error("Login failed:",w)}};return i.jsxs("div",{className:"max-w-md mx-auto w-full",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Log in to your Account"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign in to continue your business onboarding and integrations."}),s&&i.jsx("div",{className:"error-message mb-4",children:((p=s.data)==null?void 0:p.message)||"Login failed. Please try again."}),i.jsxs("form",{onSubmit:f,className:"auth-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",className:"text-black",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:u,placeholder:"Enter your email",className:l.email?"error":""}),l.email&&i.jsx("span",{className:"field-error",children:l.email})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"password",className:"text-black",children:"Password"}),i.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:u,placeholder:"Enter your password",className:l.password?"error":""}),l.password&&i.jsx("span",{className:"field-error",children:l.password})]}),i.jsx("button",{type:"submit",className:"w-full h-12 text-base font-semibold bg-primary text-primary-foreground rounded-sm",disabled:r,children:r?"Logging in...":"Login"})]})]})};function BA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=BA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=BA(t))&&(r&&(r+=" "),r+=e);return r}const lG=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},cG=(t,e)=>({classGroupId:t,validator:e}),VA=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Jp="-",vC=[],uG="arbitrary..",dG=t=>{const e=fG(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return hG(a);const l=a.split(Jp),c=l[0]===""&&l.length>1?1:0;return qA(l,c,e)},getConflictingClassGroupIds:(a,l)=>{if(l){const c=r[a],u=n[a];return c?u?lG(u,c):c:u||vC}return n[a]||vC}}},qA=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],o=n.nextPart.get(s);if(o){const u=qA(t,e+1,o);if(u)return u}const a=n.validators;if(a===null)return;const l=e===0?t.join(Jp):t.slice(e).join(Jp),c=a.length;for(let u=0;u<c;u++){const h=a[u];if(h.validator(l))return h.classGroupId}},hG=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?uG+r:void 0})(),fG=t=>{const{theme:e,classGroups:n}=t;return pG(n,e)},pG=(t,e)=>{const n=VA();for(const r in t){const s=t[r];o_(s,n,r,e)}return n},o_=(t,e,n,r)=>{const s=t.length;for(let o=0;o<s;o++){const a=t[o];mG(a,e,n,r)}},mG=(t,e,n,r)=>{if(typeof t=="string"){gG(t,e,n);return}if(typeof t=="function"){yG(t,e,n,r);return}vG(t,e,n,r)},gG=(t,e,n)=>{const r=t===""?e:WA(e,t);r.classGroupId=n},yG=(t,e,n,r)=>{if(xG(t)){o_(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(cG(n,t))},vG=(t,e,n,r)=>{const s=Object.entries(t),o=s.length;for(let a=0;a<o;a++){const[l,c]=s[a];o_(c,WA(e,l),n,r)}},WA=(t,e)=>{let n=t;const r=e.split(Jp),s=r.length;for(let o=0;o<s;o++){const a=r[o];let l=n.nextPart.get(a);l||(l=VA(),n.nextPart.set(a,l)),n=l}return n},xG=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,bG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(o,a)=>{n[o]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let a=n[o];if(a!==void 0)return a;if((a=r[o])!==void 0)return s(o,a),a},set(o,a){o in n?n[o]=a:s(o,a)}}},rb="!",xC=":",wG=[],bC=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),_G=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let a=0,l=0,c=0,u;const h=s.length;for(let v=0;v<h;v++){const y=s[v];if(a===0&&l===0){if(y===xC){o.push(s.slice(c,v)),c=v+1;continue}if(y==="/"){u=v;continue}}y==="["?a++:y==="]"?a--:y==="("?l++:y===")"&&l--}const f=o.length===0?s:s.slice(c);let p=f,g=!1;f.endsWith(rb)?(p=f.slice(0,-1),g=!0):f.startsWith(rb)&&(p=f.slice(1),g=!0);const w=u&&u>c?u-c:void 0;return bC(o,g,p,w)};if(e){const s=e+xC,o=r;r=a=>a.startsWith(s)?o(a.slice(s.length)):bC(wG,!1,a,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},NG=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const a=n[o],l=a[0]==="[",c=e.has(a);l||c?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(a)):s.push(a)}return s.length>0&&(s.sort(),r.push(...s)),r}},SG=t=>({cache:bG(t.cacheSize),parseClassName:_G(t),sortModifiers:NG(t),...dG(t)}),jG=/\s+/,CG=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,a=[],l=t.trim().split(jG);let c="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let y=!!v,_=r(y?w.substring(0,v):w);if(!_){if(!y){c=h+(c.length>0?" "+c:c);continue}if(_=r(w),!_){c=h+(c.length>0?" "+c:c);continue}y=!1}const N=p.length===0?"":p.length===1?p[0]:o(p).join(":"),b=g?N+rb:N,j=b+_;if(a.indexOf(j)>-1)continue;a.push(j);const I=s(_,y);for(let O=0;O<I.length;++O){const S=I[O];a.push(b+S)}c=h+(c.length>0?" "+c:c)}return c},kG=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=HA(n))&&(s&&(s+=" "),s+=r);return s},HA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=HA(t[r]))&&(n&&(n+=" "),n+=e);return n},EG=(t,...e)=>{let n,r,s,o;const a=c=>{const u=e.reduce((h,f)=>f(h),t());return n=SG(u),r=n.cache.get,s=n.cache.set,o=l,l(c)},l=c=>{const u=r(c);if(u)return u;const h=CG(c,n);return s(c,h),h};return o=a,(...c)=>o(kG(...c))},TG=[],qt=t=>{const e=n=>n[t]||TG;return e.isThemeGetter=!0,e},GA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,QA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IG=/^\d+\/\d+$/,PG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Aa=t=>IG.test(t),Ee=t=>!!t&&!Number.isNaN(Number(t)),xi=t=>!!t&&Number.isInteger(Number(t)),ov=t=>t.endsWith("%")&&Ee(t.slice(0,-1)),As=t=>PG.test(t),MG=()=>!0,LG=t=>AG.test(t)&&!RG.test(t),KA=()=>!1,FG=t=>OG.test(t),UG=t=>DG.test(t),$G=t=>!me(t)&&!ge(t),BG=t=>oc(t,JA,KA),me=t=>GA.test(t),xo=t=>oc(t,ZA,LG),av=t=>oc(t,HG,Ee),wC=t=>oc(t,YA,KA),zG=t=>oc(t,XA,UG),Xh=t=>oc(t,eR,FG),ge=t=>QA.test(t),Bc=t=>ac(t,ZA),VG=t=>ac(t,GG),_C=t=>ac(t,YA),qG=t=>ac(t,JA),WG=t=>ac(t,XA),Jh=t=>ac(t,eR,!0),oc=(t,e,n)=>{const r=GA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ac=(t,e,n=!1)=>{const r=QA.exec(t);return r?r[1]?e(r[1]):n:!1},YA=t=>t==="position"||t==="percentage",XA=t=>t==="image"||t==="url",JA=t=>t==="length"||t==="size"||t==="bg-size",ZA=t=>t==="length",HG=t=>t==="number",GG=t=>t==="family-name",eR=t=>t==="shadow",QG=()=>{const t=qt("color"),e=qt("font"),n=qt("text"),r=qt("font-weight"),s=qt("tracking"),o=qt("leading"),a=qt("breakpoint"),l=qt("container"),c=qt("spacing"),u=qt("radius"),h=qt("shadow"),f=qt("inset-shadow"),p=qt("text-shadow"),g=qt("drop-shadow"),w=qt("blur"),v=qt("perspective"),y=qt("aspect"),_=qt("ease"),N=qt("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...j(),ge,me],O=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],x=()=>[ge,me,c],E=()=>[Aa,"full","auto",...x()],k=()=>[xi,"none","subgrid",ge,me],R=()=>["auto",{span:["full",xi,ge,me]},xi,ge,me],P=()=>[xi,"auto",ge,me],T=()=>["auto","min","max","fr",ge,me],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...x()],B=()=>[Aa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],D=()=>[t,ge,me],F=()=>[...j(),_C,wC,{position:[ge,me]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",qG,BG,{size:[ge,me]}],Z=()=>[ov,Bc,xo],$=()=>["","none","full",u,ge,me],K=()=>["",Ee,Bc,xo],V=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>[Ee,ov,_C,wC],J=()=>["","none",w,ge,me],Q=()=>["none",Ee,ge,me],ee=()=>["none",Ee,ge,me],re=()=>[Ee,ge,me],ne=()=>[Aa,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[As],breakpoint:[As],color:[MG],container:[As],"drop-shadow":[As],ease:["in","out","in-out"],font:[$G],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[As],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[As],shadow:[As],spacing:["px",Ee],text:[As],"text-shadow":[As],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Aa,me,ge,y]}],container:["container"],columns:[{columns:[Ee,me,ge,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",ge,me]}],basis:[{basis:[Aa,"full","auto",l,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ee,Aa,"auto","initial","none",me]}],grow:[{grow:["",Ee,ge,me]}],shrink:[{shrink:["",Ee,ge,me]}],order:[{order:[xi,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[l,"screen",...B()]}],"min-w":[{"min-w":[l,"screen","none",...B()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,Bc,xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,av]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ov,me]}],"font-family":[{font:[VG,me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ge,me]}],"line-clamp":[{"line-clamp":[Ee,"none",ge,av]}],leading:[{leading:[o,...x()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ee,"from-font","auto",ge,xo]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Ee,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,ge,me],radial:["",ge,me],conic:[xi,ge,me]},WG,zG]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ee,ge,me]}],"outline-w":[{outline:["",Ee,Bc,xo]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",h,Jh,Xh]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",f,Jh,Xh]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Ee,xo]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",p,Jh,Xh]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Ee,ge,me]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ee]}],"mask-image-linear-from-pos":[{"mask-linear-from":U()}],"mask-image-linear-to-pos":[{"mask-linear-to":U()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":U()}],"mask-image-t-to-pos":[{"mask-t-to":U()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":U()}],"mask-image-r-to-pos":[{"mask-r-to":U()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":U()}],"mask-image-b-to-pos":[{"mask-b-to":U()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":U()}],"mask-image-l-to-pos":[{"mask-l-to":U()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":U()}],"mask-image-x-to-pos":[{"mask-x-to":U()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":U()}],"mask-image-y-to-pos":[{"mask-y-to":U()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":U()}],"mask-image-radial-to-pos":[{"mask-radial-to":U()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ee]}],"mask-image-conic-from-pos":[{"mask-conic-from":U()}],"mask-image-conic-to-pos":[{"mask-conic-to":U()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:J()}],brightness:[{brightness:[Ee,ge,me]}],contrast:[{contrast:[Ee,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",g,Jh,Xh]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Ee,ge,me]}],"hue-rotate":[{"hue-rotate":[Ee,ge,me]}],invert:[{invert:["",Ee,ge,me]}],saturate:[{saturate:[Ee,ge,me]}],sepia:[{sepia:["",Ee,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[Ee,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[Ee,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ee,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ee,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",Ee,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[Ee,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[Ee,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Ee,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ee,"initial",ge,me]}],ease:[{ease:["linear","initial",_,ge,me]}],delay:[{delay:[Ee,ge,me]}],animate:[{animate:["none",N,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,ge,me]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Ee,Bc,xo,av]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},KG=EG(QG);function le(...t){return KG(zA(t))}const Ul=({className:t,variant:e="default"})=>i.jsxs("div",{className:le("flex items-center gap-2",t),children:[i.jsx("div",{className:le("w-10 h-10 rounded-lg flex items-center justify-center font-bold text-xl",e==="light"?"bg-primary-foreground text-primary":"bg-primary text-primary-foreground"),children:"P"}),i.jsx("span",{className:le("text-2xl font-bold tracking-tight",e==="light"?"text-primary-foreground":"text-foreground"),children:"Plutify"})]});function NC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fi(...t){return e=>{let n=!1;const r=t.map(s=>{const o=NC(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():NC(t[s],null)}}}}function Fe(...t){return m.useCallback(fi(...t),t)}var YG=Symbol.for("react.lazy"),Zp=gm[" use ".trim().toString()];function XG(t){return typeof t=="object"&&t!==null&&"then"in t}function tR(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===YG&&"_payload"in t&&XG(t._payload)}function a_(t){const e=ZG(t),n=m.forwardRef((r,s)=>{let{children:o,...a}=r;tR(o)&&typeof Zp=="function"&&(o=Zp(o._payload));const l=m.Children.toArray(o),c=l.find(tQ);if(c){const u=c.props.children,h=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var JG=a_("Slot");function ZG(t){const e=m.forwardRef((n,r)=>{let{children:s,...o}=n;if(tR(s)&&typeof Zp=="function"&&(s=Zp(s._payload)),m.isValidElement(s)){const a=rQ(s),l=nQ(o,s.props);return s.type!==m.Fragment&&(l.ref=r?fi(r,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eQ=Symbol("radix.slottable");function tQ(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eQ}function nQ(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function rQ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const SC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jC=zA,l_=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return jC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=o==null?void 0:o[u];if(h===null)return null;const p=SC(h)||SC(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(w=>{let[v,y]=w;return Array.isArray(y)?y.includes({...o,...l}[v]):{...o,...l}[v]===y})?[...u,f,p]:u},[]);return jC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},sQ=l_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=be.forwardRef(function({className:e,variant:n,size:r,asChild:s=!1,...o},a){const l=s?JG:"button";return i.jsx(l,{className:le(sQ({variant:n,size:r,className:e})),ref:a,...o})});xe.displayName="Button";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),CC=t=>{const e=oQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},nR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),aQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...lQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nR("lucide",s),...!o&&!aQ(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,h])=>m.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const n=m.forwardRef(({className:r,...s},o)=>m.createElement(cQ,{ref:o,iconNode:e,className:nR(`lucide-${iQ(CC(t))}`,`lucide-${t}`,r),...s}));return n.displayName=CC(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dQ=ue("activity",uQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$l=ue("arrow-left",hQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Eo=ue("arrow-right",fQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gl=ue("bell",pQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gQ=ue("book-open",mQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],fd=ue("building-2",yQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],xQ=ue("calendar-days",vQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yl=ue("calendar",bQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bl=ue("chart-column",wQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],NQ=ue("check-check",_Q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aa=ue("check",SQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rR=ue("chevron-down",jQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kQ=ue("chevron-left",CQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sR=ue("chevron-right",EQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],IQ=ue("chevron-up",TQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qs=ue("circle-alert",PQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iR=ue("circle-check-big",AQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oi=ue("circle-check",RQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],oR=ue("circle-plus",OQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MQ=ue("circle-question-mark",DQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],FQ=ue("circle-x",LQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c_=ue("circle",UQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],aR=ue("clipboard-list",$Q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u_=ue("clock",BQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lg=ue("credit-card",zQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],qQ=ue("database",VQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vl=ue("dollar-sign",WQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],GQ=ue("download",HQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],lR=ue("ellipsis",QQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cR=ue("external-link",KQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XQ=ue("eye",YQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],ZQ=ue("file-chart-column-increasing",JQ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ks=ue("file-text",eK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],uR=ue("funnel",tK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],rK=ue("hash",nK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],dR=ue("house",sK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kC=ue("info",iK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],hR=ue("layout-dashboard",oK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],sb=ue("link-2",aK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zf=ue("loader-circle",lK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ib=ue("lock",cK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],d_=ue("log-out",uK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],to=ue("mail",dK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fK=ue("map-pin",hK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fR=ue("pen",pK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],gK=ue("pencil",mK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vK=ue("phone",yK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],EC=ue("piggy-bank",xK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cg=ue("plus",bK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],em=ue("receipt",wK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qo=ue("refresh-cw",_K);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],SK=ue("save",NK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CK=ue("search",jK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ug=ue("settings",kK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pd=ue("shield",EK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],IK=ue("shopping-bag",TK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tm=ue("square-check-big",PK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Zc=ue("star",AK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],OK=ue("store",RK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],TC=ue("target",DK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],md=ue("trash-2",MK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ob=ue("trending-up",LK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ab=ue("triangle-alert",FK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],$K=ue("unplug",UK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],IC=ue("upload",BK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],h_=ue("user-check",zK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qK=ue("user-plus",VK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zl=ue("user",WK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xs=ue("users",HK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dg=ue("x",GK);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],KK=ue("zap",QK),YK=()=>{const t=Tt(),e=()=>{const n=document.getElementById("email");n&&(n.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{n.focus()},300))};return i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"w-1/2 bg-card p-8 lg:p-12 flex flex-col justify-center animate-slide-in-left",children:i.jsxs("div",{className:"max-w-md mx-auto w-full",children:[i.jsx(Ul,{className:"mb-8"}),i.jsx(aG,{})]})}),i.jsx("div",{className:"w-1/2 bg-primary p-8 lg:p-12 flex flex-col justify-center animate-slide-in-right",children:i.jsxs("div",{className:"max-w-md mx-auto w-full",children:[i.jsx(Ul,{variant:"light",className:"mb-8"}),i.jsx("h1",{className:"text-3xl font-bold text-primary-foreground mb-2",children:"Find Your Perfect Plutify Plan"}),i.jsx("p",{className:"text-primary-foreground/80 mb-8",children:"Answer a few quick questions to determine the best service tier for your business needs and growth goals."}),i.jsxs("div",{className:"bg-primary-foreground/10 backdrop-blur-sm rounded-xl p-6 mb-8 border border-primary-foreground/20",children:[i.jsx("p",{className:"text-primary-foreground/70 text-sm mb-2",children:"Progress:"}),i.jsx("p",{className:"text-primary-foreground font-semibold",children:"Step 1 of 3: Business Basics"}),i.jsx("div",{className:"mt-3 h-2 bg-primary-foreground/20 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full w-0 bg-primary-foreground rounded-full"})})]}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 text-primary-foreground/90",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-foreground/10 flex items-center justify-center",children:i.jsx(ob,{className:"w-5 h-5"})}),i.jsx("span",{children:"Strategic financial guidance"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-primary-foreground/90",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-foreground/10 flex items-center justify-center",children:i.jsx(pd,{className:"w-5 h-5"})}),i.jsx("span",{children:"Compliance & tax optimization"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-primary-foreground/90",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-foreground/10 flex items-center justify-center",children:i.jsx(xs,{className:"w-5 h-5"})}),i.jsx("span",{children:"Dedicated support team"})]})]}),i.jsxs(xe,{onClick:()=>t("/questionnaire"),size:"lg",className:"w-full h-14 text-lg font-semibold bg-primary-foreground text-primary hover:bg-primary-foreground/90 transition-all","aria-label":"Start questionnaire to find your perfect plan",children:["Start Now",i.jsx(Eo,{className:"ml-2 h-5 w-5"})]}),i.jsxs("p",{className:"mt-6 text-center text-primary-foreground/70",children:[i.jsx("span",{className:"font-medium",children:"Existing Client?"})," ",i.jsx("button",{onClick:e,className:"text-primary-foreground underline hover:no-underline transition-all bg-transparent",type:"button","aria-label":"Focus on email input field",children:"Check Your Plan or Upgrade Here"})]})]})})]})},XK=()=>{var p;const t=Tt(),e=Jr(),[n,{isLoading:r,error:s}]=tU(),[o,a]=m.useState({first_name:"",last_name:"",email:"",password:"",confirmPassword:""}),[l,c]=m.useState({}),u=g=>{const{name:w,value:v}=g.target;a(y=>({...y,[w]:v})),l[w]&&c(y=>({...y,[w]:""}))},h=()=>{const g={};return o.first_name||(g.first_name="First name is required"),o.last_name||(g.last_name="Last name is required"),o.email?/\S+@\S+\.\S+/.test(o.email)||(g.email="Email is invalid"):g.email="Email is required",o.password?o.password.length<6&&(g.password="Password must be at least 6 characters"):g.password="Password is required",o.confirmPassword?o.password!==o.confirmPassword&&(g.confirmPassword="Passwords do not match"):g.confirmPassword="Please confirm your password",c(g),Object.keys(g).length===0},f=async g=>{if(g.preventDefault(),!!h())try{const w=await n(o).unwrap();if(w.success&&w.data){const{token:v,user:y}=w.data;localStorage.setItem("token",v),localStorage.setItem("user",JSON.stringify(y)),e(yT({data:{token:v,user:y}})),await new Promise(_=>setTimeout(_,100)),(y==null?void 0:y.role_id)==="3"?y.onboarding_completed?t("/dashboard"):t("/onboarding"):t("/dashboard")}else console.error("Signup failed:",w)}catch(w){console.error("Signup failed:",w)}};return i.jsx("div",{className:"auth-container",children:i.jsxs("div",{className:"auth-card",children:[i.jsx("h2",{className:"auth-title",children:"Sign Up for Plutify"}),s&&i.jsx("div",{className:"error-message",children:((p=s.data)==null?void 0:p.message)||"Signup failed. Please try again."}),i.jsxs("form",{onSubmit:f,className:"auth-form",children:[i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"first_name",children:"First Name"}),i.jsx("input",{type:"text",id:"first_name",name:"first_name",value:o.first_name,onChange:u,placeholder:"John",className:l.first_name?"error":""}),l.first_name&&i.jsx("span",{className:"field-error",children:l.first_name})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"last_name",children:"Last Name"}),i.jsx("input",{type:"text",id:"last_name",name:"last_name",value:o.last_name,onChange:u,placeholder:"Doe",className:l.last_name?"error":""}),l.last_name&&i.jsx("span",{className:"field-error",children:l.last_name})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:u,placeholder:"john.doe@example.com",className:l.email?"error":""}),l.email&&i.jsx("span",{className:"field-error",children:l.email})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"password",children:"Password"}),i.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:u,placeholder:"Enter your password",className:l.password?"error":""}),l.password&&i.jsx("span",{className:"field-error",children:l.password})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),i.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:u,placeholder:"Confirm your password",className:l.confirmPassword?"error":""}),l.confirmPassword&&i.jsx("span",{className:"field-error",children:l.confirmPassword})]}),i.jsx("button",{type:"submit",className:"auth-button",disabled:r,children:r?"Creating account...":"Sign Up"})]}),i.jsx("div",{className:"auth-footer",children:i.jsxs("p",{children:["Already have an account?",i.jsx(Bt,{to:"/login",className:"auth-link",children:" Login"})]})})]})})};function JK(t,e=[]){let n=[];function r(o,a){const l=m.createContext(a);l.displayName=o+"Context";const c=n.length;n=[...n,a];const u=f=>{var _;const{scope:p,children:g,...w}=f,v=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,y=m.useMemo(()=>w,Object.values(w));return i.jsx(v.Provider,{value:y,children:g})};u.displayName=o+"Provider";function h(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[c])||l,w=m.useContext(g);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,ZK(s,...e)]}function ZK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var eY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pR=eY.reduce((t,e)=>{const n=a_(`Primitive.${e}`),r=m.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),f_="Progress",p_=100,[tY,Tae]=JK(f_),[nY,rY]=tY(f_),mR=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=sY,...a}=t;(s||s===0)&&!PC(s)&&console.error(iY(`${s}`,"Progress"));const l=PC(s)?s:p_;r!==null&&!AC(r,l)&&console.error(oY(`${r}`,"Progress"));const c=AC(r,l)?r:null,u=nm(c)?o(c,l):void 0;return i.jsx(nY,{scope:n,value:c,max:l,children:i.jsx(pR.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":nm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":vR(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});mR.displayName=f_;var gR="ProgressIndicator",yR=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=rY(gR,n);return i.jsx(pR.div,{"data-state":vR(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});yR.displayName=gR;function sY(t,e){return`${Math.round(t/e*100)}%`}function vR(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function nm(t){return typeof t=="number"}function PC(t){return nm(t)&&!isNaN(t)&&t>0}function AC(t,e){return nm(t)&&!isNaN(t)&&t<=e&&t>=0}function iY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${p_}\`.`}function oY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${p_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xR=mR,aY=yR;const Kd=m.forwardRef(({className:t,value:e,...n},r)=>i.jsx(xR,{ref:r,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:i.jsx(aY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Kd.displayName=xR.displayName;var lY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cY=lY.reduce((t,e)=>{const n=a_(`Primitive.${e}`),r=m.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),uY="Label",bR=m.forwardRef((t,e)=>i.jsx(cY.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bR.displayName=uY;var wR=bR;const dY=l_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qe=m.forwardRef(({className:t,...e},n)=>i.jsx(wR,{ref:n,className:le(dY(),t),...e}));qe.displayName=wR.displayName;const Gn=m.forwardRef(({className:t,type:e,...n},r)=>i.jsx("input",{type:e,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Gn.displayName="Input";function de(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function hY(t,e){const n=m.createContext(e),r=o=>{const{children:a,...l}=o,c=m.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(o){const a=m.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function wr(t,e=[]){let n=[];function r(o,a){const l=m.createContext(a),c=n.length;n=[...n,a];const u=f=>{var _;const{scope:p,children:g,...w}=f,v=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,y=m.useMemo(()=>w,Object.values(w));return i.jsx(v.Provider,{value:y,children:g})};u.displayName=o+"Provider";function h(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[c])||l,w=m.useContext(g);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,fY(s,...e)]}function fY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function pY(t){const e=mY(t),n=m.forwardRef((r,s)=>{const{children:o,...a}=r,l=m.Children.toArray(o),c=l.find(yY);if(c){const u=c.props.children,h=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function mY(t){const e=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const a=xY(s),l=vY(o,s.props);return s.type!==m.Fragment&&(l.ref=r?fi(r,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gY=Symbol("radix.slottable");function yY(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gY}function vY(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function xY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=bY.reduce((t,e)=>{const n=pY(`Primitive.${e}`),r=m.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _R(t,e){t&&pa.flushSync(()=>t.dispatchEvent(e))}function RC(t){const e=wY(t),n=m.forwardRef((r,s)=>{const{children:o,...a}=r,l=m.Children.toArray(o),c=l.find(NY);if(c){const u=c.props.children,h=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function wY(t){const e=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const a=jY(s),l=SY(o,s.props);return s.type!==m.Fragment&&(l.ref=r?fi(r,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _Y=Symbol("radix.slottable");function NY(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_Y}function SY(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function jY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function m_(t){const e=t+"CollectionProvider",[n,r]=wr(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:y,children:_}=v,N=be.useRef(null),b=be.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:b,collectionRef:N,children:_})};a.displayName=e;const l=t+"CollectionSlot",c=RC(l),u=be.forwardRef((v,y)=>{const{scope:_,children:N}=v,b=o(l,_),j=Fe(y,b.collectionRef);return i.jsx(c,{ref:j,children:N})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=RC(h),g=be.forwardRef((v,y)=>{const{scope:_,children:N,...b}=v,j=be.useRef(null),I=Fe(y,j),O=o(h,_);return be.useEffect(()=>(O.itemMap.set(j,{ref:j,...b}),()=>void O.itemMap.delete(j))),i.jsx(p,{[f]:"",ref:I,children:N})});g.displayName=h;function w(v){const y=o(t+"CollectionConsumer",v);return be.useCallback(()=>{const N=y.collectionRef.current;if(!N)return[];const b=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((O,S)=>b.indexOf(O.ref.current)-b.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},w,r]}var yn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},CY=gm[" useId ".trim().toString()]||(()=>{}),kY=0;function Hr(t){const[e,n]=m.useState(CY());return yn(()=>{n(r=>r??String(kY++))},[t]),e?`radix-${e}`:""}function bs(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var EY=gm[" useInsertionEffect ".trim().toString()]||yn;function ai({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=TY({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=m.useRef(t!==void 0);m.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=m.useCallback(h=>{var f;if(l){const p=IY(h)?h(t):h;p!==t&&((f=a.current)==null||f.call(a,p))}else o(h)},[l,t,o,a]);return[c,u]}function TY({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),o=m.useRef(e);return EY(()=>{o.current=e},[e]),m.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function IY(t){return typeof t=="function"}var PY=m.createContext(void 0);function Yd(t){const e=m.useContext(PY);return t||e||"ltr"}var lv="rovingFocusGroup.onEntryFocus",AY={bubbles:!1,cancelable:!0},Xd="RovingFocusGroup",[lb,NR,RY]=m_(Xd),[OY,lc]=wr(Xd,[RY]),[DY,MY]=OY(Xd),SR=m.forwardRef((t,e)=>i.jsx(lb.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(lb.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(LY,{...t,ref:e})})}));SR.displayName=Xd;var LY=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,p=m.useRef(null),g=Fe(e,p),w=Yd(o),[v,y]=ai({prop:a,defaultProp:l??null,onChange:c,caller:Xd}),[_,N]=m.useState(!1),b=bs(u),j=NR(n),I=m.useRef(!1),[O,S]=m.useState(0);return m.useEffect(()=>{const x=p.current;if(x)return x.addEventListener(lv,b),()=>x.removeEventListener(lv,b)},[b]),i.jsx(DY,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(x=>y(x),[y]),onItemShiftTab:m.useCallback(()=>N(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(x=>x+1),[]),onFocusableItemRemove:m.useCallback(()=>S(x=>x-1),[]),children:i.jsx(Ce.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:de(t.onMouseDown,()=>{I.current=!0}),onFocus:de(t.onFocus,x=>{const E=!I.current;if(x.target===x.currentTarget&&E&&!_){const k=new CustomEvent(lv,AY);if(x.currentTarget.dispatchEvent(k),!k.defaultPrevented){const R=j().filter(z=>z.focusable),P=R.find(z=>z.active),T=R.find(z=>z.id===v),q=[P,T,...R].filter(Boolean).map(z=>z.ref.current);kR(q,h)}}I.current=!1}),onBlur:de(t.onBlur,()=>N(!1))})})}),jR="RovingFocusGroupItem",CR=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...l}=t,c=Hr(),u=o||c,h=MY(jR,n),f=h.currentTabStopId===u,p=NR(n),{onFocusableItemAdd:g,onFocusableItemRemove:w,currentTabStopId:v}=h;return m.useEffect(()=>{if(r)return g(),()=>w()},[r,g,w]),i.jsx(lb.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(Ce.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:de(t.onMouseDown,y=>{r?h.onItemFocus(u):y.preventDefault()}),onFocus:de(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:de(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){h.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=$Y(y,h.orientation,h.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=p().filter(j=>j.focusable).map(j=>j.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const j=b.indexOf(y.currentTarget);b=h.loop?BY(b,j+1):b.slice(j+1)}setTimeout(()=>kR(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});CR.displayName=jR;var FY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $Y(t,e,n){const r=UY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FY[r]}function kR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function BY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var g_=SR,y_=CR;function v_(t){const[e,n]=m.useState(void 0);return yn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function x_(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function zY(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var _r=t=>{const{present:e,children:n}=t,r=VY(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Fe(r.ref,qY(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};_r.displayName="Presence";function VY(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),o=m.useRef("none"),a=t?"mounted":"unmounted",[l,c]=zY(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Zh(r.current);o.current=l==="mounted"?u:"none"},[l]),yn(()=>{const u=r.current,h=s.current;if(h!==t){const p=o.current,g=Zh(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),yn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const v=Zh(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=g=>{g.target===e&&(o.current=Zh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Zh(t){return(t==null?void 0:t.animationName)||"none"}function qY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var b_="Radio",[WY,ER]=wr(b_),[HY,GY]=WY(b_),TR=m.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:a,value:l="on",onCheck:c,form:u,...h}=t,[f,p]=m.useState(null),g=Fe(e,y=>p(y)),w=m.useRef(!1),v=f?u||!!f.closest("form"):!0;return i.jsxs(HY,{scope:n,checked:s,disabled:a,children:[i.jsx(Ce.button,{type:"button",role:"radio","aria-checked":s,"data-state":RR(s),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onClick:de(t.onClick,y=>{s||c==null||c(),v&&(w.current=y.isPropagationStopped(),w.current||y.stopPropagation())})}),v&&i.jsx(AR,{control:f,bubbles:!w.current,name:r,value:l,checked:s,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});TR.displayName=b_;var IR="RadioIndicator",PR=m.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,o=GY(IR,n);return i.jsx(_r,{present:r||o.checked,children:i.jsx(Ce.span,{"data-state":RR(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})})});PR.displayName=IR;var QY="RadioBubbleInput",AR=m.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const a=m.useRef(null),l=Fe(a,o),c=x_(n),u=v_(e);return m.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const w=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(w)}},[c,n,r]),i.jsx(Ce.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AR.displayName=QY;function RR(t){return t?"checked":"unchecked"}var KY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hg="RadioGroup",[YY,Iae]=wr(hg,[lc,ER]),OR=lc(),DR=ER(),[XY,JY]=YY(hg),MR=m.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:f,...p}=t,g=OR(n),w=Yd(u),[v,y]=ai({prop:o,defaultProp:s??null,onChange:f,caller:hg});return i.jsx(XY,{scope:n,name:r,required:a,disabled:l,value:v,onValueChange:y,children:i.jsx(g_,{asChild:!0,...g,orientation:c,dir:w,loop:h,children:i.jsx(Ce.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...p,ref:e})})})});MR.displayName=hg;var LR="RadioGroupItem",FR=m.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,o=JY(LR,n),a=o.disabled||r,l=OR(n),c=DR(n),u=m.useRef(null),h=Fe(e,u),f=o.value===s.value,p=m.useRef(!1);return m.useEffect(()=>{const g=v=>{KY.includes(v.key)&&(p.current=!0)},w=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",w)}},[]),i.jsx(y_,{asChild:!0,...l,focusable:!a,active:f,children:i.jsx(TR,{disabled:a,required:o.required,checked:f,...c,...s,name:o.name,ref:h,onCheck:()=>o.onValueChange(s.value),onKeyDown:de(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:de(s.onFocus,()=>{var g;p.current&&((g=u.current)==null||g.click())})})})});FR.displayName=LR;var ZY="RadioGroupIndicator",UR=m.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=DR(n);return i.jsx(PR,{...s,...r,ref:e})});UR.displayName=ZY;var $R=MR,BR=FR,eX=UR;const $a=m.forwardRef(({className:t,...e},n)=>i.jsx($R,{className:le("grid gap-2",t),...e,ref:n}));$a.displayName=$R.displayName;const Ba=m.forwardRef(({className:t,...e},n)=>i.jsx(BR,{ref:n,className:le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(eX,{className:"flex items-center justify-center",children:i.jsx(c_,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ba.displayName=BR.displayName;function OC(t,[e,n]){return Math.min(n,Math.max(e,t))}function tX(t,e=globalThis==null?void 0:globalThis.document){const n=bs(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var nX="DismissableLayer",cb="dismissableLayer.update",rX="dismissableLayer.pointerDownOutside",sX="dismissableLayer.focusOutside",DC,zR=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(zR),[h,f]=m.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Fe(e,S=>f(S)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(y),N=h?v.indexOf(h):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=N>=_,I=aX(S=>{const x=S.target,E=[...u.branches].some(k=>k.contains(x));!j||E||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},p),O=lX(S=>{const x=S.target;[...u.branches].some(k=>k.contains(x))||(o==null||o(S),a==null||a(S),S.defaultPrevented||l==null||l())},p);return tX(S=>{N===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),m.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),MC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=DC)}},[h,p,n,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),MC())},[h,u]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(cb,S),()=>document.removeEventListener(cb,S)},[]),i.jsx(Ce.div,{...c,ref:w,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:de(t.onFocusCapture,O.onFocusCapture),onBlurCapture:de(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:de(t.onPointerDownCapture,I.onPointerDownCapture)})});Jd.displayName=nX;var iX="DismissableLayerBranch",oX=m.forwardRef((t,e)=>{const n=m.useContext(zR),r=m.useRef(null),s=Fe(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Ce.div,{...t,ref:s})});oX.displayName=iX;function aX(t,e=globalThis==null?void 0:globalThis.document){const n=bs(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){VR(rX,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lX(t,e=globalThis==null?void 0:globalThis.document){const n=bs(t),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&VR(sX,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function MC(){const t=new CustomEvent(cb);document.dispatchEvent(t)}function VR(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_R(s,o):s.dispatchEvent(o)}var cv=0;function w_(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??LC()),document.body.insertAdjacentElement("beforeend",t[1]??LC()),cv++,()=>{cv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cv--}},[])}function LC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uv="focusScope.autoFocusOnMount",dv="focusScope.autoFocusOnUnmount",FC={bubbles:!1,cancelable:!0},cX="FocusScope",fg=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[l,c]=m.useState(null),u=bs(s),h=bs(o),f=m.useRef(null),p=Fe(e,v=>c(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:wi(f.current,{select:!0})},y=function(b){if(g.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||wi(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const I of b)I.removedNodes.length>0&&wi(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const N=new MutationObserver(_);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),N.disconnect()}}},[r,l,g.paused]),m.useEffect(()=>{if(l){$C.add(g);const v=document.activeElement;if(!l.contains(v)){const _=new CustomEvent(uv,FC);l.addEventListener(uv,u),l.dispatchEvent(_),_.defaultPrevented||(uX(mX(qR(l)),{select:!0}),document.activeElement===v&&wi(l))}return()=>{l.removeEventListener(uv,u),setTimeout(()=>{const _=new CustomEvent(dv,FC);l.addEventListener(dv,h),l.dispatchEvent(_),_.defaultPrevented||wi(v??document.body,{select:!0}),l.removeEventListener(dv,h),$C.remove(g)},0)}}},[l,u,h,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(y&&_){const N=v.currentTarget,[b,j]=dX(N);b&&j?!v.shiftKey&&_===j?(v.preventDefault(),n&&wi(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&wi(j,{select:!0})):_===N&&v.preventDefault()}},[n,r,g.paused]);return i.jsx(Ce.div,{tabIndex:-1,...a,ref:p,onKeyDown:w})});fg.displayName=cX;function uX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wi(r,{select:e}),document.activeElement!==n)return}function dX(t){const e=qR(t),n=UC(e,t),r=UC(e.reverse(),t);return[n,r]}function qR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function UC(t,e){for(const n of t)if(!hX(n,{upTo:e}))return n}function hX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function fX(t){return t instanceof HTMLInputElement&&"select"in t}function wi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&fX(t)&&e&&t.select()}}var $C=pX();function pX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=BC(t,e),t.unshift(e)},remove(e){var n;t=BC(t,e),(n=t[0])==null||n.resume()}}}function BC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function mX(t){return t.filter(e=>e.tagName!=="A")}const gX=["top","right","bottom","left"],no=Math.min,Qn=Math.max,rm=Math.round,ef=Math.floor,ys=t=>({x:t,y:t}),yX={left:"right",right:"left",bottom:"top",top:"bottom"},vX={start:"end",end:"start"};function ub(t,e,n){return Qn(t,no(e,n))}function li(t,e){return typeof t=="function"?t(e):t}function ci(t){return t.split("-")[0]}function cc(t){return t.split("-")[1]}function __(t){return t==="x"?"y":"x"}function N_(t){return t==="y"?"height":"width"}const xX=new Set(["top","bottom"]);function ds(t){return xX.has(ci(t))?"y":"x"}function S_(t){return __(ds(t))}function bX(t,e,n){n===void 0&&(n=!1);const r=cc(t),s=S_(t),o=N_(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=sm(a)),[a,sm(a)]}function wX(t){const e=sm(t);return[db(t),e,db(e)]}function db(t){return t.replace(/start|end/g,e=>vX[e])}const zC=["left","right"],VC=["right","left"],_X=["top","bottom"],NX=["bottom","top"];function SX(t,e,n){switch(t){case"top":case"bottom":return n?e?VC:zC:e?zC:VC;case"left":case"right":return e?_X:NX;default:return[]}}function jX(t,e,n,r){const s=cc(t);let o=SX(ci(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(db)))),o}function sm(t){return t.replace(/left|right|bottom|top/g,e=>yX[e])}function CX(t){return{top:0,right:0,bottom:0,left:0,...t}}function WR(t){return typeof t!="number"?CX(t):{top:t,right:t,bottom:t,left:t}}function im(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function qC(t,e,n){let{reference:r,floating:s}=t;const o=ds(e),a=S_(e),l=N_(a),c=ci(e),u=o==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(cc(e)){case"start":g[a]-=p*(n&&u?-1:1);break;case"end":g[a]+=p*(n&&u?-1:1);break}return g}const kX=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=qC(u,r,c),p=r,g={},w=0;for(let v=0;v<l.length;v++){const{name:y,fn:_}=l[v],{x:N,y:b,data:j,reset:I}=await _({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});h=N??h,f=b??f,g={...g,[y]:{...g[y],...j}},I&&w<=50&&(w++,typeof I=="object"&&(I.placement&&(p=I.placement),I.rects&&(u=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:h,y:f}=qC(u,p,c)),v=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}};async function gd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=li(e,t),w=WR(g),y=l[p?f==="floating"?"reference":"floating":f],_=im(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),N=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},I=im(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:b,strategy:c}):N);return{top:(_.top-I.top+w.top)/j.y,bottom:(I.bottom-_.bottom+w.bottom)/j.y,left:(_.left-I.left+w.left)/j.x,right:(I.right-_.right+w.right)/j.x}}const EX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=li(t,e)||{};if(u==null)return{};const f=WR(h),p={x:n,y:r},g=S_(s),w=N_(g),v=await a.getDimensions(u),y=g==="y",_=y?"top":"left",N=y?"bottom":"right",b=y?"clientHeight":"clientWidth",j=o.reference[w]+o.reference[g]-p[g]-o.floating[w],I=p[g]-o.reference[g],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=O?O[b]:0;(!S||!await(a.isElement==null?void 0:a.isElement(O)))&&(S=l.floating[b]||o.floating[w]);const x=j/2-I/2,E=S/2-v[w]/2-1,k=no(f[_],E),R=no(f[N],E),P=k,T=S-v[w]-R,L=S/2-v[w]/2+x,q=ub(P,L,T),z=!c.arrow&&cc(s)!=null&&L!==q&&o.reference[w]/2-(L<P?k:R)-v[w]/2<0,B=z?L<P?L-P:L-T:0;return{[g]:p[g]+B,data:{[g]:q,centerOffset:L-q-B,...z&&{alignmentOffset:B}},reset:z}}}),TX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...y}=li(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=ci(s),N=ds(l),b=ci(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),I=p||(b||!v?[sm(l)]:wX(l)),O=w!=="none";!p&&O&&I.push(...jX(l,v,w,j));const S=[l,...I],x=await gd(e,y),E=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&E.push(x[_]),f){const L=bX(s,a,j);E.push(x[L[0]],x[L[1]])}if(k=[...k,{placement:s,overflows:E}],!E.every(L=>L<=0)){var R,P;const L=(((R=o.flip)==null?void 0:R.index)||0)+1,q=S[L];if(q&&(!(f==="alignment"?N!==ds(q):!1)||k.every(D=>ds(D.placement)===N?D.overflows[0]>0:!0)))return{data:{index:L,overflows:k},reset:{placement:q}};let z=(P=k.filter(B=>B.overflows[0]<=0).sort((B,D)=>B.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!z)switch(g){case"bestFit":{var T;const B=(T=k.filter(D=>{if(O){const F=ds(D.placement);return F===N||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,W)=>F+W,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:T[0];B&&(z=B);break}case"initialPlacement":z=l;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function WC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HC(t){return gX.some(e=>t[e]>=0)}const IX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=li(t,e);switch(r){case"referenceHidden":{const o=await gd(e,{...s,elementContext:"reference"}),a=WC(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:HC(a)}}}case"escaped":{const o=await gd(e,{...s,altBoundary:!0}),a=WC(o,n.floating);return{data:{escapedOffsets:a,escaped:HC(a)}}}default:return{}}}}},HR=new Set(["left","top"]);async function PX(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ci(n),l=cc(n),c=ds(n)==="y",u=HR.has(a)?-1:1,h=o&&c?-1:1,f=li(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(g=l==="end"?w*-1:w),c?{x:g*h,y:p*u}:{x:p*u,y:g*h}}const AX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=e,c=await PX(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},RX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:_,y:N}=y;return{x:_,y:N}}},...c}=li(t,e),u={x:n,y:r},h=await gd(e,c),f=ds(ci(s)),p=__(f);let g=u[p],w=u[f];if(o){const y=p==="y"?"top":"left",_=p==="y"?"bottom":"right",N=g+h[y],b=g-h[_];g=ub(N,g,b)}if(a){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",N=w+h[y],b=w-h[_];w=ub(N,w,b)}const v=l.fn({...e,[p]:g,[f]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:o,[f]:a}}}}}},OX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=li(t,e),h={x:n,y:r},f=ds(s),p=__(f);let g=h[p],w=h[f];const v=li(l,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=p==="y"?"height":"width",j=o.reference[p]-o.floating[b]+y.mainAxis,I=o.reference[p]+o.reference[b]-y.mainAxis;g<j?g=j:g>I&&(g=I)}if(u){var _,N;const b=p==="y"?"width":"height",j=HR.has(ci(s)),I=o.reference[f]-o.floating[b]+(j&&((_=a.offset)==null?void 0:_[f])||0)+(j?0:y.crossAxis),O=o.reference[f]+o.reference[b]+(j?0:((N=a.offset)==null?void 0:N[f])||0)-(j?y.crossAxis:0);w<I?w=I:w>O&&(w=O)}return{[p]:g,[f]:w}}}},DX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:l}=e,{apply:c=()=>{},...u}=li(t,e),h=await gd(e,u),f=ci(s),p=cc(s),g=ds(s)==="y",{width:w,height:v}=o.floating;let y,_;f==="top"||f==="bottom"?(y=f,_=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,y=p==="end"?"top":"bottom");const N=v-h.top-h.bottom,b=w-h.left-h.right,j=no(v-h[y],N),I=no(w-h[_],b),O=!e.middlewareData.shift;let S=j,x=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=N),O&&!p){const k=Qn(h.left,0),R=Qn(h.right,0),P=Qn(h.top,0),T=Qn(h.bottom,0);g?x=w-2*(k!==0||R!==0?k+R:Qn(h.left,h.right)):S=v-2*(P!==0||T!==0?P+T:Qn(h.top,h.bottom))}await c({...e,availableWidth:x,availableHeight:S});const E=await a.getDimensions(l.floating);return w!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function pg(){return typeof window<"u"}function uc(t){return GR(t)?(t.nodeName||"").toLowerCase():"#document"}function Jn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ks(t){var e;return(e=(GR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GR(t){return pg()?t instanceof Node||t instanceof Jn(t).Node:!1}function Yr(t){return pg()?t instanceof Element||t instanceof Jn(t).Element:!1}function ws(t){return pg()?t instanceof HTMLElement||t instanceof Jn(t).HTMLElement:!1}function GC(t){return!pg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jn(t).ShadowRoot}const MX=new Set(["inline","contents"]);function Zd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Xr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!MX.has(s)}const LX=new Set(["table","td","th"]);function FX(t){return LX.has(uc(t))}const UX=[":popover-open",":modal"];function mg(t){return UX.some(e=>{try{return t.matches(e)}catch{return!1}})}const $X=["transform","translate","scale","rotate","perspective"],BX=["transform","translate","scale","rotate","perspective","filter"],zX=["paint","layout","strict","content"];function j_(t){const e=C_(),n=Yr(t)?Xr(t):t;return $X.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||BX.some(r=>(n.willChange||"").includes(r))||zX.some(r=>(n.contain||"").includes(r))}function VX(t){let e=ro(t);for(;ws(e)&&!Vl(e);){if(j_(e))return e;if(mg(e))return null;e=ro(e)}return null}function C_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qX=new Set(["html","body","#document"]);function Vl(t){return qX.has(uc(t))}function Xr(t){return Jn(t).getComputedStyle(t)}function gg(t){return Yr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ro(t){if(uc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||GC(t)&&t.host||ks(t);return GC(e)?e.host:e}function QR(t){const e=ro(t);return Vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ws(e)&&Zd(e)?e:QR(e)}function yd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=QR(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=Jn(s);if(o){const l=hb(a);return e.concat(a,a.visualViewport||[],Zd(s)?s:[],l&&n?yd(l):[])}return e.concat(s,yd(s,[],n))}function hb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KR(t){const e=Xr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ws(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=rm(n)!==o||rm(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function k_(t){return Yr(t)?t:t.contextElement}function xl(t){const e=k_(t);if(!ws(e))return ys(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=KR(e);let a=(o?rm(n.width):n.width)/r,l=(o?rm(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const WX=ys(0);function YR(t){const e=Jn(t);return!C_()||!e.visualViewport?WX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jn(t)?!1:e}function la(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=k_(t);let a=ys(1);e&&(r?Yr(r)&&(a=xl(r)):a=xl(t));const l=HX(o,n,r)?YR(o):ys(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(o){const p=Jn(o),g=r&&Yr(r)?Jn(r):r;let w=p,v=hb(w);for(;v&&r&&g!==w;){const y=xl(v),_=v.getBoundingClientRect(),N=Xr(v),b=_.left+(v.clientLeft+parseFloat(N.paddingLeft))*y.x,j=_.top+(v.clientTop+parseFloat(N.paddingTop))*y.y;c*=y.x,u*=y.y,h*=y.x,f*=y.y,c+=b,u+=j,w=Jn(v),v=hb(w)}}return im({width:h,height:f,x:c,y:u})}function yg(t,e){const n=gg(t).scrollLeft;return e?e.left+n:la(ks(t)).left+n}function XR(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-yg(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function GX(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=ks(r),l=e?mg(e.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=ys(1);const h=ys(0),f=ws(r);if((f||!f&&!o)&&((uc(r)!=="body"||Zd(a))&&(c=gg(r)),ws(r))){const g=la(r);u=xl(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=a&&!f&&!o?XR(a,c):ys(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-c.scrollTop*u.y+h.y+p.y}}function QX(t){return Array.from(t.getClientRects())}function KX(t){const e=ks(t),n=gg(t),r=t.ownerDocument.body,s=Qn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Qn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+yg(t);const l=-n.scrollTop;return Xr(r).direction==="rtl"&&(a+=Qn(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}const QC=25;function YX(t,e){const n=Jn(t),r=ks(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const h=C_();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=yg(r);if(u<=0){const h=r.ownerDocument,f=h.body,p=getComputedStyle(f),g=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(r.clientWidth-f.clientWidth-g);w<=QC&&(o-=w)}else u<=QC&&(o+=u);return{width:o,height:a,x:l,y:c}}const XX=new Set(["absolute","fixed"]);function JX(t,e){const n=la(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=ws(t)?xl(t):ys(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function KC(t,e,n){let r;if(e==="viewport")r=YX(t,n);else if(e==="document")r=KX(ks(t));else if(Yr(e))r=JX(e,n);else{const s=YR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return im(r)}function JR(t,e){const n=ro(t);return n===e||!Yr(n)||Vl(n)?!1:Xr(n).position==="fixed"||JR(n,e)}function ZX(t,e){const n=e.get(t);if(n)return n;let r=yd(t,[],!1).filter(l=>Yr(l)&&uc(l)!=="body"),s=null;const o=Xr(t).position==="fixed";let a=o?ro(t):t;for(;Yr(a)&&!Vl(a);){const l=Xr(a),c=j_(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&XX.has(s.position)||Zd(a)&&!c&&JR(t,a))?r=r.filter(h=>h!==a):s=l,a=ro(a)}return e.set(t,r),r}function eJ(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?mg(e)?[]:ZX(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const f=KC(e,h,s);return u.top=Qn(f.top,u.top),u.right=no(f.right,u.right),u.bottom=no(f.bottom,u.bottom),u.left=Qn(f.left,u.left),u},KC(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tJ(t){const{width:e,height:n}=KR(t);return{width:e,height:n}}function nJ(t,e,n){const r=ws(e),s=ks(e),o=n==="fixed",a=la(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=ys(0);function u(){c.x=yg(s)}if(r||!r&&!o)if((uc(e)!=="body"||Zd(s))&&(l=gg(e)),r){const g=la(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();o&&!r&&s&&u();const h=s&&!r&&!o?XR(s,l):ys(0),f=a.left+l.scrollLeft-c.x-h.x,p=a.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:a.width,height:a.height}}function hv(t){return Xr(t).position==="static"}function YC(t,e){if(!ws(t)||Xr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ks(t)===n&&(n=n.ownerDocument.body),n}function ZR(t,e){const n=Jn(t);if(mg(t))return n;if(!ws(t)){let s=ro(t);for(;s&&!Vl(s);){if(Yr(s)&&!hv(s))return s;s=ro(s)}return n}let r=YC(t,e);for(;r&&FX(r)&&hv(r);)r=YC(r,e);return r&&Vl(r)&&hv(r)&&!j_(r)?n:r||VX(t)||n}const rJ=async function(t){const e=this.getOffsetParent||ZR,n=this.getDimensions,r=await n(t.floating);return{reference:nJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function sJ(t){return Xr(t).direction==="rtl"}const iJ={convertOffsetParentRelativeRectToViewportRelativeRect:GX,getDocumentElement:ks,getClippingRect:eJ,getOffsetParent:ZR,getElementRects:rJ,getClientRects:QX,getDimensions:tJ,getScale:xl,isElement:Yr,isRTL:sJ};function eO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oJ(t,e){let n=null,r;const s=ks(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=u;if(l||e(),!p||!g)return;const w=ef(f),v=ef(s.clientWidth-(h+p)),y=ef(s.clientHeight-(f+g)),_=ef(h),b={rootMargin:-w+"px "+-v+"px "+-y+"px "+-_+"px",threshold:Qn(0,no(1,c))||1};let j=!0;function I(O){const S=O[0].intersectionRatio;if(S!==c){if(!j)return a();S?a(!1,S):r=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!eO(u,t.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(I,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,b)}n.observe(t)}return a(!0),o}function tO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=k_(t),h=s||o?[...u?yd(u):[],...yd(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=u&&l?oJ(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(_=>{let[N]=_;N&&N.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let w,v=c?la(t):null;c&&y();function y(){const _=la(t);v&&!eO(v,_)&&n(),v=_,w=requestAnimationFrame(y)}return n(),()=>{var _;h.forEach(N=>{s&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(w)}}const nO=AX,rO=RX,sO=TX,aJ=DX,lJ=IX,fb=EX,cJ=OX,pb=(t,e,n)=>{const r=new Map,s={platform:iJ,...n},o={...s.platform,_c:r};return kX(t,e,{...s,platform:o})};var uJ=typeof document<"u",dJ=function(){},Vf=uJ?m.useLayoutEffect:dJ;function om(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!om(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!om(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function iO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function XC(t,e){const n=iO(t);return Math.round(e*n)/n}function fv(t){const e=m.useRef(t);return Vf(()=>{e.current=t}),e}function hJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);om(p,r)||g(r);const[w,v]=m.useState(null),[y,_]=m.useState(null),N=m.useCallback(D=>{D!==O.current&&(O.current=D,v(D))},[]),b=m.useCallback(D=>{D!==S.current&&(S.current=D,_(D))},[]),j=o||w,I=a||y,O=m.useRef(null),S=m.useRef(null),x=m.useRef(h),E=c!=null,k=fv(c),R=fv(s),P=fv(u),T=m.useCallback(()=>{if(!O.current||!S.current)return;const D={placement:e,strategy:n,middleware:p};R.current&&(D.platform=R.current),pb(O.current,S.current,D).then(F=>{const W={...F,isPositioned:P.current!==!1};L.current&&!om(x.current,W)&&(x.current=W,pa.flushSync(()=>{f(W)}))})},[p,e,n,R,P]);Vf(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const L=m.useRef(!1);Vf(()=>(L.current=!0,()=>{L.current=!1}),[]),Vf(()=>{if(j&&(O.current=j),I&&(S.current=I),j&&I){if(k.current)return k.current(j,I,T);T()}},[j,I,T,k,E]);const q=m.useMemo(()=>({reference:O,floating:S,setReference:N,setFloating:b}),[N,b]),z=m.useMemo(()=>({reference:j,floating:I}),[j,I]),B=m.useMemo(()=>{const D={position:n,left:0,top:0};if(!z.floating)return D;const F=XC(z.floating,h.x),W=XC(z.floating,h.y);return l?{...D,transform:"translate("+F+"px, "+W+"px)",...iO(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,l,z.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:T,refs:q,elements:z,floatingStyles:B}),[h,T,q,z,B])}const fJ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fb({element:r.current,padding:s}).fn(n):{}:r?fb({element:r,padding:s}).fn(n):{}}}},pJ=(t,e)=>({...nO(t),options:[t,e]}),mJ=(t,e)=>({...rO(t),options:[t,e]}),gJ=(t,e)=>({...cJ(t),options:[t,e]}),yJ=(t,e)=>({...sO(t),options:[t,e]}),vJ=(t,e)=>({...aJ(t),options:[t,e]}),xJ=(t,e)=>({...lJ(t),options:[t,e]}),bJ=(t,e)=>({...fJ(t),options:[t,e]});var wJ="Arrow",oO=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return i.jsx(Ce.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});oO.displayName=wJ;var _J=oO,E_="Popper",[aO,dc]=wr(E_),[NJ,lO]=aO(E_),cO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return i.jsx(NJ,{scope:e,anchor:r,onAnchorChange:s,children:n})};cO.displayName=E_;var uO="PopperAnchor",dO=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=lO(uO,n),a=m.useRef(null),l=Fe(e,a),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:i.jsx(Ce.div,{...s,ref:l})});dO.displayName=uO;var T_="PopperContent",[SJ,jJ]=aO(T_),hO=m.forwardRef((t,e)=>{var U,J,Q,ee,re,ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,y=lO(T_,n),[_,N]=m.useState(null),b=Fe(e,ye=>N(ye)),[j,I]=m.useState(null),O=v_(j),S=(O==null?void 0:O.width)??0,x=(O==null?void 0:O.height)??0,E=r+(o!=="center"?"-"+o:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(u)?u:[u],P=R.length>0,T={padding:k,boundary:R.filter(kJ),altBoundary:P},{refs:L,floatingStyles:q,placement:z,isPositioned:B,middlewareData:D}=hJ({strategy:"fixed",placement:E,whileElementsMounted:(...ye)=>tO(...ye,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[pJ({mainAxis:s+x,alignmentAxis:a}),c&&mJ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?gJ():void 0,...T}),c&&yJ({...T}),vJ({...T,apply:({elements:ye,rects:fe,availableWidth:ze,availableHeight:se})=>{const{width:we,height:_e}=fe.reference,Qe=ye.floating.style;Qe.setProperty("--radix-popper-available-width",`${ze}px`),Qe.setProperty("--radix-popper-available-height",`${se}px`),Qe.setProperty("--radix-popper-anchor-width",`${we}px`),Qe.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),j&&bJ({element:j,padding:l}),EJ({arrowWidth:S,arrowHeight:x}),p&&xJ({strategy:"referenceHidden",...T})]}),[F,W]=mO(z),X=bs(w);yn(()=>{B&&(X==null||X())},[B,X]);const Z=(U=D.arrow)==null?void 0:U.x,$=(J=D.arrow)==null?void 0:J.y,K=((Q=D.arrow)==null?void 0:Q.centerOffset)!==0,[V,H]=m.useState();return yn(()=>{_&&H(window.getComputedStyle(_).zIndex)},[_]),i.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:B?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(ee=D.transformOrigin)==null?void 0:ee.x,(re=D.transformOrigin)==null?void 0:re.y].join(" "),...((ne=D.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(SJ,{scope:n,placedSide:F,onArrowChange:I,arrowX:Z,arrowY:$,shouldHideArrow:K,children:i.jsx(Ce.div,{"data-side":F,"data-align":W,...v,ref:b,style:{...v.style,animation:B?void 0:"none"}})})})});hO.displayName=T_;var fO="PopperArrow",CJ={top:"bottom",right:"left",bottom:"top",left:"right"},pO=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=jJ(fO,r),a=CJ[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(_J,{...s,ref:n,style:{...s.style,display:"block"}})})});pO.displayName=fO;function kJ(t){return t!==null}var EJ=t=>({name:"transformOrigin",options:t,fn(e){var y,_,N;const{placement:n,rects:r,middlewareData:s}=e,a=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=mO(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,g=(((N=s.arrow)==null?void 0:N.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=a?f:`${p}px`,v=`${-c}px`):u==="top"?(w=a?f:`${p}px`,v=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=a?f:`${g}px`):u==="left"&&(w=`${r.floating.width+c}px`,v=a?f:`${g}px`),{data:{x:w,y:v}}}});function mO(t){const[e,n="center"]=t.split("-");return[e,n]}var I_=cO,P_=dO,A_=hO,R_=pO,TJ="Portal",vg=m.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=m.useState(!1);yn(()=>o(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?b5.createPortal(i.jsx(Ce.div,{...r,ref:e}),a):null});vg.displayName=TJ;function IJ(t){const e=PJ(t),n=m.forwardRef((r,s)=>{const{children:o,...a}=r,l=m.Children.toArray(o),c=l.find(RJ);if(c){const u=c.props.children,h=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function PJ(t){const e=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const a=DJ(s),l=OJ(o,s.props);return s.type!==m.Fragment&&(l.ref=r?fi(r,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AJ=Symbol("radix.slottable");function RJ(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AJ}function OJ(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function DJ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MJ="VisuallyHidden",yO=m.forwardRef((t,e)=>i.jsx(Ce.span,{...t,ref:e,style:{...gO,...t.style}}));yO.displayName=MJ;var LJ=yO,FJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ra=new WeakMap,tf=new WeakMap,nf={},pv=0,vO=function(t){return t&&(t.host||vO(t.parentNode))},UJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$J=function(t,e,n,r){var s=UJ(e,Array.isArray(t)?t:[t]);nf[n]||(nf[n]=new WeakMap);var o=nf[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(Ra.get(p)||0)+1,y=(o.get(p)||0)+1;Ra.set(p,v),o.set(p,y),a.push(p),v===1&&w&&tf.set(p,!0),y===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return h(e),l.clear(),pv++,function(){a.forEach(function(f){var p=Ra.get(f)-1,g=o.get(f)-1;Ra.set(f,p),o.set(f,g),p||(tf.has(f)||f.removeAttribute(r),tf.delete(f)),g||f.removeAttribute(n)}),pv--,pv||(Ra=new WeakMap,Ra=new WeakMap,tf=new WeakMap,nf={})}},O_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=FJ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),$J(r,s,n,"aria-hidden")):function(){return null}},cs=function(){return cs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},cs.apply(this,arguments)};function xO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function BJ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var qf="right-scroll-bar-position",Wf="width-before-scroll-bar",zJ="with-scroll-bars-hidden",VJ="--removed-body-scroll-bar-size";function mv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qJ(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var WJ=typeof window<"u"?m.useLayoutEffect:m.useEffect,JC=new WeakMap;function HJ(t,e){var n=qJ(null,function(r){return t.forEach(function(s){return mv(s,r)})});return WJ(function(){var r=JC.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(l){o.has(l)||mv(l,null)}),o.forEach(function(l){s.has(l)||mv(l,a)})}JC.set(n,t)},[t]),n}function GJ(t){return t}function QJ(t,e){e===void 0&&(e=GJ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var h=a;a=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function KJ(t){t===void 0&&(t={});var e=QJ(null);return e.options=cs({async:!0,ssr:!1},t),e}var bO=function(t){var e=t.sideCar,n=xO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,cs({},n))};bO.isSideCarExport=!0;function YJ(t,e){return t.useMedium(e),bO}var wO=KJ(),gv=function(){},xg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:gv,onWheelCapture:gv,onTouchMoveCapture:gv}),s=r[0],o=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,w=t.noIsolation,v=t.inert,y=t.allowPinchZoom,_=t.as,N=_===void 0?"div":_,b=t.gapMode,j=xO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=p,O=HJ([n,e]),S=cs(cs({},j),s);return m.createElement(m.Fragment,null,h&&m.createElement(I,{sideCar:wO,removeScrollBar:u,shards:f,noRelative:g,noIsolation:w,inert:v,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:b}),a?m.cloneElement(m.Children.only(l),cs(cs({},S),{ref:O})):m.createElement(N,cs({},S,{className:c,ref:O}),l))});xg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xg.classNames={fullWidth:Wf,zeroRight:qf};var XJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=XJ();return e&&t.setAttribute("nonce",e),t}function ZJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=JJ())&&(ZJ(e,n),eZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nZ=function(){var t=tZ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_O=function(){var t=nZ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},rZ={left:0,top:0,right:0,gap:0},yv=function(t){return parseInt(t||"",10)||0},sZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[yv(n),yv(r),yv(s)]},iZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return rZ;var e=sZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},oZ=_O(),bl="data-scroll-locked",aZ=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(zJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Wf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qf," .").concat(qf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wf," .").concat(Wf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(VJ,": ").concat(l,`px;
  }
`)},ZC=function(){var t=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(t)?t:0},lZ=function(){m.useEffect(function(){return document.body.setAttribute(bl,(ZC()+1).toString()),function(){var t=ZC()-1;t<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,t.toString())}},[])},cZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;lZ();var o=m.useMemo(function(){return iZ(s)},[s]);return m.createElement(oZ,{styles:aZ(o,!e,s,n?"":"!important")})},mb=!1;if(typeof window<"u")try{var rf=Object.defineProperty({},"passive",{get:function(){return mb=!0,!0}});window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{mb=!1}var Oa=mb?{passive:!1}:!1,uZ=function(t){return t.tagName==="TEXTAREA"},NO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uZ(t)&&n[e]==="visible")},dZ=function(t){return NO(t,"overflowY")},hZ=function(t){return NO(t,"overflowX")},ek=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=SO(t,r);if(s){var o=jO(t,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},SO=function(t,e){return t==="v"?dZ(e):hZ(e)},jO=function(t,e){return t==="v"?fZ(e):pZ(e)},mZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},gZ=function(t,e,n,r,s){var o=mZ(t,window.getComputedStyle(e).direction),a=o*r,l=n.target,c=e.contains(l),u=!1,h=a>0,f=0,p=0;do{if(!l)break;var g=jO(t,l),w=g[0],v=g[1],y=g[2],_=v-y-o*w;(w||_)&&SO(t,l)&&(f+=_,p+=w);var N=l.parentNode;l=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(u=!0),u},sf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tk=function(t){return[t.deltaX,t.deltaY]},nk=function(t){return t&&"current"in t?t.current:t},yZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},vZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xZ=0,Da=[];function bZ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(xZ++)[0],o=m.useState(_O)[0],a=m.useRef(t);m.useEffect(function(){a.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=BJ([t.lockRef.current],(t.shards||[]).map(nk),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var _=sf(v),N=n.current,b="deltaX"in v?v.deltaX:N[0]-_[0],j="deltaY"in v?v.deltaY:N[1]-_[1],I,O=v.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in v&&S==="h"&&O.type==="range")return!1;var x=window.getSelection(),E=x&&x.anchorNode,k=E?E===O||E.contains(O):!1;if(k)return!1;var R=ek(S,O);if(!R)return!0;if(R?I=S:(I=S==="v"?"h":"v",R=ek(S,O)),!R)return!1;if(!r.current&&"changedTouches"in v&&(b||j)&&(r.current=I),!I)return!0;var P=r.current||I;return gZ(P,y,v,P==="h"?b:j)},[]),c=m.useCallback(function(v){var y=v;if(!(!Da.length||Da[Da.length-1]!==o)){var _="deltaY"in y?tk(y):sf(y),N=e.current.filter(function(I){return I.name===y.type&&(I.target===y.target||y.target===I.shadowParent)&&yZ(I.delta,_)})[0];if(N&&N.should){y.cancelable&&y.preventDefault();return}if(!N){var b=(a.current.shards||[]).map(nk).filter(Boolean).filter(function(I){return I.contains(y.target)}),j=b.length>0?l(y,b[0]):!a.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(v,y,_,N){var b={name:v,delta:y,target:_,should:N,shadowParent:wZ(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),h=m.useCallback(function(v){n.current=sf(v),r.current=void 0},[]),f=m.useCallback(function(v){u(v.type,tk(v),v.target,l(v,t.lockRef.current))},[]),p=m.useCallback(function(v){u(v.type,sf(v),v.target,l(v,t.lockRef.current))},[]);m.useEffect(function(){return Da.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Oa),document.addEventListener("touchmove",c,Oa),document.addEventListener("touchstart",h,Oa),function(){Da=Da.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Oa),document.removeEventListener("touchmove",c,Oa),document.removeEventListener("touchstart",h,Oa)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:vZ(s)}):null,g?m.createElement(cZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function wZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _Z=YJ(wO,bZ);var bg=m.forwardRef(function(t,e){return m.createElement(xg,cs({},t,{ref:e,sideCar:_Z}))});bg.classNames=xg.classNames;var NZ=[" ","Enter","ArrowUp","ArrowDown"],SZ=[" ","Enter"],ca="Select",[wg,_g,jZ]=m_(ca),[hc,Pae]=wr(ca,[jZ,dc]),Ng=dc(),[CZ,lo]=hc(ca),[kZ,EZ]=hc(ca),CO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:p,required:g,form:w}=t,v=Ng(e),[y,_]=m.useState(null),[N,b]=m.useState(null),[j,I]=m.useState(!1),O=Yd(u),[S,x]=ai({prop:r,defaultProp:s??!1,onChange:o,caller:ca}),[E,k]=ai({prop:a,defaultProp:l,onChange:c,caller:ca}),R=m.useRef(null),P=y?w||!!y.closest("form"):!0,[T,L]=m.useState(new Set),q=Array.from(T).map(z=>z.props.value).join(";");return i.jsx(I_,{...v,children:i.jsxs(CZ,{required:g,scope:e,trigger:y,onTriggerChange:_,valueNode:N,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:I,contentId:Hr(),value:E,onValueChange:k,open:S,onOpenChange:x,dir:O,triggerPointerDownPosRef:R,disabled:p,children:[i.jsx(wg.Provider,{scope:e,children:i.jsx(kZ,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(z=>{L(B=>new Set(B).add(z))},[]),onNativeOptionRemove:m.useCallback(z=>{L(B=>{const D=new Set(B);return D.delete(z),D})},[]),children:n})}),P?i.jsxs(YO,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:E,onChange:z=>k(z.target.value),disabled:p,form:w,children:[E===void 0?i.jsx("option",{value:""}):null,Array.from(T)]},q):null]})})};CO.displayName=ca;var kO="SelectTrigger",EO=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Ng(n),a=lo(kO,n),l=a.disabled||r,c=Fe(e,a.onTriggerChange),u=_g(n),h=m.useRef("touch"),[f,p,g]=JO(v=>{const y=u().filter(b=>!b.disabled),_=y.find(b=>b.value===a.value),N=ZO(y,v,_);N!==void 0&&a.onValueChange(N.value)}),w=v=>{l||(a.onOpenChange(!0),g()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(P_,{asChild:!0,...o,children:i.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":XO(a.value)?"":void 0,...s,ref:c,onClick:de(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&w(v)}),onPointerDown:de(s.onPointerDown,v=>{h.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:de(s.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(y&&v.key===" ")&&NZ.includes(v.key)&&(w(),v.preventDefault())})})})});EO.displayName=kO;var TO="SelectValue",IO=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...l}=t,c=lo(TO,n),{onValueNodeHasChildrenChange:u}=c,h=o!==void 0,f=Fe(e,c.onValueNodeChange);return yn(()=>{u(h)},[u,h]),i.jsx(Ce.span,{...l,ref:f,style:{pointerEvents:"none"},children:XO(c.value)?i.jsx(i.Fragment,{children:a}):o})});IO.displayName=TO;var TZ="SelectIcon",PO=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return i.jsx(Ce.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});PO.displayName=TZ;var IZ="SelectPortal",AO=t=>i.jsx(vg,{asChild:!0,...t});AO.displayName=IZ;var ua="SelectContent",RO=m.forwardRef((t,e)=>{const n=lo(ua,t.__scopeSelect),[r,s]=m.useState();if(yn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?pa.createPortal(i.jsx(OO,{scope:t.__scopeSelect,children:i.jsx(wg.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),o):null}return i.jsx(DO,{...t,ref:e})});RO.displayName=ua;var Tr=10,[OO,co]=hc(ua),PZ="SelectContentImpl",AZ=IJ("SelectContent.RemoveScroll"),DO=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:y,..._}=t,N=lo(ua,n),[b,j]=m.useState(null),[I,O]=m.useState(null),S=Fe(e,U=>j(U)),[x,E]=m.useState(null),[k,R]=m.useState(null),P=_g(n),[T,L]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(b)return O_(b)},[b]),w_();const z=m.useCallback(U=>{const[J,...Q]=P().map(ne=>ne.ref.current),[ee]=Q.slice(-1),re=document.activeElement;for(const ne of U)if(ne===re||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===J&&I&&(I.scrollTop=0),ne===ee&&I&&(I.scrollTop=I.scrollHeight),ne==null||ne.focus(),document.activeElement!==re))return},[P,I]),B=m.useCallback(()=>z([x,b]),[z,x,b]);m.useEffect(()=>{T&&B()},[T,B]);const{onOpenChange:D,triggerPointerDownPosRef:F}=N;m.useEffect(()=>{if(b){let U={x:0,y:0};const J=ee=>{var re,ne;U={x:Math.abs(Math.round(ee.pageX)-(((re=F.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((ne=F.current)==null?void 0:ne.y)??0))}},Q=ee=>{U.x<=10&&U.y<=10?ee.preventDefault():b.contains(ee.target)||D(!1),document.removeEventListener("pointermove",J),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",Q,{capture:!0})}}},[b,D,F]),m.useEffect(()=>{const U=()=>D(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[D]);const[W,X]=JO(U=>{const J=P().filter(re=>!re.disabled),Q=J.find(re=>re.ref.current===document.activeElement),ee=ZO(J,U,Q);ee&&setTimeout(()=>ee.ref.current.focus())}),Z=m.useCallback((U,J,Q)=>{const ee=!q.current&&!Q;(N.value!==void 0&&N.value===J||ee)&&(E(U),ee&&(q.current=!0))},[N.value]),$=m.useCallback(()=>b==null?void 0:b.focus(),[b]),K=m.useCallback((U,J,Q)=>{const ee=!q.current&&!Q;(N.value!==void 0&&N.value===J||ee)&&R(U)},[N.value]),V=r==="popper"?gb:MO,H=V===gb?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:y}:{};return i.jsx(OO,{scope:n,content:b,viewport:I,onViewportChange:O,itemRefCallback:Z,selectedItem:x,onItemLeave:$,itemTextRefCallback:K,focusSelectedItem:B,selectedItemText:k,position:r,isPositioned:T,searchRef:W,children:i.jsx(bg,{as:AZ,allowPinchZoom:!0,children:i.jsx(fg,{asChild:!0,trapped:N.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:de(s,U=>{var J;(J=N.trigger)==null||J.focus({preventScroll:!0}),U.preventDefault()}),children:i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:i.jsx(V,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:U=>U.preventDefault(),..._,...H,onPlaced:()=>L(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:de(_.onKeyDown,U=>{const J=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!J&&U.key.length===1&&X(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let ee=P().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(U.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const re=U.target,ne=ee.indexOf(re);ee=ee.slice(ne+1)}setTimeout(()=>z(ee)),U.preventDefault()}})})})})})})});DO.displayName=PZ;var RZ="SelectItemAlignedPosition",MO=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=lo(ua,n),a=co(ua,n),[l,c]=m.useState(null),[u,h]=m.useState(null),f=Fe(e,S=>h(S)),p=_g(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:_,focusSelectedItem:N}=a,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&v&&y&&_){const S=o.trigger.getBoundingClientRect(),x=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),k=_.getBoundingClientRect();if(o.dir!=="rtl"){const re=k.left-x.left,ne=E.left-re,ye=S.left-ne,fe=S.width+ye,ze=Math.max(fe,x.width),se=window.innerWidth-Tr,we=OC(ne,[Tr,Math.max(Tr,se-ze)]);l.style.minWidth=fe+"px",l.style.left=we+"px"}else{const re=x.right-k.right,ne=window.innerWidth-E.right-re,ye=window.innerWidth-S.right-ne,fe=S.width+ye,ze=Math.max(fe,x.width),se=window.innerWidth-Tr,we=OC(ne,[Tr,Math.max(Tr,se-ze)]);l.style.minWidth=fe+"px",l.style.right=we+"px"}const R=p(),P=window.innerHeight-Tr*2,T=v.scrollHeight,L=window.getComputedStyle(u),q=parseInt(L.borderTopWidth,10),z=parseInt(L.paddingTop,10),B=parseInt(L.borderBottomWidth,10),D=parseInt(L.paddingBottom,10),F=q+z+T+D+B,W=Math.min(y.offsetHeight*5,F),X=window.getComputedStyle(v),Z=parseInt(X.paddingTop,10),$=parseInt(X.paddingBottom,10),K=S.top+S.height/2-Tr,V=P-K,H=y.offsetHeight/2,U=y.offsetTop+H,J=q+z+U,Q=F-J;if(J<=K){const re=R.length>0&&y===R[R.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-v.offsetTop-v.offsetHeight,ye=Math.max(V,H+(re?$:0)+ne+B),fe=J+ye;l.style.height=fe+"px"}else{const re=R.length>0&&y===R[0].ref.current;l.style.top="0px";const ye=Math.max(K,q+v.offsetTop+(re?Z:0)+H)+Q;l.style.height=ye+"px",v.scrollTop=J-K+v.offsetTop}l.style.margin=`${Tr}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,o.trigger,o.valueNode,l,u,v,y,_,o.dir,r]);yn(()=>b(),[b]);const[j,I]=m.useState();yn(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const O=m.useCallback(S=>{S&&w.current===!0&&(b(),N==null||N(),w.current=!1)},[b,N]);return i.jsx(DZ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(Ce.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});MO.displayName=RZ;var OZ="SelectPopperPosition",gb=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Tr,...o}=t,a=Ng(n);return i.jsx(A_,{...a,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gb.displayName=OZ;var[DZ,D_]=hc(ua,{}),yb="SelectViewport",LO=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=co(yb,n),a=D_(yb,n),l=Fe(e,o.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(wg.Slot,{scope:n,children:i.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const g=Math.abs(c.current-h.scrollTop);if(g>0){const w=window.innerHeight-Tr*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),_=Math.max(v,y);if(_<w){const N=_+g,b=Math.min(w,N),j=N-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});LO.displayName=yb;var FO="SelectGroup",[MZ,LZ]=hc(FO),FZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hr();return i.jsx(MZ,{scope:n,id:s,children:i.jsx(Ce.div,{role:"group","aria-labelledby":s,...r,ref:e})})});FZ.displayName=FO;var UO="SelectLabel",$O=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=LZ(UO,n);return i.jsx(Ce.div,{id:s.id,...r,ref:e})});$O.displayName=UO;var am="SelectItem",[UZ,BO]=hc(am),zO=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=t,l=lo(am,n),c=co(am,n),u=l.value===r,[h,f]=m.useState(o??""),[p,g]=m.useState(!1),w=Fe(e,N=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,N,r,s)}),v=Hr(),y=m.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(UZ,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(N=>{f(b=>b||((N==null?void 0:N.textContent)??"").trim())},[]),children:i.jsx(wg.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:i.jsx(Ce.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:de(a.onFocus,()=>g(!0)),onBlur:de(a.onBlur,()=>g(!1)),onClick:de(a.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:de(a.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:de(a.onPointerDown,N=>{y.current=N.pointerType}),onPointerMove:de(a.onPointerMove,N=>{var b;y.current=N.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(a.onPointerLeave,N=>{var b;N.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:de(a.onKeyDown,N=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&N.key===" "||(SZ.includes(N.key)&&_(),N.key===" "&&N.preventDefault())})})})})});zO.displayName=am;var eu="SelectItemText",VO=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,a=lo(eu,n),l=co(eu,n),c=BO(eu,n),u=EZ(eu,n),[h,f]=m.useState(null),p=Fe(e,_=>f(_),c.onItemTextChange,_=>{var N;return(N=l.itemTextRefCallback)==null?void 0:N.call(l,_,c.value,c.disabled)}),g=h==null?void 0:h.textContent,w=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return yn(()=>(v(w),()=>y(w)),[v,y,w]),i.jsxs(i.Fragment,{children:[i.jsx(Ce.span,{id:c.textId,...o,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?pa.createPortal(o.children,a.valueNode):null]})});VO.displayName=eu;var qO="SelectItemIndicator",WO=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BO(qO,n).isSelected?i.jsx(Ce.span,{"aria-hidden":!0,...r,ref:e}):null});WO.displayName=qO;var vb="SelectScrollUpButton",HO=m.forwardRef((t,e)=>{const n=co(vb,t.__scopeSelect),r=D_(vb,t.__scopeSelect),[s,o]=m.useState(!1),a=Fe(e,r.onScrollButtonChange);return yn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(QO,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});HO.displayName=vb;var xb="SelectScrollDownButton",GO=m.forwardRef((t,e)=>{const n=co(xb,t.__scopeSelect),r=D_(xb,t.__scopeSelect),[s,o]=m.useState(!1),a=Fe(e,r.onScrollButtonChange);return yn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;o(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(QO,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});GO.displayName=xb;var QO=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=co("SelectScrollButton",n),a=m.useRef(null),l=_g(n),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),yn(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ce.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:de(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:de(s.onPointerLeave,()=>{c()})})}),$Z="SelectSeparator",KO=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return i.jsx(Ce.div,{"aria-hidden":!0,...r,ref:e})});KO.displayName=$Z;var bb="SelectArrow",BZ=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ng(n),o=lo(bb,n),a=co(bb,n);return o.open&&a.position==="popper"?i.jsx(R_,{...s,...r,ref:e}):null});BZ.displayName=bb;var zZ="SelectBubbleInput",YO=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),o=Fe(r,s),a=x_(e);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[a,e]),i.jsx(Ce.select,{...n,style:{...gO,...n.style},ref:o,defaultValue:e})});YO.displayName=zZ;function XO(t){return t===""||t===void 0}function JO(t){const e=bs(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function ZO(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=VZ(t,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function VZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qZ=CO,eD=EO,WZ=IO,HZ=PO,GZ=AO,tD=RO,QZ=LO,nD=$O,rD=zO,KZ=VO,YZ=WO,sD=HO,iD=GO,oD=KO;const Ft=qZ,Ht=WZ,Rt=m.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(eD,{ref:r,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,i.jsx(HZ,{asChild:!0,children:i.jsx(rR,{className:"h-4 w-4 opacity-50"})})]}));Rt.displayName=eD.displayName;const aD=m.forwardRef(({className:t,...e},n)=>i.jsx(sD,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(IQ,{className:"h-4 w-4"})}));aD.displayName=sD.displayName;const lD=m.forwardRef(({className:t,...e},n)=>i.jsx(iD,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(rR,{className:"h-4 w-4"})}));lD.displayName=iD.displayName;const Ot=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>i.jsx(GZ,{children:i.jsxs(tD,{ref:s,className:le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[i.jsx(aD,{}),i.jsx(QZ,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(lD,{})]})}));Ot.displayName=tD.displayName;const XZ=m.forwardRef(({className:t,...e},n)=>i.jsx(nD,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));XZ.displayName=nD.displayName;const Ue=m.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(rD,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(YZ,{children:i.jsx(aa,{className:"h-4 w-4"})})}),i.jsx(KZ,{children:e})]}));Ue.displayName=rD.displayName;const JZ=m.forwardRef(({className:t,...e},n)=>i.jsx(oD,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));JZ.displayName=oD.displayName;function ZZ(t){const e=eee(t),n=m.forwardRef((r,s)=>{const{children:o,...a}=r,l=m.Children.toArray(o),c=l.find(nee);if(c){const u=c.props.children,h=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function eee(t){const e=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const a=see(s),l=ree(o,s.props);return s.type!==m.Fragment&&(l.ref=r?fi(r,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tee=Symbol("radix.slottable");function nee(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tee}function ree(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function see(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Sg="Dialog",[cD,Aae]=wr(Sg),[iee,Zr]=cD(Sg),uD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=m.useRef(null),c=m.useRef(null),[u,h]=ai({prop:r,defaultProp:s??!1,onChange:o,caller:Sg});return i.jsx(iee,{scope:e,triggerRef:l,contentRef:c,contentId:Hr(),titleId:Hr(),descriptionId:Hr(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:a,children:n})};uD.displayName=Sg;var dD="DialogTrigger",oee=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zr(dD,n),o=Fe(e,s.triggerRef);return i.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":F_(s.open),...r,ref:o,onClick:de(t.onClick,s.onOpenToggle)})});oee.displayName=dD;var M_="DialogPortal",[aee,hD]=cD(M_,{forceMount:void 0}),fD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Zr(M_,e);return i.jsx(aee,{scope:e,forceMount:n,children:m.Children.map(r,a=>i.jsx(_r,{present:n||o.open,children:i.jsx(vg,{asChild:!0,container:s,children:a})}))})};fD.displayName=M_;var lm="DialogOverlay",pD=m.forwardRef((t,e)=>{const n=hD(lm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Zr(lm,t.__scopeDialog);return o.modal?i.jsx(_r,{present:r||o.open,children:i.jsx(cee,{...s,ref:e})}):null});pD.displayName=lm;var lee=ZZ("DialogOverlay.RemoveScroll"),cee=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zr(lm,n);return i.jsx(bg,{as:lee,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ce.div,{"data-state":F_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),da="DialogContent",mD=m.forwardRef((t,e)=>{const n=hD(da,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Zr(da,t.__scopeDialog);return i.jsx(_r,{present:r||o.open,children:o.modal?i.jsx(uee,{...s,ref:e}):i.jsx(dee,{...s,ref:e})})});mD.displayName=da;var uee=m.forwardRef((t,e)=>{const n=Zr(da,t.__scopeDialog),r=m.useRef(null),s=Fe(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return O_(o)},[]),i.jsx(gD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:de(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:de(t.onFocusOutside,o=>o.preventDefault())})}),dee=m.forwardRef((t,e)=>{const n=Zr(da,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return i.jsx(gD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),gD=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,l=Zr(da,n),c=m.useRef(null),u=Fe(e,c);return w_(),i.jsxs(i.Fragment,{children:[i.jsx(fg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Jd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":F_(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(hee,{titleId:l.titleId}),i.jsx(pee,{contentRef:c,descriptionId:l.descriptionId})]})]})}),L_="DialogTitle",yD=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zr(L_,n);return i.jsx(Ce.h2,{id:s.titleId,...r,ref:e})});yD.displayName=L_;var vD="DialogDescription",xD=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zr(vD,n);return i.jsx(Ce.p,{id:s.descriptionId,...r,ref:e})});xD.displayName=vD;var bD="DialogClose",wD=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zr(bD,n);return i.jsx(Ce.button,{type:"button",...r,ref:e,onClick:de(t.onClick,()=>s.onOpenChange(!1))})});wD.displayName=bD;function F_(t){return t?"open":"closed"}var _D="DialogTitleWarning",[Rae,ND]=hY(_D,{contentName:da,titleName:L_,docsSlug:"dialog"}),hee=({titleId:t})=>{const e=ND(_D),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},fee="DialogDescriptionWarning",pee=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ND(fee).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},mee=uD,gee=fD,SD=pD,jD=mD,CD=yD,kD=xD,yee=wD;const ED=mee,vee=gee,TD=m.forwardRef(({className:t,...e},n)=>i.jsx(SD,{ref:n,className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));TD.displayName=SD.displayName;const U_=m.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(vee,{children:[i.jsx(TD,{}),i.jsxs(jD,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,i.jsxs(yee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(dg,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));U_.displayName=jD.displayName;const $_=({className:t,...e})=>i.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});$_.displayName="DialogHeader";const B_=m.forwardRef(({className:t,...e},n)=>i.jsx(CD,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",t),...e}));B_.displayName=CD.displayName;const ID=m.forwardRef(({className:t,...e},n)=>i.jsx(kD,{ref:n,className:le("text-sm text-muted-foreground",t),...e}));ID.displayName=kD.displayName;var wb=function(t,e){return wb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},wb(t,e)};function eh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vd=function(){return vd=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},vd.apply(this,arguments)};function xee(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var bee=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
  font-size: 16px;
  line-height: 1.2em;
}

.calendly-inline-widget {
  min-width: 320px;
  height: 630px;
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
  display: inline;
  width: 100%;
  height: 100%;
}

.calendly-popup-content {
  position: relative;
}

.calendly-popup-content.calendly-mobile {
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
}

.calendly-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  z-index: 9999;
  background-color: #a5a5a5;
  background-color: rgba(31, 31, 31, 0.4);
}

.calendly-overlay .calendly-close-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

.calendly-overlay .calendly-popup {
  box-sizing: border-box;
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translateY(-50%) translateX(-50%);
  transform: translateY(-50%) translateX(-50%);
  width: 80%;
  min-width: 900px;
  max-width: 1000px;
  height: 90%;
  max-height: 680px;
}

@media (max-width: 975px) {
  .calendly-overlay .calendly-popup {
    position: fixed;
    top: 50px;
    left: 0;
    right: 0;
    bottom: 0;
    -webkit-transform: none;
    transform: none;
    width: 100%;
    height: auto;
    min-width: 0;
    max-height: none;
  }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
  height: 100%;
}

.calendly-overlay .calendly-popup-close {
  position: absolute;
  top: 25px;
  right: 25px;
  color: #fff;
  width: 19px;
  height: 19px;
  cursor: pointer;
  background: url(https://assets.calendly.com/assets/external/close-icon.svg)
    no-repeat;
  background-size: contain;
}

@media (max-width: 975px) {
  .calendly-overlay .calendly-popup-close {
    top: 15px;
    right: 15px;
  }
}

.calendly-badge-widget {
  position: fixed;
  right: 20px;
  bottom: 15px;
  z-index: 9998;
}

.calendly-badge-widget .calendly-badge-content {
  display: table-cell;
  width: auto;
  height: 45px;
  padding: 0 30px;
  border-radius: 25px;
  box-shadow: rgba(0, 0, 0, 0.25) 0 2px 5px;
  font-family: sans-serif;
  text-align: center;
  vertical-align: middle;
  font-weight: bold;
  font-size: 14px;
  color: #fff;
  cursor: pointer;
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
  color: #666a73;
}

.calendly-badge-widget .calendly-badge-content span {
  display: block;
  font-size: 12px;
}

.calendly-spinner {
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  -webkit-transform: translateY(-50%);
  transform: translateY(-50%);
  text-align: center;
  z-index: -1;
}

.calendly-spinner > div {
  display: inline-block;
  width: 18px;
  height: 18px;
  background-color: #e1e1e1;
  border-radius: 50%;
  vertical-align: middle;
  -webkit-animation: calendly-bouncedelay 1.4s infinite ease-in-out;
  animation: calendly-bouncedelay 1.4s infinite ease-in-out;
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
}

.calendly-spinner .calendly-bounce1 {
  -webkit-animation-delay: -0.32s;
  animation-delay: -0.32s;
}

.calendly-spinner .calendly-bounce2 {
  -webkit-animation-delay: -0.16s;
  animation-delay: -0.16s;
}

@-webkit-keyframes calendly-bouncedelay {
  0%,
  80%,
  100% {
    -webkit-transform: scale(0);
    transform: scale(0);
  }

  40% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }
}

@keyframes calendly-bouncedelay {
  0%,
  80%,
  100% {
    -webkit-transform: scale(0);
    transform: scale(0);
  }

  40% {
    -webkit-transform: scale(1);
    transform: scale(1);
  }
}
`;xee(bee);function vv(t){return t.charAt(0)==="#"?t.slice(1):t}function wee(t){return t!=null&&t.primaryColor&&(t.primaryColor=vv(t.primaryColor)),t!=null&&t.textColor&&(t.textColor=vv(t.textColor)),t!=null&&t.backgroundColor&&(t.backgroundColor=vv(t.backgroundColor)),t}var rk;(function(t){t.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",t.EVENT_TYPE_VIEWED="calendly.event_type_viewed",t.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",t.EVENT_SCHEDULED="calendly.event_scheduled",t.PAGE_HEIGHT="calendly.page_height"})(rk||(rk={}));var PD=function(t){var e=t.url,n=t.prefill,r=n===void 0?{}:n,s=t.pageSettings,o=s===void 0?{}:s,a=t.utm,l=a===void 0?{}:a,c=t.embedType,u=wee(o),h=u.backgroundColor,f=u.hideEventTypeDetails,p=u.hideLandingPageDetails,g=u.primaryColor,w=u.textColor,v=u.hideGdprBanner,y=r.customAnswers,_=r.date,N=r.email,b=r.firstName,j=r.guests,I=r.lastName,O=r.location,S=r.name,x=l.utmCampaign,E=l.utmContent,k=l.utmMedium,R=l.utmSource,P=l.utmTerm,T=l.salesforce_uuid,L=e.indexOf("?"),q=L>-1,z=e.slice(L+1),B=q?e.slice(0,L):e,D=[q?z:null,h?"background_color=".concat(h):null,f?"hide_event_type_details=1":null,p?"hide_landing_page_details=1":null,g?"primary_color=".concat(g):null,w?"text_color=".concat(w):null,v?"hide_gdpr_banner=1":null,S?"name=".concat(encodeURIComponent(S)):null,O?"location=".concat(encodeURIComponent(O)):null,b?"first_name=".concat(encodeURIComponent(b)):null,I?"last_name=".concat(encodeURIComponent(I)):null,j?"guests=".concat(j.map(encodeURIComponent).join(",")):null,N?"email=".concat(encodeURIComponent(N)):null,_&&_ instanceof Date?"date=".concat(_ee(_)):null,x?"utm_campaign=".concat(encodeURIComponent(x)):null,E?"utm_content=".concat(encodeURIComponent(E)):null,k?"utm_medium=".concat(encodeURIComponent(k)):null,R?"utm_source=".concat(encodeURIComponent(R)):null,P?"utm_term=".concat(encodeURIComponent(P)):null,T?"salesforce_uuid=".concat(encodeURIComponent(T)):null,c?"embed_type=".concat(c):null,"embed_domain=1"].concat(y?See(y):[]).filter(function(F){return F!==null}).join("&");return"".concat(B,"?").concat(D)},_ee=function(t){var e=t.getMonth()+1,n=t.getDate(),r=t.getFullYear();return[r,e<10?"0".concat(e):e,n<10?"0".concat(n):n].join("-")},Nee=/^a\d{1,2}$/,See=function(t){var e=Object.keys(t).filter(function(n){return n.match(Nee)});return e.length?e.map(function(n){return"".concat(n,"=").concat(encodeURIComponent(t[n]))}):[]},AD=function(t){eh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return m.createElement("div",{className:"calendly-spinner"},m.createElement("div",{className:"calendly-bounce1"}),m.createElement("div",{className:"calendly-bounce2"}),m.createElement("div",{className:"calendly-bounce3"}))},e}(m.Component),jee="calendly-inline-widget",Cee=function(t){eh(e,t);function e(n){var r=t.call(this,n)||this;return r.state={isLoading:!0},r.onLoad=r.onLoad.bind(r),r}return e.prototype.onLoad=function(){this.setState({isLoading:!1})},e.prototype.render=function(){var n=PD({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"}),r=this.props.LoadingSpinner||AD;return m.createElement("div",{className:this.props.className||jee,style:this.props.styles||{}},this.state.isLoading&&m.createElement(r,null),m.createElement("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:n}))},e}(m.Component),kee=function(t){eh(e,t);function e(n){var r=t.call(this,n)||this;return r.state={isLoading:!0},r.onLoad=r.onLoad.bind(r),r}return e.prototype.onLoad=function(){this.setState({isLoading:!1})},e.prototype.render=function(){var n=PD({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"}),r=this.props.LoadingSpinner||AD;return m.createElement(m.Fragment,null,this.state.isLoading&&m.createElement(r,null),m.createElement("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:n}))},e}(m.Component),RD=function(t){if(!t.open)return null;if(!t.rootElement)throw new Error("[react-calendly]: PopupModal rootElement property cannot be undefined");return pa.createPortal(m.createElement("div",{className:"calendly-overlay"},m.createElement("div",{onClick:t.onModalClose,className:"calendly-close-overlay"}),m.createElement("div",{className:"calendly-popup"},m.createElement("div",{className:"calendly-popup-content"},m.createElement(kee,vd({},t)))),m.createElement("button",{className:"calendly-popup-close",onClick:t.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),t.rootElement)};(function(t){eh(e,t);function e(n){var r=t.call(this,n)||this;return r.state={isOpen:!1},r.onClick=r.onClick.bind(r),r.onClose=r.onClose.bind(r),r}return e.prototype.onClick=function(n){n.preventDefault(),this.setState({isOpen:!0})},e.prototype.onClose=function(n){n.stopPropagation(),this.setState({isOpen:!1})},e.prototype.render=function(){return m.createElement(m.Fragment,null,m.createElement("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),m.createElement(RD,vd({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},e})(m.Component);(function(t){eh(e,t);function e(n){var r=t.call(this,n)||this;return r.state={isOpen:!1},r.onClick=r.onClick.bind(r),r.onClose=r.onClose.bind(r),r}return e.prototype.onClick=function(){this.setState({isOpen:!0})},e.prototype.onClose=function(n){n.stopPropagation(),this.setState({isOpen:!1})},e.prototype.render=function(){return m.createElement("div",{className:"calendly-badge-widget",onClick:this.onClick},m.createElement("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&m.createElement("span",null,"powered by Calendly")),m.createElement(RD,vd({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},e})(m.Component);const Eee={q1Revenue:null,q2Support:null,q3Customization:null,q4Structure:null,q5Cleanup:null,q6Tax:null};function Tee(t){const{q1Revenue:e,q2Support:n,q3Customization:r}=t;return e==="R3"||r==="C2"||n==="S3"?"enterprise":e==="R2"||n==="S2"?"essential":"startup"}const zc={startup:{name:"Startup",description:"Core monthly bookkeeping and financial reporting for growing businesses."},essential:{name:"Essential",description:"Enhanced bookkeeping with quarterly strategy calls and priority support."},enterprise:{name:"Enterprise",description:"Dedicated CFO relationship with custom solutions for complex business needs."}},Iee=[{value:"R1",label:"Less than $750,000"},{value:"R2",label:"$750,000 to $3,000,000"},{value:"R3",label:"More than $3,000,000"}],Pee=[{value:"S1",label:"Primarily core monthly bookkeeping/reporting"},{value:"S2",label:"I need quarterly strategy calls and priority support"},{value:"S3",label:"I need a dedicated CFO relationship for complex growth strategy"}],Aee=[{value:"C1",label:"No, standard financial reporting is sufficient"},{value:"C2",label:"Yes, I have specific industry, compliance, or complex tax needs"}],Ree=[{value:"single-llc",label:"Single-Member LLC"},{value:"partnership",label:"Partnership"},{value:"s-corp",label:"S-Corporation"},{value:"c-corp",label:"C-Corporation"}],Oee=[{value:"T1",label:"Yes"},{value:"T2",label:"No"},{value:"T3",label:"I am not sure"}],Dee=[{value:"X1",label:"Yes"},{value:"X2",label:"No"},{value:"X3",label:"I am not sure"}],of=3,Mee=()=>{const t=Tt(),[e,{isLoading:n}]=a9(),[r,s]=m.useState(1),[o,a]=m.useState(Eee),[l,c]=m.useState(null),[u,h]=m.useState(!1),[f,p]=m.useState({name:"",email:""}),[g,w]=m.useState(!1),[v,y]=m.useState({name:"",email:""}),[_,N]=m.useState("form"),[b,j]=m.useState(!1),[I,{isLoading:O}]=i9(),[S,{isLoading:x}]=o9(),[E,k]=m.useState(null),[R,P]=m.useState(null),T=l?100:r/of*100,L=()=>{switch(r){case 1:return o.q1Revenue!==null&&o.q2Support!==null;case 2:return o.q3Customization!==null&&o.q4Structure!==null;case 3:return o.q5Cleanup!==null&&o.q6Tax!==null;default:return!1}},q=()=>{if(r<of)s(r+1);else{const V=Tee(o);c(V)}},z=()=>{u?h(!1):g?_==="calendly"?N("form"):(w(!1),P(null)):l?c(null):r>1?s(r-1):t("/login")},B=()=>{h(!0)},D=async()=>{var V;try{k(null);const H={email:f.email.trim(),name:f.name.trim(),answers:o,recommendedPlan:l},U=await I(H).unwrap();await e({document_name:l,client_first_name:f.name.split(" ")[0],client_last_name:f.name.split(" ").slice(1).join(" ")||"",client_email:f.email,client_company:"",start_date:new Date().toISOString().split("T")[0],questionnaireId:U.data.id,plan:l}).unwrap(),j(!0)}catch(H){console.error("Proposal submission failed:",H),k(((V=H.data)==null?void 0:V.message)||H.message||"Failed to submit proposal request")}},F=()=>f.name.trim()!==""&&f.email.trim()!==""&&f.email.includes("@"),W=()=>{if(j(!1),l==="enterprise"){N("calendly"),w(!0);return}},X=()=>{w(!0),N("form"),P(null)},Z=async()=>{var V;if($())try{P(null);const H={email:v.email.trim(),name:v.name.trim(),answers:{q1Revenue:o.q1Revenue,q2Support:o.q2Support,q3Customization:o.q3Customization,q4Structure:o.q4Structure,q5Cleanup:o.q5Cleanup,q6Tax:o.q6Tax},recommendedPlan:"enterprise"},U=await I(H).unwrap();try{await S({questionnaireId:U.data.id}).unwrap()}catch(J){console.error("Zapier webhook error (non-fatal):",J)}j(!0)}catch(H){console.error("Error submitting Enterprise questionnaire:",H),P(((V=H.data)==null?void 0:V.message)||H.message||"Failed to submit consultation request. Please try again.")}},$=()=>v.name.trim()!==""&&v.email.trim()!==""&&v.email.includes("@"),K=()=>"";return i.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[i.jsx("header",{className:"border-b border-border bg-card",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[i.jsx(Ul,{}),!l&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Step ",r," of ",of]}),l&&i.jsxs(xe,{variant:"ghost",onClick:z,children:[i.jsx($l,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})}),!l&&i.jsx("div",{className:"bg-card border-b border-border",children:i.jsx("div",{className:"container mx-auto px-4 py-3",children:i.jsx(Kd,{value:T,className:"h-2"})})}),g&&l==="enterprise"?i.jsx("main",{className:"min-h-screen bg-muted/40 flex items-center",children:i.jsx("div",{className:"w-full max-w-7xl mx-auto px-8 py-10",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold text-foreground leading-tight",children:"Schedule Your Consultation"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-md text-black",children:"Book a short call with our team to understand your requirements and define the best next steps for your business."})]}),i.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground text-black font-semibold",children:[i.jsx("li",{className:"flex items-center gap-2",children:" Understand your requirements"}),i.jsx("li",{className:"flex items-center gap-2",children:" Discuss solution & timeline"}),i.jsx("li",{className:"flex items-center gap-2",children:" Clear next steps after the call"})]}),i.jsxs("div",{className:"inline-flex flex-col gap-1 bg-card border border-border rounded-xl px-5 py-3 w-fit",children:[i.jsx("span",{className:"text-sm",children:" Duration: 15 minutes"}),i.jsx("span",{className:"text-sm",children:" Format: Zoom Call"})]})]}),_==="form"?i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"bg-card border border-border rounded-2xl shadow-xl p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(qe,{htmlFor:"enterprise-name",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(zl,{className:"h-4 w-4"}),"Full Name"]}),i.jsx(Gn,{id:"enterprise-name",type:"text",placeholder:"Enter your full name",value:v.name,onChange:V=>y({...v,name:V.target.value}),className:"h-12"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(qe,{htmlFor:"enterprise-email",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(to,{className:"h-4 w-4"}),"Email Address"]}),i.jsx(Gn,{id:"enterprise-email",type:"email",placeholder:"Enter your email address",value:v.email,onChange:V=>y({...v,email:V.target.value}),className:"h-12"})]}),R&&i.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-destructive font-medium",children:"Error"}),i.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:R})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx(xe,{variant:"outline",onClick:()=>{w(!1),P(null)},className:"flex-1",disabled:O||x,children:"Cancel"}),i.jsx(xe,{onClick:Z,size:"lg",className:"flex-1",disabled:!$()||O||x,children:O||x?i.jsxs(i.Fragment,{children:["Submitting...",i.jsx(Eo,{className:"ml-2 h-5 w-5 animate-pulse"})]}):i.jsxs(i.Fragment,{children:["Continue",i.jsx(Eo,{className:"ml-2 h-5 w-5"})]})})]})]})})}):i.jsx("div",{className:"relative w-full",children:i.jsx("div",{className:"bg-card border border-border rounded-2xl shadow-xl p-6 w-[500px]",children:i.jsx("div",{className:"rounded-xl overflow-hidden border border-border w-full",children:i.jsx(Cee,{url:K(),styles:{height:"500px"}})})})})]})})}):u&&l&&l!=="enterprise"?i.jsx("main",{className:"flex-1 flex items-center justify-center p-8",children:i.jsxs("div",{className:"max-w-lg w-full animate-fade-in",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Get Your Proposal"}),i.jsx("p",{className:"text-muted-foreground",children:"Enter your details to receive your personalized proposal."})]}),i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(qe,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(zl,{className:"h-4 w-4"}),"Full Name"]}),i.jsx(Gn,{id:"name",type:"text",placeholder:"Enter your full name",value:f.name,onChange:V=>p({...f,name:V.target.value}),className:"h-12"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(qe,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(to,{className:"h-4 w-4"}),"Email Address"]}),i.jsx(Gn,{id:"email",type:"email",placeholder:"Enter your email address",value:f.email,onChange:V=>p({...f,email:V.target.value}),className:"h-12"})]})]}),i.jsxs("div",{className:"border-t border-border pt-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(ib,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Plan Details (Auto-filled)"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(qe,{className:"text-xs text-muted-foreground",children:"Selected Plan"}),i.jsx(Gn,{value:zc[l].name,readOnly:!0,disabled:!0,className:"h-10 bg-muted cursor-not-allowed"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(qe,{className:"text-xs text-muted-foreground",children:"Plan Description"}),i.jsx(Gn,{value:zc[l].description,readOnly:!0,disabled:!0,className:"h-10 bg-muted cursor-not-allowed"})]})]})]}),E&&i.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-destructive font-medium",children:"Error"}),i.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:E})]}),i.jsx(xe,{onClick:D,size:"lg",className:"w-full",disabled:!F()||O||n,children:O||n?i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):i.jsxs(i.Fragment,{children:["Submit",i.jsx(Eo,{className:"ml-2 h-5 w-5"})]})})]})]})}):l?i.jsx("main",{className:"flex-1 flex items-center justify-center p-8",children:i.jsxs("div",{className:"max-w-xl w-full text-center animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6",children:i.jsx(oi,{className:"w-10 h-10 text-success"})}),l==="enterprise"&&!g?i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Your business qualifies for our custom Enterprise solution"}),i.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Let's discuss your complex needs in a dedicated strategy call."}),i.jsxs("div",{className:"bg-card border border-border rounded-xl p-8 mb-6",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Schedule Your Consultation"}),i.jsx("p",{className:"text-muted-foreground mb-6 text-center",children:"Book a personalized strategy call with our team to discuss your Enterprise solution needs."}),i.jsx(xe,{onClick:X,size:"lg",className:"w-full",children:"Book a Call"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-4 text-center",children:"You'll be redirected to our scheduling page"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground mb-4",children:["Your recommended plan is ",zc[l].name,"!"]}),i.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"A formal proposal detailing the scope and fixed price is being prepared for you."}),i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 mb-6",children:[i.jsxs("h3",{className:"font-semibold text-foreground mb-2",children:[zc[l].name," Plan"]}),i.jsx("p",{className:"text-muted-foreground",children:zc[l].description})]}),i.jsxs(xe,{onClick:B,size:"lg",className:"w-full max-w-sm",children:["Get Your Proposal",i.jsx(Eo,{className:"ml-2 h-5 w-5"})]})]})]})}):i.jsxs("main",{className:"flex-1 container mx-auto px-4 py-12 max-w-2xl",children:[i.jsxs("div",{className:"animate-fade-in",children:[r===1&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Business Basics"}),i.jsx("p",{className:"text-muted-foreground",children:"Tell us about your business size and needs."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(qe,{className:"text-base font-medium",children:"What is your estimated or actual annual business revenue? (in USD)"}),i.jsx($a,{value:o.q1Revenue||"",onValueChange:V=>a({...o,q1Revenue:V}),className:"space-y-3",children:Iee.map(V=>i.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[i.jsx(Ba,{value:V.value,id:V.value}),i.jsx(qe,{htmlFor:V.value,className:"cursor-pointer flex-1",children:V.label})]},V.value))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(qe,{className:"text-base font-medium",children:"What level of strategic support are you seeking?"}),i.jsx($a,{value:o.q2Support||"",onValueChange:V=>a({...o,q2Support:V}),className:"space-y-3",children:Pee.map(V=>i.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[i.jsx(Ba,{value:V.value,id:V.value}),i.jsx(qe,{htmlFor:V.value,className:"cursor-pointer flex-1",children:V.label})]},V.value))})]})]}),r===2&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Business Details"}),i.jsx("p",{className:"text-muted-foreground",children:"Help us understand your specific requirements."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(qe,{className:"text-base font-medium",children:"Does your business require a customized or specialized accounting solution?"}),i.jsx($a,{value:o.q3Customization||"",onValueChange:V=>a({...o,q3Customization:V}),className:"space-y-3",children:Aee.map(V=>i.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[i.jsx(Ba,{value:V.value,id:V.value}),i.jsx(qe,{htmlFor:V.value,className:"cursor-pointer flex-1",children:V.label})]},V.value))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(qe,{className:"text-base font-medium",children:"What is your current legal business structure?"}),i.jsxs(Ft,{value:o.q4Structure||"",onValueChange:V=>a({...o,q4Structure:V}),children:[i.jsx(Rt,{className:"h-12",children:i.jsx(Ht,{placeholder:"Select your business structure"})}),i.jsx(Ot,{children:Ree.map(V=>i.jsx(Ue,{value:V.value,children:V.label},V.value))})]})]})]}),r===3&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Additional Information"}),i.jsx("p",{className:"text-muted-foreground",children:"A few more questions to finalize your recommendation."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(qe,{className:"text-base font-medium",children:"Does your business require a historical clean-up or catch-up of past bookkeeping records?"}),i.jsx($a,{value:o.q5Cleanup||"",onValueChange:V=>a({...o,q5Cleanup:V}),className:"space-y-3",children:Oee.map(V=>i.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[i.jsx(Ba,{value:V.value,id:V.value}),i.jsx(qe,{htmlFor:V.value,className:"cursor-pointer flex-1",children:V.label})]},V.value))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(qe,{className:"text-base font-medium",children:"Do you anticipate needing assistance with state/local sales tax or international tax filings?"}),i.jsx($a,{value:o.q6Tax||"",onValueChange:V=>a({...o,q6Tax:V}),className:"space-y-3",children:Dee.map(V=>i.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[i.jsx(Ba,{value:V.value,id:V.value}),i.jsx(qe,{htmlFor:V.value,className:"cursor-pointer flex-1",children:V.label})]},V.value))})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-12 pt-6 border-t border-border",children:[i.jsxs(xe,{variant:"outline",onClick:z,children:[i.jsx($l,{className:"mr-2 h-4 w-4"}),"Back"]}),i.jsxs(xe,{onClick:q,disabled:!L(),children:[r===of?"Get My Recommendation":"Continue",i.jsx(Eo,{className:"ml-2 h-4 w-4"})]})]})]}),i.jsx(ED,{open:b,onOpenChange:j,children:i.jsxs(U_,{className:"sm:max-w-md",children:[i.jsxs($_,{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:i.jsx(oi,{className:"w-8 h-8 text-success"})}),i.jsx(B_,{className:"text-xl",children:l==="enterprise"?"Consultation Request Submitted!":"Proposal Request Submitted!"}),i.jsx(ID,{className:"text-center pt-2",children:l==="enterprise"?"We've received your request. Click Continue to schedule your call in Calendly.":"You will receive your personalized proposal on your email."})]}),i.jsx("div",{className:"flex justify-center pt-4",children:i.jsx(xe,{onClick:W,size:"lg",children:l==="enterprise"?"Continue to Scheduling":"Close"})})]})})]})},Lee=()=>{var N;const[t,e]=m.useState(!1),[n,r]=m.useState({first_name:"",last_name:"",email:"",password:"",phoneNumber:""}),[s,o]=m.useState({}),[a,{isLoading:l}]=nU(),{data:c,isLoading:u,refetch:h}=$m(),[f]=rU(),[p]=sU(),g=b=>{const{name:j,value:I}=b.target;r(O=>({...O,[j]:I})),s[j]&&o(O=>({...O,[j]:""}))},w=()=>{const b={};return n.first_name||(b.first_name="First name is required"),n.last_name||(b.last_name="Last name is required"),n.email?/\S+@\S+\.\S+/.test(n.email)||(b.email="Email is invalid"):b.email="Email is required",n.password?n.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",o(b),Object.keys(b).length===0},v=async b=>{var j;if(b.preventDefault(),!!w())try{(await a(n).unwrap()).success&&(alert("Staff member created successfully!"),e(!1),r({first_name:"",last_name:"",email:"",password:"",phoneNumber:""}),h())}catch(I){alert(((j=I.data)==null?void 0:j.message)||"Failed to create staff member")}},y=async(b,j)=>{if(window.confirm(`Are you sure you want to deactivate ${j}?`))try{(await f(b).unwrap()).success&&(alert("Staff member deactivated successfully"),h())}catch{alert("Failed to deactivate staff member")}},_=async(b,j)=>{if(window.confirm(`Are you sure you want to reactivate ${j}?`))try{(await p(b).unwrap()).success&&(alert("Staff member reactivated successfully"),h())}catch{alert("Failed to reactivate staff member")}};return i.jsxs("div",{className:"staff-management",children:[i.jsxs("div",{className:"staff-header",children:[i.jsx("h2",{children:"Staff Management"}),i.jsx("button",{className:"btn-primary",onClick:()=>e(!t),children:t?"Cancel":"Create New Staff"})]}),t&&i.jsxs("div",{className:"create-staff-form",children:[i.jsx("h3",{children:"Create Staff Member"}),i.jsxs("form",{onSubmit:v,children:[i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"first_name",children:"First Name *"}),i.jsx("input",{type:"text",id:"first_name",name:"first_name",value:n.first_name,onChange:g,className:s.first_name?"error":""}),s.first_name&&i.jsx("span",{className:"field-error",children:s.first_name})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"last_name",children:"Last Name *"}),i.jsx("input",{type:"text",id:"last_name",name:"last_name",value:n.last_name,onChange:g,className:s.last_name?"error":""}),s.last_name&&i.jsx("span",{className:"field-error",children:s.last_name})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email *"}),i.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:g,className:s.email?"error":""}),s.email&&i.jsx("span",{className:"field-error",children:s.email})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"password",children:"Password *"}),i.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:g,className:s.password?"error":"",placeholder:"Minimum 6 characters"}),s.password&&i.jsx("span",{className:"field-error",children:s.password})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number (Optional)"}),i.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:n.phoneNumber,onChange:g})]}),i.jsx("button",{type:"submit",className:"btn-submit",disabled:l,children:l?"Creating...":"Create Staff Member"})]})]}),i.jsxs("div",{className:"staff-list",children:[i.jsx("h3",{children:"Current Staff Members"}),u?i.jsx("div",{className:"loading",children:"Loading staff members..."}):i.jsx("div",{className:"staff-table-container",children:i.jsxs("table",{className:"staff-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Name"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Phone"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Created By"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:((N=c==null?void 0:c.data)==null?void 0:N.length)>0?c.data.map(b=>i.jsxs("tr",{children:[i.jsxs("td",{children:[b.first_name," ",b.last_name]}),i.jsx("td",{children:b.email}),i.jsx("td",{children:b.phoneNumber||"N/A"}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${b.active?"active":"inactive"}`,children:b.active?"Active":"Inactive"})}),i.jsx("td",{children:b.createdBy?`${b.createdBy.first_name} ${b.createdBy.last_name}`:"System"}),i.jsx("td",{children:b.active?i.jsx("button",{className:"btn-danger",onClick:()=>y(b._id,`${b.first_name} ${b.last_name}`),children:"Deactivate"}):i.jsx("button",{className:"btn-success",onClick:()=>_(b._id,`${b.first_name} ${b.last_name}`),children:"Reactivate"})})]},b._id)):i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"text-center",children:"No staff members found"})})})]})})]})]})};var OD={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=s(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)e.call(o,l)&&o[l]&&(a=s(a,l));return a}function s(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(OD);var Fee=OD.exports;const _b=pm(Fee);var sk={};const Uee="react-tooltip-core-styles",$ee="react-tooltip-base-styles",ik={core:!1,base:!1};function ok({css:t,id:e=$ee,type:n="base",ref:r}){var s,o;if(!t||typeof document>"u"||ik[n]||n==="core"&&typeof process<"u"&&(!((s=process==null?void 0:sk)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:sk)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(e=Uee),r||(r={});const{insertAt:a}=r;if(document.getElementById(e))return void console.warn(`[react-tooltip] Element with id '${e}' already exists. Call \`removeStyle()\` first`);const l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=e,c.type="text/css",a==="top"&&l.firstChild?l.insertBefore(c,l.firstChild):l.appendChild(c),c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),ik[n]=!0}const ak=async({elementReference:t=null,tooltipReference:e=null,tooltipArrowReference:n=null,place:r="top",offset:s=10,strategy:o="absolute",middlewares:a=[nO(Number(s)),sO({fallbackAxisSideDirection:"start"}),rO({padding:5})],border:l})=>{if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(e===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const c=a;return n?(c.push(fb({element:n,padding:5})),pb(t,e,{placement:r,strategy:o,middleware:c}).then(({x:u,y:h,placement:f,middlewareData:p})=>{var g,w;const v={left:`${u}px`,top:`${h}px`,border:l},{x:y,y:_}=(g=p.arrow)!==null&&g!==void 0?g:{x:0,y:0},N=(w={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]])!==null&&w!==void 0?w:"bottom",b=l&&{borderBottom:l,borderRight:l};let j=0;if(l){const I=`${l}`.match(/(\d+)px/);j=I!=null&&I[1]?Number(I[1]):1}return{tooltipStyles:v,tooltipArrowStyles:{left:y!=null?`${y}px`:"",top:_!=null?`${_}px`:"",right:"",bottom:"",...b,[N]:`-${4+j}px`},place:f}})):pb(t,e,{placement:"bottom",strategy:o,middleware:c}).then(({x:u,y:h,placement:f})=>({tooltipStyles:{left:`${u}px`,top:`${h}px`},tooltipArrowStyles:{},place:f}))},lk=(t,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(t,e),ck=(t,e,n)=>{let r=null;const s=function(...o){const a=()=>{r=null};!r&&(t.apply(this,o),r=setTimeout(a,e))};return s.cancel=()=>{r&&(clearTimeout(r),r=null)},s},uk=t=>t!==null&&!Array.isArray(t)&&typeof t=="object",Nb=(t,e)=>{if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((s,o)=>Nb(s,e[o]));if(Array.isArray(t)!==Array.isArray(e))return!1;if(!uk(t)||!uk(e))return t===e;const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(s=>Nb(t[s],e[s]))},Bee=t=>{if(!(t instanceof HTMLElement||t instanceof SVGElement))return!1;const e=getComputedStyle(t);return["overflow","overflow-x","overflow-y"].some(n=>{const r=e.getPropertyValue(n);return r==="auto"||r==="scroll"})},dk=t=>{if(!t)return null;let e=t.parentElement;for(;e;){if(Bee(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},zee=typeof window<"u"?m.useLayoutEffect:m.useEffect,Vee="DEFAULT_TOOLTIP_ID",qee={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Wee=m.createContext({getTooltipData:()=>qee});function DD(t=Vee){return m.useContext(Wee).getTooltipData(t)}var Ma={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},xv={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Hee=({forwardRef:t,id:e,className:n,classNameArrow:r,variant:s="dark",anchorId:o,anchorSelect:a,place:l="top",offset:c=10,events:u=["hover"],openOnClick:h=!1,positionStrategy:f="absolute",middlewares:p,wrapper:g,delayShow:w=0,delayHide:v=0,float:y=!1,hidden:_=!1,noArrow:N=!1,clickable:b=!1,closeOnEsc:j=!1,closeOnScroll:I=!1,closeOnResize:O=!1,openEvents:S,closeEvents:x,globalCloseEvents:E,imperativeModeOnly:k,style:R,position:P,afterShow:T,afterHide:L,content:q,contentWrapperRef:z,isOpen:B,defaultIsOpen:D=!1,setIsOpen:F,activeAnchor:W,setActiveAnchor:X,border:Z,opacity:$,arrowColor:K,role:V="tooltip"})=>{var H;const U=m.useRef(null),J=m.useRef(null),Q=m.useRef(null),ee=m.useRef(null),re=m.useRef(null),[ne,ye]=m.useState({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[fe,ze]=m.useState(!1),[se,we]=m.useState(!1),[_e,Qe]=m.useState(null),zt=m.useRef(!1),Je=m.useRef(null),{anchorRefs:wt,setActiveAnchor:_t}=DD(e),Ze=m.useRef(!1),[Nt,rt]=m.useState([]),Ve=m.useRef(!1),cn=h||u.includes("click"),es=cn||(S==null?void 0:S.click)||(S==null?void 0:S.dblclick)||(S==null?void 0:S.mousedown),It=S?{...S}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!S&&cn&&Object.assign(It,{mouseenter:!1,focus:!1,click:!0});const sr=x?{...x}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!x&&cn&&Object.assign(sr,{mouseleave:!1,blur:!1});const Vt=E?{...E}:{escape:j||!1,scroll:I||!1,resize:O||!1,clickOutsideAnchor:es||!1};k&&(Object.assign(It,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(sr,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Vt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),zee(()=>(Ve.current=!0,()=>{Ve.current=!1}),[]);const st=oe=>{Ve.current&&(oe&&we(!0),setTimeout(()=>{Ve.current&&(F==null||F(oe),B===void 0&&ze(oe))},10))};m.useEffect(()=>{if(B===void 0)return()=>null;B&&we(!0);const oe=setTimeout(()=>{ze(B)},10);return()=>{clearTimeout(oe)}},[B]),m.useEffect(()=>{if(fe!==zt.current)if(re.current&&clearTimeout(re.current),zt.current=fe,fe)T==null||T();else{const oe=(he=>{const Ne=he.match(/^([\d.]+)(ms|s)$/);if(!Ne)return 0;const[,mt,jt]=Ne;return Number(mt)*(jt==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));re.current=setTimeout(()=>{we(!1),Qe(null),L==null||L()},oe+25)}},[fe]);const ts=oe=>{ye(he=>Nb(he,oe)?he:oe)},ir=(oe=w)=>{Q.current&&clearTimeout(Q.current),se?st(!0):Q.current=setTimeout(()=>{st(!0)},oe)},Nr=(oe=v)=>{ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{Ze.current||st(!1)},oe)},ns=oe=>{var he;if(!oe)return;const Ne=(he=oe.currentTarget)!==null&&he!==void 0?he:oe.target;if(!(Ne!=null&&Ne.isConnected))return X(null),void _t({current:null});w?ir():st(!0),X(Ne),_t({current:Ne}),ee.current&&clearTimeout(ee.current)},qn=()=>{b?Nr(v||100):v?Nr():st(!1),Q.current&&clearTimeout(Q.current)},or=({x:oe,y:he})=>{var Ne;const mt={getBoundingClientRect:()=>({x:oe,y:he,width:0,height:0,top:he,left:oe,right:oe,bottom:he})};ak({place:(Ne=_e==null?void 0:_e.place)!==null&&Ne!==void 0?Ne:l,offset:c,elementReference:mt,tooltipReference:U.current,tooltipArrowReference:J.current,strategy:f,middlewares:p,border:Z}).then(jt=>{ts(jt)})},Sr=oe=>{if(!oe)return;const he=oe,Ne={x:he.clientX,y:he.clientY};or(Ne),Je.current=Ne},Tn=oe=>{var he;if(!fe)return;const Ne=oe.target;Ne.isConnected&&(!((he=U.current)===null||he===void 0)&&he.contains(Ne)||[document.querySelector(`[id='${o}']`),...Nt].some(mt=>mt==null?void 0:mt.contains(Ne))||(st(!1),Q.current&&clearTimeout(Q.current)))},jr=ck(ns,50),lt=ck(qn,50),St=oe=>{lt.cancel(),jr(oe)},ve=()=>{jr.cancel(),lt()},ke=m.useCallback(()=>{var oe,he;const Ne=(oe=_e==null?void 0:_e.position)!==null&&oe!==void 0?oe:P;Ne?or(Ne):y?Je.current&&or(Je.current):W!=null&&W.isConnected&&ak({place:(he=_e==null?void 0:_e.place)!==null&&he!==void 0?he:l,offset:c,elementReference:W,tooltipReference:U.current,tooltipArrowReference:J.current,strategy:f,middlewares:p,border:Z}).then(mt=>{Ve.current&&ts(mt)})},[fe,W,q,R,l,_e==null?void 0:_e.place,c,f,P,_e==null?void 0:_e.position,y]);m.useEffect(()=>{var oe,he;const Ne=new Set(wt);Nt.forEach(Ke=>{Ne.add({current:Ke})});const mt=document.querySelector(`[id='${o}']`);mt&&Ne.add({current:mt});const jt=()=>{st(!1)},ar=dk(W),lr=dk(U.current);Vt.scroll&&(window.addEventListener("scroll",jt),ar==null||ar.addEventListener("scroll",jt),lr==null||lr.addEventListener("scroll",jt));let Ct=null;Vt.resize?window.addEventListener("resize",jt):W&&U.current&&(Ct=tO(W,U.current,ke,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const In=Ke=>{Ke.key==="Escape"&&st(!1)};Vt.escape&&window.addEventListener("keydown",In),Vt.clickOutsideAnchor&&window.addEventListener("click",Tn);const it=[],Es=Ke=>{fe&&(Ke==null?void 0:Ke.target)===W||ns(Ke)},Lg=Ke=>{fe&&(Ke==null?void 0:Ke.target)===W&&qn()},_a=["mouseenter","mouseleave","focus","blur"],uo=["click","dblclick","mousedown","mouseup"];Object.entries(It).forEach(([Ke,Wn])=>{Wn&&(_a.includes(Ke)?it.push({event:Ke,listener:St}):uo.includes(Ke)&&it.push({event:Ke,listener:Es}))}),Object.entries(sr).forEach(([Ke,Wn])=>{Wn&&(_a.includes(Ke)?it.push({event:Ke,listener:ve}):uo.includes(Ke)&&it.push({event:Ke,listener:Lg}))}),y&&it.push({event:"pointermove",listener:Sr});const Cr=()=>{Ze.current=!0},pc=()=>{Ze.current=!1,qn()};return b&&!es&&((oe=U.current)===null||oe===void 0||oe.addEventListener("mouseenter",Cr),(he=U.current)===null||he===void 0||he.addEventListener("mouseleave",pc)),it.forEach(({event:Ke,listener:Wn})=>{Ne.forEach(ho=>{var pi;(pi=ho.current)===null||pi===void 0||pi.addEventListener(Ke,Wn)})}),()=>{var Ke,Wn;Vt.scroll&&(window.removeEventListener("scroll",jt),ar==null||ar.removeEventListener("scroll",jt),lr==null||lr.removeEventListener("scroll",jt)),Vt.resize?window.removeEventListener("resize",jt):Ct==null||Ct(),Vt.clickOutsideAnchor&&window.removeEventListener("click",Tn),Vt.escape&&window.removeEventListener("keydown",In),b&&!es&&((Ke=U.current)===null||Ke===void 0||Ke.removeEventListener("mouseenter",Cr),(Wn=U.current)===null||Wn===void 0||Wn.removeEventListener("mouseleave",pc)),it.forEach(({event:ho,listener:pi})=>{Ne.forEach(ah=>{var mc;(mc=ah.current)===null||mc===void 0||mc.removeEventListener(ho,pi)})})}},[W,ke,se,wt,Nt,S,x,E,cn,w,v]),m.useEffect(()=>{var oe,he;let Ne=(he=(oe=_e==null?void 0:_e.anchorSelect)!==null&&oe!==void 0?oe:a)!==null&&he!==void 0?he:"";!Ne&&e&&(Ne=`[data-tooltip-id='${e}']`);const mt=new MutationObserver(jt=>{const ar=[],lr=[];jt.forEach(Ct=>{if(Ct.type==="attributes"&&Ct.attributeName==="data-tooltip-id"&&(Ct.target.getAttribute("data-tooltip-id")===e?ar.push(Ct.target):Ct.oldValue===e&&lr.push(Ct.target)),Ct.type==="childList"){if(W){const In=[...Ct.removedNodes].filter(it=>it.nodeType===1);if(Ne)try{lr.push(...In.filter(it=>it.matches(Ne))),lr.push(...In.flatMap(it=>[...it.querySelectorAll(Ne)]))}catch{}In.some(it=>{var Es;return!!(!((Es=it==null?void 0:it.contains)===null||Es===void 0)&&Es.call(it,W))&&(we(!1),st(!1),X(null),Q.current&&clearTimeout(Q.current),ee.current&&clearTimeout(ee.current),!0)})}if(Ne)try{const In=[...Ct.addedNodes].filter(it=>it.nodeType===1);ar.push(...In.filter(it=>it.matches(Ne))),ar.push(...In.flatMap(it=>[...it.querySelectorAll(Ne)]))}catch{}}}),(ar.length||lr.length)&&rt(Ct=>[...Ct.filter(In=>!lr.includes(In)),...ar])});return mt.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{mt.disconnect()}},[e,a,_e==null?void 0:_e.anchorSelect,W]),m.useEffect(()=>{ke()},[ke]),m.useEffect(()=>{if(!(z!=null&&z.current))return()=>null;const oe=new ResizeObserver(()=>{setTimeout(()=>ke())});return oe.observe(z.current),()=>{oe.disconnect()}},[q,z==null?void 0:z.current]),m.useEffect(()=>{var oe;const he=document.querySelector(`[id='${o}']`),Ne=[...Nt,he];W&&Ne.includes(W)||X((oe=Nt[0])!==null&&oe!==void 0?oe:he)},[o,Nt,W]),m.useEffect(()=>(D&&st(!0),()=>{Q.current&&clearTimeout(Q.current),ee.current&&clearTimeout(ee.current)}),[]),m.useEffect(()=>{var oe;let he=(oe=_e==null?void 0:_e.anchorSelect)!==null&&oe!==void 0?oe:a;if(!he&&e&&(he=`[data-tooltip-id='${e}']`),he)try{const Ne=Array.from(document.querySelectorAll(he));rt(Ne)}catch{rt([])}},[e,a,_e==null?void 0:_e.anchorSelect]),m.useEffect(()=>{Q.current&&(clearTimeout(Q.current),ir(w))},[w]);const ce=(H=_e==null?void 0:_e.content)!==null&&H!==void 0?H:q,Re=fe&&Object.keys(ne.tooltipStyles).length>0;return m.useImperativeHandle(t,()=>({open:oe=>{if(oe!=null&&oe.anchorSelect)try{document.querySelector(oe.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${oe.anchorSelect}" is not a valid CSS selector`)}Qe(oe??null),oe!=null&&oe.delay?ir(oe.delay):st(!0)},close:oe=>{oe!=null&&oe.delay?Nr(oe.delay):st(!1)},activeAnchor:W,place:ne.place,isOpen:!!(se&&!_&&ce&&Re)})),se&&!_&&ce?be.createElement(g,{id:e,role:V,className:_b("react-tooltip",Ma.tooltip,xv.tooltip,xv[s],n,`react-tooltip__place-${ne.place}`,Ma[Re?"show":"closing"],Re?"react-tooltip__show":"react-tooltip__closing",f==="fixed"&&Ma.fixed,b&&Ma.clickable),onTransitionEnd:oe=>{re.current&&clearTimeout(re.current),fe||oe.propertyName!=="opacity"||(we(!1),Qe(null),L==null||L())},style:{...R,...ne.tooltipStyles,opacity:$!==void 0&&Re?$:void 0},ref:U},ce,be.createElement(g,{className:_b("react-tooltip-arrow",Ma.arrow,xv.arrow,r,N&&Ma.noArrow),style:{...ne.tooltipArrowStyles,background:K?`linear-gradient(to right bottom, transparent 50%, ${K} 50%)`:void 0},ref:J})):null},Gee=({content:t})=>be.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),Qee=be.forwardRef(({id:t,anchorId:e,anchorSelect:n,content:r,html:s,render:o,className:a,classNameArrow:l,variant:c="dark",place:u="top",offset:h=10,wrapper:f="div",children:p=null,events:g=["hover"],openOnClick:w=!1,positionStrategy:v="absolute",middlewares:y,delayShow:_=0,delayHide:N=0,float:b=!1,hidden:j=!1,noArrow:I=!1,clickable:O=!1,closeOnEsc:S=!1,closeOnScroll:x=!1,closeOnResize:E=!1,openEvents:k,closeEvents:R,globalCloseEvents:P,imperativeModeOnly:T=!1,style:L,position:q,isOpen:z,defaultIsOpen:B=!1,disableStyleInjection:D=!1,border:F,opacity:W,arrowColor:X,setIsOpen:Z,afterShow:$,afterHide:K,role:V="tooltip"},H)=>{const[U,J]=m.useState(r),[Q,ee]=m.useState(s),[re,ne]=m.useState(u),[ye,fe]=m.useState(c),[ze,se]=m.useState(h),[we,_e]=m.useState(_),[Qe,zt]=m.useState(N),[Je,wt]=m.useState(b),[_t,Ze]=m.useState(j),[Nt,rt]=m.useState(f),[Ve,cn]=m.useState(g),[es,It]=m.useState(v),[sr,Vt]=m.useState(null),[st,ts]=m.useState(null),ir=m.useRef(D),{anchorRefs:Nr,activeAnchor:ns}=DD(t),qn=lt=>lt==null?void 0:lt.getAttributeNames().reduce((St,ve)=>{var ke;return ve.startsWith("data-tooltip-")&&(St[ve.replace(/^data-tooltip-/,"")]=(ke=lt==null?void 0:lt.getAttribute(ve))!==null&&ke!==void 0?ke:null),St},{}),or=lt=>{const St={place:ve=>{var ke;ne((ke=ve)!==null&&ke!==void 0?ke:u)},content:ve=>{J(ve??r)},html:ve=>{ee(ve??s)},variant:ve=>{var ke;fe((ke=ve)!==null&&ke!==void 0?ke:c)},offset:ve=>{se(ve===null?h:Number(ve))},wrapper:ve=>{var ke;rt((ke=ve)!==null&&ke!==void 0?ke:f)},events:ve=>{const ke=ve==null?void 0:ve.split(" ");cn(ke??g)},"position-strategy":ve=>{var ke;It((ke=ve)!==null&&ke!==void 0?ke:v)},"delay-show":ve=>{_e(ve===null?_:Number(ve))},"delay-hide":ve=>{zt(ve===null?N:Number(ve))},float:ve=>{wt(ve===null?b:ve==="true")},hidden:ve=>{Ze(ve===null?j:ve==="true")},"class-name":ve=>{Vt(ve)}};Object.values(St).forEach(ve=>ve(null)),Object.entries(lt).forEach(([ve,ke])=>{var ce;(ce=St[ve])===null||ce===void 0||ce.call(St,ke)})};m.useEffect(()=>{J(r)},[r]),m.useEffect(()=>{ee(s)},[s]),m.useEffect(()=>{ne(u)},[u]),m.useEffect(()=>{fe(c)},[c]),m.useEffect(()=>{se(h)},[h]),m.useEffect(()=>{_e(_)},[_]),m.useEffect(()=>{zt(N)},[N]),m.useEffect(()=>{wt(b)},[b]),m.useEffect(()=>{Ze(j)},[j]),m.useEffect(()=>{It(v)},[v]),m.useEffect(()=>{ir.current!==D&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[D]),m.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:D==="core",disableBase:D}}))},[]),m.useEffect(()=>{var lt;const St=new Set(Nr);let ve=n;if(!ve&&t&&(ve=`[data-tooltip-id='${t}']`),ve)try{document.querySelectorAll(ve).forEach(he=>{St.add({current:he})})}catch{console.warn(`[react-tooltip] "${ve}" is not a valid CSS selector`)}const ke=document.querySelector(`[id='${e}']`);if(ke&&St.add({current:ke}),!St.size)return()=>null;const ce=(lt=st??ke)!==null&&lt!==void 0?lt:ns.current,Re=new MutationObserver(he=>{he.forEach(Ne=>{var mt;if(!ce||Ne.type!=="attributes"||!(!((mt=Ne.attributeName)===null||mt===void 0)&&mt.startsWith("data-tooltip-")))return;const jt=qn(ce);or(jt)})}),oe={attributes:!0,childList:!1,subtree:!1};if(ce){const he=qn(ce);or(he),Re.observe(ce,oe)}return()=>{Re.disconnect()}},[Nr,ns,st,e,n]),m.useEffect(()=>{L!=null&&L.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),F&&!lk("border",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`border\`.`),L!=null&&L.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),W&&!lk("opacity",`${W}`)&&console.warn(`[react-tooltip] "${W}" is not a valid \`opacity\`.`)},[]);let Sr=p;const Tn=m.useRef(null);if(o){const lt=o({content:(st==null?void 0:st.getAttribute("data-tooltip-content"))||U||null,activeAnchor:st});Sr=lt?be.createElement("div",{ref:Tn,className:"react-tooltip-content-wrapper"},lt):null}else U&&(Sr=U);Q&&(Sr=be.createElement(Gee,{content:Q}));const jr={forwardRef:H,id:t,anchorId:e,anchorSelect:n,className:_b(a,sr),classNameArrow:l,content:Sr,contentWrapperRef:Tn,place:re,variant:ye,offset:ze,wrapper:Nt,events:Ve,openOnClick:w,positionStrategy:es,middlewares:y,delayShow:we,delayHide:Qe,float:Je,hidden:_t,noArrow:I,clickable:O,closeOnEsc:S,closeOnScroll:x,closeOnResize:E,openEvents:k,closeEvents:R,globalCloseEvents:P,imperativeModeOnly:T,style:L,position:q,isOpen:z,defaultIsOpen:B,border:F,opacity:W,arrowColor:X,setIsOpen:Z,afterShow:$,afterHide:K,activeAnchor:st,setActiveAnchor:lt=>ts(lt),role:V};return be.createElement(Hee,{...jr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",t=>{t.detail.disableCore||ok({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),t.detail.disableBase||ok({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const xd=({status:t,type:e="info",tooltip:n,id:r,children:s})=>{const o=`status-indicator status-${e} ${t?"active":"inactive"}`;return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:o,"data-tooltip-id":r,"data-tooltip-content":n,children:s}),n&&i.jsx(Qee,{id:r})]})},Kee=({onboarding:t,clientId:e})=>{const n=`onboarding-${e}`;if(t.completed)return i.jsx(xd,{status:!0,type:"success",tooltip:"Onboarding completed",id:n,children:""});const r=t.step?`Step ${t.step}`:"Not started";return i.jsx(xd,{status:!1,type:"error",tooltip:`Onboarding incomplete - ${r}`,id:n,children:""})},Yee=({subscription:t,clientId:e})=>{const n=`subscription-${e}`,s=(()=>{switch(t.status){case"active":return{emoji:"",type:"success",text:"Active",tooltip:`Active - ${t.planName||"Standard"} (${t.interval||"monthly"})`};case"trial":return{emoji:"",type:"warning",text:"Trial",tooltip:`Trial period - ${t.planName||"Standard"}`};case"expired":return{emoji:"",type:"error",text:"Expired",tooltip:"Subscription expired"};case"none":default:return{emoji:"",type:"error",text:"None",tooltip:"No subscription"}}})();return i.jsx(xd,{status:t.status==="active"||t.status==="trial",type:s.type,tooltip:s.tooltip,id:n,children:i.jsxs("span",{className:"status-text",children:[i.jsx("span",{className:"status-emoji",children:s.emoji}),i.jsx("span",{className:"status-label",children:s.text})]})})},hk=({platform:t,connected:e,clientId:n})=>{const r=`${t}-${n}`,s=t.charAt(0).toUpperCase()+t.slice(1);return e?i.jsx(xd,{status:!0,type:"success",tooltip:`${s} connected`,id:r,children:""}):i.jsx(xd,{status:!1,type:"error",tooltip:`${s} not connected`,id:r,children:""})},Xee=()=>{var R,P,T,L,q,z,B,D,F,W,X,Z;const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,o]=m.useState(!1),[a,l]=m.useState([]),{data:c,refetch:u}=ST(),{data:h,refetch:f}=$m(),{data:p,isLoading:g,refetch:w}=aU(),[v,{isLoading:y}]=iU(),[_,{isLoading:N}]=oU(),b=((R=c==null?void 0:c.data)==null?void 0:R.filter($=>$.role_id==="3"))||[],j=((P=h==null?void 0:h.data)==null?void 0:P.filter($=>$.active))||[],I=()=>{let $=(p==null?void 0:p.data)||[];return a.forEach(K=>{switch(K){case"onboarding_complete":$=$.filter(V=>{var H,U;return((U=(H=V.progress)==null?void 0:H.onboarding)==null?void 0:U.completed)===!0});break;case"onboarding_incomplete":$=$.filter(V=>{var H,U;return((U=(H=V.progress)==null?void 0:H.onboarding)==null?void 0:U.completed)===!1});break;case"subscription_active":$=$.filter(V=>{var H,U,J,Q;return((U=(H=V.progress)==null?void 0:H.subscription)==null?void 0:U.status)==="active"||((Q=(J=V.progress)==null?void 0:J.subscription)==null?void 0:Q.status)==="trial"});break;case"subscription_expired":$=$.filter(V=>{var H,U,J,Q;return((U=(H=V.progress)==null?void 0:H.subscription)==null?void 0:U.status)==="expired"||((Q=(J=V.progress)==null?void 0:J.subscription)==null?void 0:Q.status)==="none"});break;case"amazon_connected":$=$.filter(V=>{var H,U;return((U=(H=V.progress)==null?void 0:H.integrations)==null?void 0:U.amazon)===!0});break;case"amazon_disconnected":$=$.filter(V=>{var H,U;return((U=(H=V.progress)==null?void 0:H.integrations)==null?void 0:U.amazon)===!1});break;case"shopify_connected":$=$.filter(V=>{var H,U;return((U=(H=V.progress)==null?void 0:H.integrations)==null?void 0:U.shopify)===!0});break;case"shopify_disconnected":$=$.filter(V=>{var H,U;return((U=(H=V.progress)==null?void 0:H.integrations)==null?void 0:U.shopify)===!1});break;case"unassigned":$=$.filter(V=>!V.assignedStaff);break}}),$},O=$=>{a.includes($)?l(a.filter(K=>K!==$)):l([...a,$])},S=I(),x={onboarding_complete:((T=p==null?void 0:p.data)==null?void 0:T.filter($=>{var K,V;return((V=(K=$.progress)==null?void 0:K.onboarding)==null?void 0:V.completed)===!0}).length)||0,onboarding_incomplete:((L=p==null?void 0:p.data)==null?void 0:L.filter($=>{var K,V;return((V=(K=$.progress)==null?void 0:K.onboarding)==null?void 0:V.completed)===!1}).length)||0,subscription_active:((q=p==null?void 0:p.data)==null?void 0:q.filter($=>{var K,V,H,U;return((V=(K=$.progress)==null?void 0:K.subscription)==null?void 0:V.status)==="active"||((U=(H=$.progress)==null?void 0:H.subscription)==null?void 0:U.status)==="trial"}).length)||0,subscription_expired:((z=p==null?void 0:p.data)==null?void 0:z.filter($=>{var K,V,H,U;return((V=(K=$.progress)==null?void 0:K.subscription)==null?void 0:V.status)==="expired"||((U=(H=$.progress)==null?void 0:H.subscription)==null?void 0:U.status)==="none"}).length)||0,amazon_connected:((B=p==null?void 0:p.data)==null?void 0:B.filter($=>{var K,V;return((V=(K=$.progress)==null?void 0:K.integrations)==null?void 0:V.amazon)===!0}).length)||0,amazon_disconnected:((D=p==null?void 0:p.data)==null?void 0:D.filter($=>{var K,V;return((V=(K=$.progress)==null?void 0:K.integrations)==null?void 0:V.amazon)===!1}).length)||0,shopify_connected:((F=p==null?void 0:p.data)==null?void 0:F.filter($=>{var K,V;return((V=(K=$.progress)==null?void 0:K.integrations)==null?void 0:V.shopify)===!0}).length)||0,shopify_disconnected:((W=p==null?void 0:p.data)==null?void 0:W.filter($=>{var K,V;return((V=(K=$.progress)==null?void 0:K.integrations)==null?void 0:V.shopify)===!1}).length)||0,unassigned:((X=p==null?void 0:p.data)==null?void 0:X.filter($=>!$.assignedStaff).length)||0},E=async $=>{var K;if($.preventDefault(),!t||!n){alert("Please select both client and staff member");return}try{(await v({clientId:t,staffId:n}).unwrap()).success&&(alert("Client assigned successfully!"),e(""),r(""),o(!1),w())}catch(V){alert(((K=V.data)==null?void 0:K.message)||"Failed to assign client")}},k=async($,K,V,H)=>{if(window.confirm(`Are you sure you want to unassign ${V} from ${H}?`))try{(await _({clientId:$,staffId:K}).unwrap()).success&&(alert("Client unassigned successfully"),w())}catch{alert("Failed to unassign client")}};return i.jsxs("div",{className:"client-assignment",children:[i.jsxs("div",{className:"assignment-header",children:[i.jsx("h2",{children:"Client Assignment Management"}),i.jsx("button",{className:"btn-primary",onClick:()=>o(!s),children:s?"Cancel":"Assign Client"})]}),s&&i.jsxs("div",{className:"assign-form-card",children:[i.jsx("h3",{children:"Assign Client to Staff"}),i.jsxs("form",{onSubmit:E,children:[i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"client",children:"Select Client *"}),i.jsxs("select",{id:"client",value:t,onChange:$=>e($.target.value),className:"form-select",required:!0,children:[i.jsx("option",{value:"",children:"-- Select Client --"}),b.map($=>i.jsxs("option",{value:$._id,children:[$.first_name," ",$.last_name," (",$.email,")"]},$._id))]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"staff",children:"Select Staff Member *"}),i.jsxs("select",{id:"staff",value:n,onChange:$=>r($.target.value),className:"form-select",required:!0,children:[i.jsx("option",{value:"",children:"-- Select Staff --"}),j.map($=>i.jsxs("option",{value:$._id,children:[$.first_name," ",$.last_name," (",$.email,")"]},$._id))]})]})]}),i.jsx("button",{type:"submit",className:"btn-submit",disabled:y,children:y?"Assigning...":"Assign Client"})]})]}),i.jsxs("div",{className:"filter-pills-container",children:[i.jsx("h3",{children:"Quick Filters"}),i.jsxs("div",{className:"filter-pills",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("span",{className:"filter-group-label",children:"Onboarding:"}),i.jsxs("button",{className:`filter-pill ${a.includes("onboarding_complete")?"active":""}`,onClick:()=>O("onboarding_complete"),children:[" Complete ",i.jsx("span",{className:"count",children:x.onboarding_complete})]}),i.jsxs("button",{className:`filter-pill ${a.includes("onboarding_incomplete")?"active":""}`,onClick:()=>O("onboarding_incomplete"),children:[" Incomplete ",i.jsx("span",{className:"count",children:x.onboarding_incomplete})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("span",{className:"filter-group-label",children:"Subscription:"}),i.jsxs("button",{className:`filter-pill ${a.includes("subscription_active")?"active":""}`,onClick:()=>O("subscription_active"),children:[" Active/Trial ",i.jsx("span",{className:"count",children:x.subscription_active})]}),i.jsxs("button",{className:`filter-pill ${a.includes("subscription_expired")?"active":""}`,onClick:()=>O("subscription_expired"),children:[" Expired/None ",i.jsx("span",{className:"count",children:x.subscription_expired})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("span",{className:"filter-group-label",children:"Amazon:"}),i.jsxs("button",{className:`filter-pill ${a.includes("amazon_connected")?"active":""}`,onClick:()=>O("amazon_connected"),children:[" Connected ",i.jsx("span",{className:"count",children:x.amazon_connected})]}),i.jsxs("button",{className:`filter-pill ${a.includes("amazon_disconnected")?"active":""}`,onClick:()=>O("amazon_disconnected"),children:[" Not Connected ",i.jsx("span",{className:"count",children:x.amazon_disconnected})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("span",{className:"filter-group-label",children:"Shopify:"}),i.jsxs("button",{className:`filter-pill ${a.includes("shopify_connected")?"active":""}`,onClick:()=>O("shopify_connected"),children:[" Connected ",i.jsx("span",{className:"count",children:x.shopify_connected})]}),i.jsxs("button",{className:`filter-pill ${a.includes("shopify_disconnected")?"active":""}`,onClick:()=>O("shopify_disconnected"),children:[" Not Connected ",i.jsx("span",{className:"count",children:x.shopify_disconnected})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("span",{className:"filter-group-label",children:"Assignment:"}),i.jsxs("button",{className:`filter-pill ${a.includes("unassigned")?"active":""}`,onClick:()=>O("unassigned"),children:[" Unassigned ",i.jsx("span",{className:"count",children:x.unassigned})]})]}),a.length>0&&i.jsx("button",{className:"clear-filters-btn",onClick:()=>l([]),children:"Clear Filters"})]})]}),i.jsxs("div",{className:"assignments-list",children:[i.jsxs("h3",{children:["Current Assignments",a.length>0&&i.jsxs("span",{className:"filtered-count",children:["(Showing ",S.length," of ",((Z=p==null?void 0:p.data)==null?void 0:Z.length)||0,")"]})]}),g?i.jsx("div",{className:"loading",children:"Loading assignments..."}):i.jsx("div",{className:"assignments-table-container",children:i.jsxs("table",{className:"assignments-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Client Name"}),i.jsx("th",{children:"Client Email"}),i.jsx("th",{children:"Phone"}),i.jsx("th",{children:"Onboarding"}),i.jsx("th",{children:"Subscription"}),i.jsx("th",{children:"Amazon"}),i.jsx("th",{children:"Shopify"}),i.jsx("th",{children:"Assigned Staff"}),i.jsx("th",{children:"Staff Email"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:(S==null?void 0:S.length)>0?S.map($=>{var K,V,H,U,J,Q,ee;return i.jsxs("tr",{children:[i.jsxs("td",{children:[$.first_name," ",$.last_name]}),i.jsx("td",{children:$.email}),i.jsx("td",{children:$.phoneNumber||"N/A"}),i.jsx("td",{children:i.jsx(Kee,{onboarding:((K=$.progress)==null?void 0:K.onboarding)||{},clientId:$._id})}),i.jsx("td",{children:i.jsx(Yee,{subscription:((V=$.progress)==null?void 0:V.subscription)||{},clientId:$._id})}),i.jsx("td",{children:i.jsx(hk,{platform:"amazon",connected:((U=(H=$.progress)==null?void 0:H.integrations)==null?void 0:U.amazon)||!1,clientId:$._id})}),i.jsx("td",{children:i.jsx(hk,{platform:"shopify",connected:((Q=(J=$.progress)==null?void 0:J.integrations)==null?void 0:Q.shopify)||!1,clientId:$._id})}),i.jsx("td",{children:$.assignedStaff?i.jsx("span",{className:"staff-badge",children:$.assignedStaff.staffName}):i.jsx("span",{className:"unassigned-badge",children:"Unassigned"})}),i.jsx("td",{children:((ee=$.assignedStaff)==null?void 0:ee.staffEmail)||"-"}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${$.active?"active":"inactive"}`,children:$.active?"Active":"Inactive"})}),i.jsx("td",{children:$.assignedStaff?i.jsx("button",{className:"btn-danger-small",onClick:()=>k($._id,$.assignedStaff.staffId,`${$.first_name} ${$.last_name}`,$.assignedStaff.staffName),disabled:N,children:"Unassign"}):i.jsx("button",{className:"btn-primary-small",onClick:()=>{e($._id),o(!0)},children:"Assign"})})]},$._id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:"11",className:"text-center",children:a.length>0?"No clients match the selected filters":"No clients found"})})})]})})]}),i.jsxs("div",{className:"staff-overview",children:[i.jsx("h3",{children:"Staff Assignment Overview"}),i.jsx("div",{className:"staff-cards",children:j.map($=>{var V;const K=((V=p==null?void 0:p.data)==null?void 0:V.filter(H=>{var U;return((U=H.assignedStaff)==null?void 0:U.staffId)===$._id}))||[];return i.jsxs("div",{className:"staff-card",children:[i.jsxs("div",{className:"staff-card-header",children:[i.jsxs("h4",{children:[$.first_name," ",$.last_name]}),i.jsxs("span",{className:"client-count-badge",children:[K.length," clients"]})]}),i.jsxs("div",{className:"staff-card-body",children:[i.jsx("p",{className:"staff-email",children:$.email}),K.length>0?i.jsxs("div",{className:"assigned-clients-list",children:[i.jsx("strong",{children:"Assigned Clients:"}),i.jsxs("ul",{children:[K.slice(0,3).map(H=>i.jsxs("li",{children:[H.first_name," ",H.last_name]},H._id)),K.length>3&&i.jsxs("li",{className:"more-clients",children:["+",K.length-3," more..."]})]})]}):i.jsx("p",{className:"no-clients",children:"No clients assigned"})]})]},$._id)})})]}),i.jsx("style",{jsx:!0,children:`
        .client-assignment {
          padding: 20px;
        }
        
        .assignment-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 30px;
        }
        
        .assign-form-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          margin-bottom: 30px;
        }
        
        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }
        
        .form-group {
          display: flex;
          flex-direction: column;
        }
        
        .form-group label {
          margin-bottom: 5px;
          font-weight: 500;
        }
        
        .form-select {
          padding: 8px 12px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 14px;
        }
        
        .assignments-table {
          width: 100%;
          border-collapse: collapse;
        }
        
        .assignments-table th,
        .assignments-table td {
          padding: 12px;
          text-align: left;
          border-bottom: 1px solid #eee;
        }
        
        .assignments-table th {
          background: #f5f5f5;
          font-weight: 600;
        }
        
        .staff-badge {
          background: #4CAF50;
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
        }
        
        .unassigned-badge {
          background: #ff9800;
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
        }
        
        .btn-danger-small,
        .btn-primary-small {
          padding: 4px 12px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 12px;
        }
        
        .btn-danger-small {
          background: #f44336;
          color: white;
        }
        
        .btn-primary-small {
          background: #2196F3;
          color: white;
        }
        
        .staff-overview {
          margin-top: 40px;
        }
        
        .staff-cards {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
          gap: 20px;
          margin-top: 20px;
        }
        
        .staff-card {
          background: white;
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          overflow: hidden;
        }
        
        .staff-card-header {
          background: #f5f5f5;
          padding: 15px;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .staff-card-header h4 {
          margin: 0;
          font-size: 16px;
        }
        
        .client-count-badge {
          background: #2196F3;
          color: white;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
        }
        
        .staff-card-body {
          padding: 15px;
        }
        
        .staff-email {
          color: #666;
          font-size: 14px;
          margin-bottom: 10px;
        }
        
        .assigned-clients-list ul {
          list-style: none;
          padding: 0;
          margin: 5px 0 0 0;
        }
        
        .assigned-clients-list li {
          padding: 3px 0;
          font-size: 14px;
        }
        
        .more-clients {
          color: #2196F3;
          font-style: italic;
        }
        
        .no-clients {
          color: #999;
          font-style: italic;
          font-size: 14px;
        }
        
        /* Filter Pills Styles */
        .filter-pills-container {
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          margin-bottom: 30px;
        }
        
        .filter-pills {
          display: flex;
          flex-wrap: wrap;
          gap: 15px;
          margin-top: 15px;
        }
        
        .filter-group {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .filter-group-label {
          font-size: 13px;
          color: #666;
          font-weight: 500;
        }
        
        .filter-pill {
          display: inline-flex;
          align-items: center;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 13px;
          font-weight: 500;
          background-color: #f8f9fa;
          border: 1px solid #dee2e6;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .filter-pill:hover {
          background-color: #e9ecef;
          border-color: #adb5bd;
        }
        
        .filter-pill.active {
          background-color: #007bff;
          color: white;
          border-color: #007bff;
        }
        
        .filter-pill .count {
          margin-left: 6px;
          padding: 2px 6px;
          background-color: rgba(0, 0, 0, 0.1);
          border-radius: 10px;
          font-size: 11px;
        }
        
        .filter-pill.active .count {
          background-color: rgba(255, 255, 255, 0.2);
        }
        
        .clear-filters-btn {
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 13px;
          font-weight: 500;
          background-color: #dc3545;
          color: white;
          border: none;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .clear-filters-btn:hover {
          background-color: #c82333;
        }
        
        .filtered-count {
          font-size: 14px;
          color: #666;
          font-weight: normal;
          margin-left: 10px;
        }
      `})]})},Jee=()=>{const[t,e]=m.useState(""),[n,r]=m.useState("shopify"),{data:s,isLoading:o,error:a}=Bm(),{data:l,isLoading:c,error:u}=UU(t,{skip:!t}),[h,{data:f,isLoading:p}]=QU(),[g,{data:w,isLoading:v}]=TU(),[y,{data:_,isLoading:N}]=t9(),b=(s==null?void 0:s.data)||[],j=l==null?void 0:l.data,I=a||u,O=L=>{const q=L.target.value;e(q)},S=()=>{t&&h({clientId:t})},x=()=>{t&&g({clientId:t})},E=()=>{t&&y({clientId:t})},k=L=>L.connected?i.jsxs("div",{children:[i.jsxs("span",{className:"badge bg-success mb-2",children:[i.jsx(iR,{size:14,className:"me-1"}),"Connected"]}),i.jsxs("div",{className:"small text-muted mt-2",children:[i.jsx("strong",{children:"Last Sync:"})," ",new Date(L.lastSync).toLocaleString()]}),i.jsxs("div",{className:"small text-muted",children:[i.jsx("strong",{children:"Connected Since:"})," ",new Date(L.connectedSince).toLocaleString()]})]}):i.jsxs("span",{className:"badge bg-secondary",children:[i.jsx(FQ,{size:14,className:"me-1"}),"Not Connected"]}),R=()=>j?i.jsx("div",{className:"card mb-4",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("h5",{className:"card-title",children:[i.jsx(zl,{size:20,className:"me-2"}),"Client Information"]}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"text-muted small",children:"Name"}),i.jsx("div",{className:"fw-semibold",children:j.client.name||"N/A"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"text-muted small",children:"Email"}),i.jsx("div",{className:"fw-semibold",children:j.client.email})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"text-muted small",children:"Business Name"}),i.jsx("div",{className:"fw-semibold",children:j.client.businessName||"N/A"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"text-muted small",children:"Phone"}),i.jsx("div",{className:"fw-semibold",children:j.client.phone||"N/A"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"text-muted small",children:"Status"}),i.jsx("div",{children:i.jsx("span",{className:`badge ${j.client.active?"bg-success":"bg-secondary"}`,children:j.client.active?"Active":"Inactive"})})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"text-muted small",children:"Member Since"}),i.jsx("div",{className:"fw-semibold",children:new Date(j.client.createdAt).toLocaleDateString()})]})]})]})}):null,P=()=>j?i.jsxs("div",{className:"row mb-4",children:[i.jsx("div",{className:"col-md-4",children:i.jsx("div",{className:"card",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("h6",{className:"card-title",children:[i.jsx(OK,{size:20,className:"me-2"}),"Shopify"]}),k(j.integrations.shopify),j.integrations.shopify.connected&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"small",children:[i.jsx("strong",{children:"Store:"})," ",j.integrations.shopify.shopName]}),i.jsxs("div",{className:"small",children:[i.jsx("strong",{children:"Domain:"})," ",j.integrations.shopify.shopDomain]}),i.jsx("button",{className:"btn btn-sm btn-primary mt-2",onClick:S,disabled:p,children:p?i.jsxs(i.Fragment,{children:[i.jsx(zf,{size:14,className:"spinner-border spinner-border-sm me-2"}),"Loading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qo,{size:14,className:"me-2"}),"Load Orders"]})})]})]})})}),i.jsx("div",{className:"col-md-4",children:i.jsx("div",{className:"card",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("h6",{className:"card-title",children:[i.jsx(IK,{size:20,className:"me-2"}),"Amazon"]}),k(j.integrations.amazon),j.integrations.amazon.connected&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"small",children:[i.jsx("strong",{children:"Seller:"})," ",j.integrations.amazon.sellerName]}),i.jsxs("div",{className:"small",children:[i.jsx("strong",{children:"ID:"})," ",j.integrations.amazon.sellerId]}),i.jsx("button",{className:"btn btn-sm btn-primary mt-2",onClick:x,disabled:v,children:v?i.jsxs(i.Fragment,{children:[i.jsx(zf,{size:14,className:"spinner-border spinner-border-sm me-2"}),"Loading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qo,{size:14,className:"me-2"}),"Load Orders"]})})]})]})})}),i.jsx("div",{className:"col-md-4",children:i.jsx("div",{className:"card",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("h6",{className:"card-title",children:[i.jsx(vl,{size:20,className:"me-2"}),"QuickBooks"]}),k(j.integrations.quickbooks),j.integrations.quickbooks.connected&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"small",children:[i.jsx("strong",{children:"Company:"})," ",j.integrations.quickbooks.companyName]}),i.jsxs("div",{className:"small",children:[i.jsx("strong",{children:"ID:"})," ",j.integrations.quickbooks.companyId]}),i.jsx("button",{className:"btn btn-sm btn-primary mt-2",onClick:E,disabled:N,children:N?i.jsxs(i.Fragment,{children:[i.jsx(zf,{size:14,className:"spinner-border spinner-border-sm me-2"}),"Loading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qo,{size:14,className:"me-2"}),"Load Data"]})})]})]})})})]}):null,T=()=>{var L,q,z,B;return i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsxs("ul",{className:"nav nav-tabs card-header-tabs",children:[i.jsx("li",{className:"nav-item",children:i.jsx("button",{className:`nav-link ${n==="shopify"?"active":""}`,onClick:()=>r("shopify"),children:"Shopify Orders"})}),i.jsx("li",{className:"nav-item",children:i.jsx("button",{className:`nav-link ${n==="amazon"?"active":""}`,onClick:()=>r("amazon"),children:"Amazon Orders"})}),i.jsx("li",{className:"nav-item",children:i.jsx("button",{className:`nav-link ${n==="quickbooks"?"active":""}`,onClick:()=>r("quickbooks"),children:"QuickBooks Data"})})]})}),i.jsxs("div",{className:"card-body",children:[n==="shopify"&&i.jsxs("div",{children:[i.jsx("h6",{children:"Shopify Orders"}),f?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-muted",children:["Total Orders: ",((q=(L=f.data)==null?void 0:L.orders)==null?void 0:q.length)||0]}),i.jsx("pre",{className:"bg-light p-3",style:{maxHeight:"400px",overflow:"auto"},children:JSON.stringify(f.data,null,2)})]}):i.jsx("p",{className:"text-muted",children:'Click "Load Orders" to fetch Shopify data'})]}),n==="amazon"&&i.jsxs("div",{children:[i.jsx("h6",{children:"Amazon Orders"}),w?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-muted",children:["Total Orders: ",((B=(z=w.data)==null?void 0:z.orders)==null?void 0:B.length)||0]}),i.jsx("pre",{className:"bg-light p-3",style:{maxHeight:"400px",overflow:"auto"},children:JSON.stringify(w.data,null,2)})]}):i.jsx("p",{className:"text-muted",children:'Click "Load Orders" to fetch Amazon data'})]}),n==="quickbooks"&&i.jsxs("div",{children:[i.jsx("h6",{children:"QuickBooks Data"}),_?i.jsx("pre",{className:"bg-light p-3",style:{maxHeight:"400px",overflow:"auto"},children:JSON.stringify(_.data,null,2)}):i.jsx("p",{className:"text-muted",children:'Click "Load Data" to fetch QuickBooks data'})]})]})]})};return i.jsx("div",{className:"admin-client-viewer",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{children:"Admin Client Viewer"}),i.jsx("p",{className:"text-muted",children:"View client profiles and access their integration data"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"form-label",children:"Select Client"}),i.jsxs("select",{className:"form-select",value:t,onChange:O,disabled:o,children:[i.jsx("option",{value:"",children:"Choose a client..."}),b.map(L=>i.jsxs("option",{value:L.id,children:[L.name||L.email,L.businessName&&` - ${L.businessName}`]},L.id))]})]}),I&&i.jsx("div",{className:"alert alert-danger",role:"alert",children:(I==null?void 0:I.message)||"An error occurred"}),c&&i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),!c&&j&&i.jsxs(i.Fragment,{children:[R(),P(),T()]})]})})},Zee=()=>{var u,h,f,p,g;const[t,e]=m.useState("overview"),n=Tt(),r=Jr(),s=Oe(Ss),{data:o,isLoading:a,error:l}=ST(),c=()=>{r(Xl()),n("/login")};return i.jsxs("div",{className:"dashboard-container",children:[i.jsx("header",{className:"dashboard-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Admin Dashboard"}),i.jsxs("div",{className:"user-section",children:[i.jsxs("span",{className:"welcome-text",children:["Welcome, ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name,"!"]}),i.jsx("span",{className:"role-badge",children:"Super Admin"}),i.jsx("button",{onClick:c,className:"logout-button",children:"Logout"})]})]})}),i.jsx("main",{className:"dashboard-main",children:i.jsxs("div",{className:"dashboard-content",children:[i.jsxs("section",{className:"user-info-card",children:[i.jsx("h2",{children:"Admin Profile"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Name:"}),i.jsxs("span",{children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Email:"}),i.jsx("span",{children:s==null?void 0:s.email})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Role:"}),i.jsx("span",{children:"Super Admin"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Account Status:"}),i.jsx("span",{className:"status-active",children:"Active"})]})]})]}),i.jsxs("section",{className:"stats-section",children:[i.jsx("h2",{children:"System Overview"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:((u=o==null?void 0:o.data)==null?void 0:u.filter(w=>w.role_id==="2").length)||0}),i.jsx("div",{className:"stat-label",children:"Total Staff"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:((h=o==null?void 0:o.data)==null?void 0:h.filter(w=>w.role_id==="2"&&w.active).length)||0}),i.jsx("div",{className:"stat-label",children:"Active Staff"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:((f=o==null?void 0:o.data)==null?void 0:f.filter(w=>w.role_id==="3").length)||0}),i.jsx("div",{className:"stat-label",children:"Total Clients"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:((p=o==null?void 0:o.data)==null?void 0:p.filter(w=>w.active).length)||0}),i.jsx("div",{className:"stat-label",children:"Active Users"})]})]})]}),i.jsxs("section",{className:"admin-actions",children:[i.jsx("h2",{children:"Administration"}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:`action-btn ${t==="staff"?"active":""}`,onClick:()=>e("staff"),children:"Manage Staff"}),i.jsx("button",{className:`action-btn ${t==="overview"?"active":""}`,onClick:()=>e("overview"),children:"Overview"}),i.jsx("button",{className:`action-btn ${t==="users"?"active":""}`,onClick:()=>e("users"),children:"All Users"}),i.jsx("button",{className:`action-btn ${t==="assignments"?"active":""}`,onClick:()=>e("assignments"),children:"Client Assignments"}),i.jsx("button",{className:`action-btn ${t==="client-viewer"?"active":""}`,onClick:()=>e("client-viewer"),children:"Client Viewer"}),i.jsx("button",{className:"action-btn",children:"System Settings"}),i.jsx("button",{className:"action-btn",children:"Reports"})]})]}),t==="staff"&&i.jsx(Lee,{}),t==="assignments"&&i.jsx(Xee,{}),t==="client-viewer"&&i.jsx(Jee,{}),t==="users"&&i.jsxs("section",{className:"users-section",children:[i.jsx("h2",{children:"All System Users"}),a?i.jsx("div",{className:"loading",children:"Loading users..."}):l?i.jsx("div",{className:"error-message",children:"Failed to load users"}):i.jsx("div",{className:"users-table-container",children:i.jsxs("table",{className:"users-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Name"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Phone"}),i.jsx("th",{children:"Role"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Created At"})]})}),i.jsx("tbody",{children:(g=o==null?void 0:o.data)==null?void 0:g.map(w=>i.jsxs("tr",{children:[i.jsxs("td",{children:[w.first_name," ",w.last_name]}),i.jsx("td",{children:w.email}),i.jsx("td",{children:w.phoneNumber||"N/A"}),i.jsx("td",{children:i.jsx("span",{className:"role-tag",children:w.role_id==="1"?"Super Admin":w.role_id==="2"?"Staff":"Client"})}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${w.active?"active":"inactive"}`,children:w.active?"Active":"Inactive"})}),i.jsx("td",{children:new Date(w.createdAt).toLocaleDateString()})]},w._id))})]})})]}),t==="overview"&&i.jsxs(i.Fragment,{children:[i.jsxs("section",{className:"recent-activity",children:[i.jsx("h2",{children:"Recent Activity"}),i.jsxs("div",{className:"activity-list",children:[i.jsxs("div",{className:"activity-item",children:[i.jsx("span",{className:"activity-icon",children:""}),i.jsxs("div",{className:"activity-details",children:[i.jsx("p",{children:"New client registered"}),i.jsx("span",{className:"activity-time",children:"2 hours ago"})]})]}),i.jsxs("div",{className:"activity-item",children:[i.jsx("span",{className:"activity-icon",children:""}),i.jsxs("div",{className:"activity-details",children:[i.jsx("p",{children:"Staff member added"}),i.jsx("span",{className:"activity-time",children:"5 hours ago"})]})]}),i.jsxs("div",{className:"activity-item",children:[i.jsx("span",{className:"activity-icon",children:""}),i.jsxs("div",{className:"activity-details",children:[i.jsx("p",{children:"System backup completed"}),i.jsx("span",{className:"activity-time",children:"1 day ago"})]})]})]})]}),i.jsxs("section",{className:"system-health",children:[i.jsx("h2",{children:"System Health"}),i.jsxs("div",{className:"health-indicators",children:[i.jsxs("div",{className:"health-item",children:[i.jsx("span",{className:"health-status good",children:""}),i.jsx("span",{children:"Database: Operational"})]}),i.jsxs("div",{className:"health-item",children:[i.jsx("span",{className:"health-status good",children:""}),i.jsx("span",{children:"API: Responsive"})]}),i.jsxs("div",{className:"health-item",children:[i.jsx("span",{className:"health-status good",children:""}),i.jsx("span",{children:"Storage: 45% Used"})]})]})]})]})]})})]})},ete=()=>{var f,p,g,w,v,y,_,N,b,j,I,O;const[t,e]=m.useState("clients"),n=Tt(),r=Jr(),s=Oe(Ss),{data:o,isLoading:a,refetch:l}=lU(),{data:c,isLoading:u}=cU(),h=()=>{r(Xl()),n("/login")};return i.jsxs("div",{className:"dashboard-container",children:[i.jsx("header",{className:"dashboard-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Staff Dashboard"}),i.jsxs("div",{className:"user-section",children:[i.jsxs("span",{className:"welcome-text",children:["Welcome, ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name,"!"]}),i.jsx("span",{className:"role-badge",children:"Staff Member"}),i.jsx("button",{onClick:h,className:"logout-button",children:"Logout"})]})]})}),i.jsx("main",{className:"dashboard-main",children:i.jsxs("div",{className:"dashboard-content",children:[i.jsxs("section",{className:"user-info-card",children:[i.jsx("h2",{children:"Staff Profile"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Name:"}),i.jsxs("span",{children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Email:"}),i.jsx("span",{children:s==null?void 0:s.email})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Phone:"}),i.jsx("span",{children:(s==null?void 0:s.phoneNumber)||"Not provided"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Role:"}),i.jsx("span",{children:"Staff Member"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Account Status:"}),i.jsx("span",{className:"status-active",children:"Active"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Created By:"}),i.jsxs("span",{children:[(f=s==null?void 0:s.createdBy)==null?void 0:f.first_name," ",((p=s==null?void 0:s.createdBy)==null?void 0:p.last_name)||"System Admin"]})]})]})]}),i.jsxs("section",{className:"stats-section",children:[i.jsx("h2",{children:"Work Overview"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:((w=(g=c==null?void 0:c.data)==null?void 0:g.stats)==null?void 0:w.assignedClients)||0}),i.jsx("div",{className:"stat-label",children:"Assigned Clients"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:((y=(v=c==null?void 0:c.data)==null?void 0:v.stats)==null?void 0:y.pendingTasks)||0}),i.jsx("div",{className:"stat-label",children:"Pending Tasks"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:((N=(_=c==null?void 0:c.data)==null?void 0:_.stats)==null?void 0:N.completedToday)||0}),i.jsx("div",{className:"stat-label",children:"Completed Today"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:((b=o==null?void 0:o.data)==null?void 0:b.filter(S=>S.active).length)||0}),i.jsx("div",{className:"stat-label",children:"Active Clients"})]})]})]}),i.jsxs("section",{className:"staff-navigation",children:[i.jsx("h2",{children:"Quick Access"}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:`action-btn ${t==="clients"?"active":""}`,onClick:()=>e("clients"),children:"My Clients"}),i.jsx("button",{className:`action-btn ${t==="tasks"?"active":""}`,onClick:()=>e("tasks"),children:"Tasks"}),i.jsx("button",{className:`action-btn ${t==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Schedule"}),i.jsx("button",{className:`action-btn ${t==="reports"?"active":""}`,onClick:()=>e("reports"),children:"Reports"})]})]}),t==="tasks"&&i.jsxs("section",{className:"tasks-section",children:[i.jsx("h2",{children:"My Tasks"}),i.jsx("div",{className:"task-list",children:i.jsxs("div",{className:"empty-state",children:[i.jsx("p",{children:"No tasks assigned yet."}),i.jsx("span",{children:"Tasks assigned by the admin will appear here."})]})})]}),t==="clients"&&i.jsxs("section",{className:"clients-section",children:[i.jsx("h2",{children:"My Assigned Clients"}),a?i.jsx("div",{className:"loading",children:"Loading clients..."}):((j=o==null?void 0:o.data)==null?void 0:j.length)>0?i.jsx("div",{className:"clients-table-container",children:i.jsxs("table",{className:"clients-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Name"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Phone"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Member Since"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:o.data.map(S=>i.jsxs("tr",{children:[i.jsxs("td",{children:[S.first_name," ",S.last_name]}),i.jsx("td",{children:S.email}),i.jsx("td",{children:S.phoneNumber||"N/A"}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${S.active?"active":"inactive"}`,children:S.active?"Active":"Inactive"})}),i.jsx("td",{children:new Date(S.createdAt).toLocaleDateString()}),i.jsx("td",{children:i.jsx("button",{className:"btn-primary-small",children:"View Details"})})]},S._id))})]})}):i.jsxs("div",{className:"empty-state",children:[i.jsx("p",{children:"No clients assigned to you yet."}),i.jsx("span",{children:"Clients assigned by the admin will appear here."})]})]}),t==="schedule"&&i.jsxs("section",{className:"schedule-section",children:[i.jsx("h2",{children:"My Schedule"}),i.jsxs("div",{className:"schedule-view",children:[i.jsx("div",{className:"schedule-header",children:i.jsxs("h3",{children:["Today - ",new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})}),i.jsx("div",{className:"schedule-content",children:i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No scheduled items for today."})})})]})]}),t==="reports"&&i.jsxs("section",{className:"reports-section",children:[i.jsx("h2",{children:"My Reports"}),i.jsxs("div",{className:"reports-summary",children:[i.jsxs("div",{className:"report-card",children:[i.jsx("h3",{children:"Weekly Summary"}),i.jsxs("div",{className:"report-stats",children:[i.jsxs("div",{className:"report-item",children:[i.jsx("span",{className:"report-label",children:"Tasks Completed:"}),i.jsx("span",{className:"report-value",children:"0"})]}),i.jsxs("div",{className:"report-item",children:[i.jsx("span",{className:"report-label",children:"Clients Served:"}),i.jsx("span",{className:"report-value",children:"0"})]}),i.jsxs("div",{className:"report-item",children:[i.jsx("span",{className:"report-label",children:"Hours Logged:"}),i.jsx("span",{className:"report-value",children:"0"})]})]})]}),i.jsxs("div",{className:"report-card",children:[i.jsx("h3",{children:"Monthly Performance"}),i.jsxs("div",{className:"report-stats",children:[i.jsxs("div",{className:"report-item",children:[i.jsx("span",{className:"report-label",children:"Total Tasks:"}),i.jsx("span",{className:"report-value",children:"0"})]}),i.jsxs("div",{className:"report-item",children:[i.jsx("span",{className:"report-label",children:"Completion Rate:"}),i.jsx("span",{className:"report-value",children:"N/A"})]}),i.jsxs("div",{className:"report-item",children:[i.jsx("span",{className:"report-label",children:"Client Satisfaction:"}),i.jsx("span",{className:"report-value",children:"N/A"})]})]})]})]})]}),((O=(I=c==null?void 0:c.data)==null?void 0:I.recentClients)==null?void 0:O.length)>0&&i.jsxs("section",{className:"recent-clients",children:[i.jsx("h2",{children:"Recent Clients"}),i.jsx("div",{className:"recent-clients-list",children:c.data.recentClients.map(S=>i.jsxs("div",{className:"recent-client-card",children:[i.jsxs("div",{className:"client-info",children:[i.jsxs("h4",{children:[S.first_name," ",S.last_name]}),i.jsx("p",{children:S.email}),S.phoneNumber&&i.jsxs("p",{children:[" ",S.phoneNumber]})]}),i.jsx("span",{className:`status-badge ${S.active?"active":"inactive"}`,children:S.active?"Active":"Inactive"})]},S._id))})]}),i.jsx("style",{jsx:!0,children:`
            .clients-table {
              width: 100%;
              border-collapse: collapse;
            }
            
            .clients-table th,
            .clients-table td {
              padding: 12px;
              text-align: left;
              border-bottom: 1px solid #eee;
            }
            
            .clients-table th {
              background: #f5f5f5;
              font-weight: 600;
            }
            
            .status-badge {
              padding: 4px 8px;
              border-radius: 4px;
              font-size: 12px;
              font-weight: 500;
            }
            
            .status-badge.active {
              background: #e8f5e9;
              color: #2e7d32;
            }
            
            .status-badge.inactive {
              background: #ffebee;
              color: #c62828;
            }
            
            .btn-primary-small {
              padding: 4px 12px;
              background: #2196F3;
              color: white;
              border: none;
              border-radius: 4px;
              cursor: pointer;
              font-size: 12px;
            }
            
            .btn-primary-small:hover {
              background: #1976D2;
            }
            
            .recent-clients {
              margin-top: 30px;
            }
            
            .recent-clients-list {
              display: grid;
              gap: 15px;
              margin-top: 15px;
            }
            
            .recent-client-card {
              background: white;
              padding: 15px;
              border-radius: 8px;
              box-shadow: 0 2px 4px rgba(0,0,0,0.1);
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            
            .client-info h4 {
              margin: 0 0 5px 0;
              color: #333;
            }
            
            .client-info p {
              margin: 3px 0;
              color: #666;
              font-size: 14px;
            }
            
            .empty-state {
              text-align: center;
              padding: 40px 20px;
              color: #666;
            }
            
            .empty-state p {
              font-size: 16px;
              margin-bottom: 5px;
            }
            
            .empty-state span {
              font-size: 14px;
              color: #999;
            }
          `})]})})]})},tte=()=>{var h,f,p;const[t,e]=m.useState({createdAfter:new Date(Date.now()-2592e6).toISOString().split("T")[0],createdBefore:new Date().toISOString().split("T")[0]}),{data:n,isLoading:r,error:s,refetch:o}=kU({createdAfter:t.createdAfter+"T00:00:00Z",createdBefore:t.createdBefore+"T23:59:59Z",maxResults:100}),a=((h=n==null?void 0:n.data)==null?void 0:h.Orders)||[],l=g=>{e({...t,[g.target.name]:g.target.value})},c=g=>({Unshipped:"#ff9800",PartiallyShipped:"#2196f3",Shipped:"#4caf50",Canceled:"#f44336",Unfulfillable:"#9e9e9e"})[g]||"#757575",u=(g,w)=>g?new Intl.NumberFormat("en-US",{style:"currency",currency:w||"USD"}).format(g):"N/A";return r?i.jsx("div",{className:"amazon-orders-container",children:i.jsx("div",{className:"loading",children:"Loading orders..."})}):s?i.jsx("div",{className:"amazon-orders-container",children:i.jsxs("div",{className:"error",children:["Failed to load orders: ",((f=s==null?void 0:s.data)==null?void 0:f.message)||"Unknown error",i.jsx("button",{onClick:o,className:"retry-btn",children:"Retry"})]})}):i.jsxs("div",{className:"amazon-orders-container",children:[i.jsxs("div",{className:"orders-header",children:[i.jsx("h3",{children:"Amazon Orders"}),i.jsxs("div",{className:"date-filters",children:[i.jsxs("div",{className:"date-input-group",children:[i.jsx("label",{children:"From:"}),i.jsx("input",{type:"date",name:"createdAfter",value:t.createdAfter,onChange:l,max:t.createdBefore})]}),i.jsxs("div",{className:"date-input-group",children:[i.jsx("label",{children:"To:"}),i.jsx("input",{type:"date",name:"createdBefore",value:t.createdBefore,onChange:l,min:t.createdAfter,max:new Date().toISOString().split("T")[0]})]}),i.jsx("button",{onClick:o,className:"refresh-btn",children:" Refresh"})]})]}),a.length===0?i.jsx("div",{className:"no-orders",children:"No orders found for the selected date range."}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"orders-summary",children:[i.jsxs("div",{className:"summary-card",children:[i.jsx("span",{className:"summary-label",children:"Total Orders"}),i.jsx("span",{className:"summary-value",children:a.length})]}),i.jsxs("div",{className:"summary-card",children:[i.jsx("span",{className:"summary-label",children:"Unshipped"}),i.jsx("span",{className:"summary-value",children:a.filter(g=>g.OrderStatus==="Unshipped").length})]}),i.jsxs("div",{className:"summary-card",children:[i.jsx("span",{className:"summary-label",children:"Shipped"}),i.jsx("span",{className:"summary-value",children:a.filter(g=>g.OrderStatus==="Shipped").length})]})]}),i.jsx("div",{className:"orders-table-container",children:i.jsxs("table",{className:"orders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Order ID"}),i.jsx("th",{children:"Purchase Date"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Customer"}),i.jsx("th",{children:"Total"}),i.jsx("th",{children:"Items"}),i.jsx("th",{children:"Ship By"}),i.jsx("th",{children:"Fulfillment"})]})}),i.jsx("tbody",{children:a.map(g=>{var w,v,y,_;return i.jsxs("tr",{children:[i.jsx("td",{className:"order-id",children:g.AmazonOrderId}),i.jsx("td",{children:new Date(g.PurchaseDate).toLocaleDateString()}),i.jsx("td",{children:i.jsx("span",{className:"status-badge",style:{backgroundColor:c(g.OrderStatus)},children:g.OrderStatus})}),i.jsx("td",{children:((w=g.BuyerInfo)==null?void 0:w.BuyerName)||"N/A"}),i.jsx("td",{className:"order-total",children:u((v=g.OrderTotal)==null?void 0:v.Amount,(y=g.OrderTotal)==null?void 0:y.CurrencyCode)}),i.jsxs("td",{children:[g.NumberOfItemsShipped||0," / ",g.NumberOfItemsUnshipped||0]}),i.jsx("td",{children:g.LatestShipDate?new Date(g.LatestShipDate).toLocaleDateString():"N/A"}),i.jsx("td",{children:i.jsx("span",{className:`fulfillment-type ${(_=g.FulfillmentChannel)==null?void 0:_.toLowerCase()}`,children:g.FulfillmentChannel||"MFN"})})]},g.AmazonOrderId)})})]})}),((p=n==null?void 0:n.data)==null?void 0:p.NextToken)&&i.jsxs("div",{className:"pagination-info",children:["More orders available. Showing first ",a.length," results."]})]})]})},nte=()=>{var g,w,v,y,_,N,b,j;const{data:t,isLoading:e,refetch:n}=jU(),[r,{isLoading:s}]=EU(),[o,{isLoading:a}]=CU(),[l,c]=m.useState(!1),u=(g=t==null?void 0:t.data)==null?void 0:g.connected,h=async()=>{var I;try{const O=await r().unwrap();(I=O==null?void 0:O.data)!=null&&I.authUrl&&(window.location.href=O.data.authUrl)}catch(O){console.error("Failed to get Amazon authorization URL:",O),alert("Failed to connect to Amazon. Please try again.")}},f=async()=>{if(window.confirm("Are you sure you want to disconnect your Amazon seller account?"))try{await o().unwrap(),c(!1),n(),alert("Amazon account disconnected successfully")}catch(I){console.error("Failed to disconnect Amazon:",I),alert("Failed to disconnect Amazon account. Please try again.")}},p=()=>{c(!l)};return e?i.jsx("div",{className:"amazon-integration-container",children:i.jsx("div",{className:"loading",children:"Checking Amazon connection status..."})}):i.jsxs("div",{className:"amazon-integration-container",children:[i.jsxs("div",{className:"amazon-header",children:[i.jsx("h2",{children:"Amazon Seller Integration"}),u&&i.jsxs("span",{className:"connection-status connected",children:[i.jsx("span",{className:"status-dot"}),"Connected"]})]}),u?i.jsxs("div",{className:"amazon-connected-section",children:[i.jsxs("div",{className:"connection-details",children:[i.jsxs("div",{className:"seller-info",children:[i.jsx("h3",{children:"Seller Information"}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Seller ID:"}),i.jsx("span",{className:"value",children:(w=t==null?void 0:t.data)==null?void 0:w.sellerId})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Seller Name:"}),i.jsx("span",{className:"value",children:(v=t==null?void 0:t.data)==null?void 0:v.sellerName})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Email:"}),i.jsx("span",{className:"value",children:(y=t==null?void 0:t.data)==null?void 0:y.sellerEmail})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Marketplace:"}),i.jsx("span",{className:"value",children:((N=(_=t==null?void 0:t.data)==null?void 0:_.marketplaceIds)==null?void 0:N.join(", "))||"US"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Last Synced:"}),i.jsx("span",{className:"value",children:(b=t==null?void 0:t.data)!=null&&b.lastSyncedAt?new Date(t.data.lastSyncedAt).toLocaleString():"Never"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Connected Since:"}),i.jsx("span",{className:"value",children:(j=t==null?void 0:t.data)!=null&&j.connectedSince?new Date(t.data.connectedSince).toLocaleDateString():"N/A"})]})]}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"view-orders-btn",onClick:p,children:l?"Hide Orders":"View Orders"}),i.jsx("button",{className:"disconnect-btn",onClick:f,disabled:a,children:a?"Disconnecting...":"Disconnect Amazon"})]})]}),l&&i.jsx(tte,{})]}):i.jsxs("div",{className:"amazon-connect-section",children:[i.jsxs("div",{className:"connect-info",children:[i.jsx("h3",{children:"Connect Your Amazon Seller Account"}),i.jsx("p",{children:"Connect your Amazon Seller account to view and manage your orders, inventory, and sales data directly from this dashboard."}),i.jsxs("ul",{className:"benefits-list",children:[i.jsx("li",{children:" View and manage orders"}),i.jsx("li",{children:" Track inventory levels"}),i.jsx("li",{children:" Monitor financial data"}),i.jsx("li",{children:" Generate sales reports"})]})]}),i.jsx("button",{className:"amazon-connect-btn",onClick:h,disabled:s,children:s?"Connecting...":"Connect with Amazon"})]})]})},rte=()=>{var T,L,q,z,B,D,F,W,X,Z;const[t,e]=m.useState(""),[n,r]=m.useState(!1),[s,o]=m.useState(!1),[a,l]=m.useState({maxResults:10,createdAfter:new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0]}),{data:c,isLoading:u,refetch:h}=PU(),[f,{isLoading:p}]=IU(),[g,{isLoading:w}]=AU(),[v,{data:y}]=DU(),{data:_,isLoading:N,refetch:b}=RU(a,{skip:!n||!((T=c==null?void 0:c.data)!=null&&T.connected)}),{data:j,isLoading:I,refetch:O}=OU({},{skip:!s||!((L=c==null?void 0:c.data)!=null&&L.connected)}),S=(q=c==null?void 0:c.data)==null?void 0:q.connected;(z=c==null?void 0:c.data)==null||z.isSandbox;const x=async()=>{var $;try{const V=await f(t?{refreshToken:t}:{}).unwrap();V.success?(alert("Sandbox initialized successfully!"),e(""),h()):alert(`Failed to initialize: ${V.message}`)}catch(K){console.error("Initialize error:",K),alert(`Error: ${(($=K.data)==null?void 0:$.message)||K.message}`)}},E=async()=>{var $;if(confirm("Are you sure you want to reset the sandbox configuration?"))try{(await g().unwrap()).success&&(alert("Sandbox reset successfully!"),r(!1),o(!1),h())}catch(K){console.error("Reset error:",K),alert(`Error: ${(($=K.data)==null?void 0:$.message)||K.message}`)}},k=async()=>{var $;try{const K=await v().unwrap();K.success&&K.data.tokenValid?alert("Connection test successful! Token is valid."):alert("Connection test failed! Token may be invalid.")}catch(K){console.error("Test error:",K),alert(`Test failed: ${(($=K.data)==null?void 0:$.message)||K.message}`)}},R=$=>$?new Date($).toLocaleString():"N/A",P=($,K="USD")=>$==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:K}).format($);return i.jsxs("div",{className:"amazon-sandbox-container",children:[i.jsxs("div",{className:"sandbox-header",children:[i.jsx("h2",{children:" Amazon Sandbox Testing"}),i.jsx("div",{className:"sandbox-badge",children:"SANDBOX MODE"})]}),i.jsxs("div",{className:"sandbox-section",children:[i.jsx("h3",{children:"Connection Status"}),u?i.jsx("div",{className:"loading",children:"Loading status..."}):i.jsxs("div",{className:"status-grid",children:[i.jsxs("div",{className:"status-item",children:[i.jsx("span",{className:"status-label",children:"Connected:"}),i.jsx("span",{className:`status-value ${S?"connected":"disconnected"}`,children:S?" Yes":" No"})]}),S&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"status-item",children:[i.jsx("span",{className:"status-label",children:"Seller ID:"}),i.jsx("span",{className:"status-value",children:(B=c==null?void 0:c.data)==null?void 0:B.sellerId})]}),i.jsxs("div",{className:"status-item",children:[i.jsx("span",{className:"status-label",children:"Marketplaces:"}),i.jsx("span",{className:"status-value",children:(F=(D=c==null?void 0:c.data)==null?void 0:D.marketplaceIds)==null?void 0:F.join(", ")})]}),i.jsxs("div",{className:"status-item",children:[i.jsx("span",{className:"status-label",children:"Last Synced:"}),i.jsx("span",{className:"status-value",children:R((W=c==null?void 0:c.data)==null?void 0:W.lastSyncedAt)})]}),i.jsxs("div",{className:"status-item",children:[i.jsx("span",{className:"status-label",children:"Token Expired:"}),i.jsx("span",{className:`status-value ${(X=c==null?void 0:c.data)!=null&&X.tokenExpired?"error":"success"}`,children:(Z=c==null?void 0:c.data)!=null&&Z.tokenExpired?" Yes":" No"})]})]})]})]}),!S&&i.jsxs("div",{className:"sandbox-section",children:[i.jsx("h3",{children:"Initialize Sandbox"}),i.jsxs("div",{className:"init-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"refreshToken",children:"Refresh Token (Optional - uses env variable if not provided):"}),i.jsx("input",{type:"text",id:"refreshToken",value:t,onChange:$=>e($.target.value),placeholder:"Atzr|...",className:"token-input"})]}),i.jsx("button",{onClick:x,disabled:p,className:"btn btn-primary",children:p?"Initializing...":"Initialize Sandbox"})]})]}),S&&i.jsxs("div",{className:"sandbox-section",children:[i.jsx("h3",{children:"Actions"}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{onClick:k,className:"btn btn-secondary",children:"Test Connection"}),i.jsx("button",{onClick:()=>r(!n),className:`btn ${n?"btn-active":"btn-secondary"}`,children:n?"Hide Orders":"Show Orders"}),i.jsx("button",{onClick:()=>o(!s),className:`btn ${s?"btn-active":"btn-secondary"}`,children:s?"Hide Inventory":"Show Inventory"}),i.jsx("button",{onClick:E,disabled:w,className:"btn btn-danger",children:w?"Resetting...":"Reset Sandbox"})]})]}),n&&S&&i.jsxs("div",{className:"sandbox-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Orders"}),i.jsx("button",{onClick:()=>b(),className:"btn-small",children:"Refresh"})]}),i.jsxs("div",{className:"filters",children:[i.jsx("input",{type:"date",value:a.createdAfter,onChange:$=>l({...a,createdAfter:$.target.value}),className:"filter-input"}),i.jsx("input",{type:"number",value:a.maxResults,onChange:$=>l({...a,maxResults:$.target.value}),placeholder:"Max Results",min:"1",max:"100",className:"filter-input"})]}),(()=>{var K,V;if(console.log("Full Orders Response:",_),console.log("Orders success?:",_==null?void 0:_.success),console.log("Orders data field:",_==null?void 0:_.data),console.log("Orders Array:",(K=_==null?void 0:_.data)==null?void 0:K.Orders),N)return i.jsx("div",{className:"loading",children:"Loading orders..."});const $=(V=_==null?void 0:_.data)==null?void 0:V.Orders;return!$||!Array.isArray($)||$.length===0?i.jsx("div",{className:"no-data",children:"No orders found"}):i.jsx("div",{className:"orders-list",children:$.map(H=>{var U,J,Q;return i.jsxs("div",{className:"order-card",children:[i.jsxs("div",{className:"order-header",children:[i.jsx("span",{className:"order-id",children:H.AmazonOrderId}),i.jsx("span",{className:`order-status status-${(U=H.OrderStatus)==null?void 0:U.toLowerCase()}`,children:H.OrderStatus})]}),i.jsxs("div",{className:"order-details",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{children:"Purchase Date:"}),i.jsx("span",{children:R(H.PurchaseDate)})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:P((J=H.OrderTotal)==null?void 0:J.Amount,(Q=H.OrderTotal)==null?void 0:Q.CurrencyCode)})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{children:"Items:"}),i.jsxs("span",{children:[H.NumberOfItemsShipped||0," shipped, ",H.NumberOfItemsUnshipped||0," unshipped"]})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{children:"Fulfillment:"}),i.jsx("span",{children:H.FulfillmentChannel})]})]})]},H.AmazonOrderId)})})})()]}),s&&S&&i.jsxs("div",{className:"sandbox-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Inventory"}),i.jsx("button",{onClick:()=>O(),className:"btn-small",children:"Refresh"})]}),(()=>{var K,V;if(console.log("Full Inventory Response:",j),console.log("Inventory data field:",j==null?void 0:j.data),console.log("Inventory Array:",(K=j==null?void 0:j.data)==null?void 0:K.inventorySummaries),I)return i.jsx("div",{className:"loading",children:"Loading inventory..."});const $=(V=j==null?void 0:j.data)==null?void 0:V.inventorySummaries;return!$||!Array.isArray($)||$.length===0?i.jsx("div",{className:"no-data",children:"No inventory found"}):i.jsx("div",{className:"inventory-list",children:$.map((H,U)=>i.jsxs("div",{className:"inventory-card",children:[i.jsxs("div",{className:"inventory-header",children:[i.jsx("span",{className:"sku",children:H.sellerSku}),i.jsx("span",{className:"asin",children:H.asin})]}),i.jsxs("div",{className:"inventory-details",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{children:"Fulfillable:"}),i.jsx("span",{className:"quantity",children:H.totalQuantity||0})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{children:"Condition:"}),i.jsx("span",{children:H.condition||"N/A"})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{children:"Product Name:"}),i.jsx("span",{children:H.productName||"N/A"})]})]})]},U))})})()]}),y&&i.jsxs("div",{className:"sandbox-section",children:[i.jsx("h3",{children:"Test Result"}),i.jsx("pre",{className:"test-result",children:JSON.stringify(y,null,2)})]})]})},ste=()=>{var v,y,_,N;const[t,e]=m.useState({status:"any",limit:20}),{data:n,isLoading:r,error:s,refetch:o}=HU(t),a=((v=n==null?void 0:n.data)==null?void 0:v.orders)||[],l=((y=n==null?void 0:n.data)==null?void 0:y.pagination)||{},c=((_=n==null?void 0:n.data)==null?void 0:_.store)||{},u=(b,j="USD")=>b==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:j}).format(b),h=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",f=b=>({pending:"status-pending",paid:"status-paid",partially_paid:"status-partial",refunded:"status-refunded",voided:"status-voided",authorized:"status-authorized"})[b]||"status-default",p=b=>b==="fulfilled"?"status-fulfilled":b==="partial"?"status-partial":b==="unfulfilled"||!b?"status-unfulfilled":"status-default",g=(b,j)=>{e(I=>({...I,[b]:j}))},w=b=>{e(j=>({...j,page_info:b}))};return r?i.jsx("div",{className:"shopify-orders-container",children:i.jsxs("div",{className:"loading-state",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Loading orders..."})]})}):s?i.jsx("div",{className:"shopify-orders-container",children:i.jsxs("div",{className:"error-state",children:[i.jsx("span",{className:"error-icon",children:""}),i.jsx("p",{children:"Failed to load orders"}),i.jsx("small",{children:((N=s==null?void 0:s.data)==null?void 0:N.message)||(s==null?void 0:s.message)||"Unknown error occurred"}),i.jsx("button",{onClick:o,className:"retry-btn",children:"Try Again"})]})}):i.jsxs("div",{className:"shopify-orders-container",children:[i.jsxs("div",{className:"orders-header",children:[i.jsxs("h3",{children:[" Orders (",a.length,")"]}),i.jsxs("div",{className:"orders-filters",children:[i.jsxs("select",{value:t.status,onChange:b=>g("status",b.target.value),className:"filter-select",children:[i.jsx("option",{value:"any",children:"All Orders"}),i.jsx("option",{value:"open",children:"Open"}),i.jsx("option",{value:"closed",children:"Closed"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]}),i.jsxs("select",{value:t.limit,onChange:b=>g("limit",parseInt(b.target.value)),className:"filter-select",children:[i.jsx("option",{value:"10",children:"10 per page"}),i.jsx("option",{value:"20",children:"20 per page"}),i.jsx("option",{value:"50",children:"50 per page"}),i.jsx("option",{value:"100",children:"100 per page"})]}),i.jsx("button",{onClick:o,className:"refresh-btn",title:"Refresh orders",children:" Refresh"})]})]}),a.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("span",{className:"empty-icon",children:""}),i.jsx("p",{children:"No orders found"}),i.jsx("small",{children:"Try adjusting your filters or check back later"})]}):i.jsx("div",{className:"orders-table-wrapper",children:i.jsxs("table",{className:"orders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Order #"}),i.jsx("th",{children:"Date"}),i.jsx("th",{children:"Customer"}),i.jsx("th",{children:"Total"}),i.jsx("th",{children:"Payment"}),i.jsx("th",{children:"Fulfillment"}),i.jsx("th",{children:"Items"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:a.map(b=>{var j,I;return i.jsxs("tr",{children:[i.jsxs("td",{className:"order-number",children:[i.jsxs("strong",{children:["#",b.order_number||((j=b.name)==null?void 0:j.replace("#",""))]}),b.name&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("small",{className:"text-muted",children:b.name})]})]}),i.jsx("td",{className:"order-date",children:h(b.created_at)}),i.jsx("td",{className:"customer-info",children:b.customer?i.jsxs(i.Fragment,{children:[i.jsxs("strong",{children:[b.customer.first_name," ",b.customer.last_name]}),b.customer.email&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("small",{children:b.customer.email})]})]}):b.email?i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Guest Customer"}),i.jsx("br",{}),i.jsx("small",{children:b.email})]}):i.jsx("span",{className:"text-muted",children:"Guest"})}),i.jsxs("td",{className:"order-total",children:[i.jsx("strong",{children:u(b.total_price||b.current_total_price,b.currency)}),b.total_discounts&&parseFloat(b.total_discounts)>0&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsxs("small",{className:"discount",children:["-",u(b.total_discounts,b.currency)," discount"]})]})]}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${f(b.financial_status)}`,children:b.financial_status||"pending"})}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${p(b.fulfillment_status)}`,children:b.fulfillment_status||"unfulfilled"})}),i.jsxs("td",{className:"order-items",children:[((I=b.line_items)==null?void 0:I.length)||0," items"]}),i.jsx("td",{className:"order-actions",children:i.jsx("button",{className:"action-btn view-btn",onClick:()=>{var S,x;const O=(c==null?void 0:c.shopDomain)||((x=(S=n==null?void 0:n.data)==null?void 0:S.store)==null?void 0:x.shopDomain);O?window.open(`https://${O}/admin/orders/${b.id}`,"_blank"):alert("Unable to open order in Shopify admin")},title:"View in Shopify Admin",children:" View"})})]},b.id)})})]})}),(l.previous||l.next)&&i.jsxs("div",{className:"pagination",children:[i.jsx("button",{disabled:!l.previous,onClick:()=>w(l.previous),className:"pagination-btn",children:" Previous"}),i.jsxs("span",{className:"pagination-info",children:["Page ",t.page_info?"...":"1"]}),i.jsx("button",{disabled:!l.next,onClick:()=>w(l.next),className:"pagination-btn",children:"Next "})]})]})},ite=()=>{var I,O;const{data:t,isLoading:e,refetch:n}=qU(),[r,{isLoading:s}]=GU(),[o,{isLoading:a}]=WU(),[l,c]=m.useState(""),[u,h]=m.useState(!1),[f,p]=m.useState(null),[g,w]=m.useState(""),v=(I=t==null?void 0:t.data)==null?void 0:I.connected,y=(O=t==null?void 0:t.data)==null?void 0:O.store;m.useEffect(()=>{y!=null&&y.shopDomain&&!g&&(w(y.shopDomain),!v&&y.shopDomain&&c(y.shopDomain))},[y,g,v]),m.useEffect(()=>{if(f){const S=setTimeout(()=>p(null),5e3);return()=>clearTimeout(S)}},[f]);const _=S=>{let x=S.trim().toLowerCase();return x=x.replace(/^https?:\/\//,""),x.includes(".myshopify.com")||x.includes(".")||(x=`${x}.myshopify.com`),x},N=async()=>{var S,x;if(!l){p("Please enter your shop domain");return}try{p(null);const E=_(l);console.log("Requesting auth URL for shop:",E);const k=await r(E).unwrap();console.log("Auth URL response:",k),(S=k==null?void 0:k.data)!=null&&S.authUrl?(console.log("Redirecting to:",k.data.authUrl),window.location.href=k.data.authUrl):k!=null&&k.authUrl?(console.log("Redirecting to:",k.authUrl),window.location.href=k.authUrl):(console.error("No auth URL in response:",k),p("Failed to get authorization URL from server."))}catch(E){console.error("Failed to get Shopify authorization URL:",E),p(((x=E==null?void 0:E.data)==null?void 0:x.message)||"Failed to connect to Shopify. Please check your shop domain and try again.")}},b=async()=>{if(window.confirm("Are you sure you want to disconnect your Shopify store?"))try{console.log("Disconnecting Shopify store...");const S=y==null?void 0:y.shopDomain;await o().unwrap(),h(!1),S&&(c(S),w(S)),setTimeout(()=>{n()},500),p(null),console.log(" Shopify store disconnected successfully")}catch(S){console.error("Failed to disconnect Shopify:",S),p("Failed to disconnect Shopify store. Please try again.")}},j=()=>{h(!u)};return e?i.jsx("div",{className:"shopify-integration-container",children:i.jsx("div",{className:"loading",children:"Checking Shopify connection status..."})}):i.jsxs("div",{className:"shopify-integration-container",children:[i.jsxs("div",{className:"shopify-header",children:[i.jsx("h2",{children:" Shopify Store Integration"}),v&&i.jsxs("span",{className:"connection-status connected",children:[i.jsx("span",{className:"status-dot"}),"Connected"]})]}),f&&i.jsxs("div",{className:"error-message",children:[i.jsx("span",{className:"error-icon",children:""}),f]}),v?i.jsxs("div",{className:"shopify-connected-section",children:[i.jsxs("div",{className:"connection-details",children:[i.jsxs("div",{className:"store-info",children:[i.jsx("h3",{children:"Store Information"}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Store Name:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.shopName)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Domain:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.shopDomain)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Email:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.shopEmail)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Plan:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.shopPlan)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Country:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.shopCountry)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Currency:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.shopCurrency)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Last Synced:"}),i.jsx("span",{className:"value",children:y!=null&&y.lastSyncedAt?new Date(y.lastSyncedAt).toLocaleString():"Never"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Connected Since:"}),i.jsx("span",{className:"value",children:y!=null&&y.connectedAt?new Date(y.connectedAt).toLocaleDateString():"N/A"})]})]}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"view-orders-btn",onClick:j,children:u?"Hide Orders":"View Orders"}),i.jsx("button",{className:"disconnect-btn",onClick:b,disabled:a,children:a?"Disconnecting...":"Disconnect Shopify"})]})]}),u&&i.jsx(ste,{})]}):i.jsxs("div",{className:"shopify-connect-section",children:[i.jsxs("div",{className:"connect-info",children:[i.jsx("h3",{children:"Connect Your Shopify Store"}),i.jsx("p",{children:"Connect your Shopify store to view and manage orders directly from this dashboard."}),i.jsxs("ul",{className:"benefits-list",children:[i.jsx("li",{children:" View and manage orders"}),i.jsx("li",{children:" Real-time order sync"}),i.jsx("li",{children:" Order analytics and insights"}),i.jsx("li",{children:" Streamlined workflow"})]})]}),i.jsxs("div",{className:"connect-form",children:[i.jsx("label",{htmlFor:"shop-domain",children:"Store Domain"}),i.jsx("input",{id:"shop-domain",type:"text",placeholder:"your-store.myshopify.com",value:l,onChange:S=>c(S.target.value),onKeyPress:S=>S.key==="Enter"&&N(),className:"shop-domain-input"}),i.jsx("span",{className:"input-hint",children:g?`Previously connected: ${g}`:"Enter your Shopify store domain (e.g., store-name.myshopify.com)"}),i.jsx("button",{className:"shopify-connect-btn",onClick:N,disabled:s||!l,children:s?"Connecting...":"Connect with Shopify"})]})]})]})},ote=({activeTab:t})=>{const[e,n]=m.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),{data:r,isLoading:s,error:o,refetch:a}=ET({startDate:e.startDate,endDate:e.endDate},{skip:t!=="invoices"}),{data:l,isLoading:c,error:u,refetch:h}=TT({limit:100},{skip:t!=="customers"}),{data:f,isLoading:p,error:g,refetch:w}=IT({startDate:e.startDate,endDate:e.endDate},{skip:t!=="expenses"}),{data:v,isLoading:y,error:_}=PT({startDate:e.startDate,endDate:e.endDate},{skip:t!=="reports"}),{data:N,isLoading:b,error:j}=AT({startDate:e.startDate,endDate:e.endDate},{skip:t!=="reports"}),[I,{isLoading:O}]=kp(),S=async()=>{try{switch(await I().unwrap(),t){case"invoices":a();break;case"customers":h();break;case"expenses":w();break;default:break}alert("QuickBooks data synced successfully!")}catch(B){console.error("Sync failed:",B),alert("Failed to sync QuickBooks data. Please try again.")}},x=B=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(B||0),E=B=>{if(B==null||B==="")return"";const D=Number(B);return Number.isFinite(D)?x(D):B},k=B=>B?new Date(B).toLocaleDateString():"N/A",R=()=>i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Loading QuickBooks data..."})]}),P=B=>{var D;return i.jsxs("div",{className:"error-container",children:[i.jsx("span",{className:"error-icon",children:""}),i.jsxs("p",{children:["Error loading data: ",((D=B==null?void 0:B.data)==null?void 0:D.message)||(B==null?void 0:B.message)||"Unknown error"]}),i.jsx("button",{onClick:S,className:"retry-btn",children:"Retry"})]})},T=()=>{if(s)return R();if(o)return P(o);const B=(r==null?void 0:r.data.invoices)||[];return i.jsxs("div",{className:"data-content",children:[i.jsxs("div",{className:"data-header",children:[i.jsx("h3",{children:"Invoices"}),i.jsxs("div",{className:"header-actions",children:[i.jsx("input",{type:"date",value:e.startDate,onChange:D=>n({...e,startDate:D.target.value}),className:"date-input"}),i.jsx("span",{children:"to"}),i.jsx("input",{type:"date",value:e.endDate,onChange:D=>n({...e,endDate:D.target.value}),className:"date-input"}),i.jsx("button",{onClick:S,disabled:O,className:"sync-btn",children:O?"Syncing...":" Sync"})]})]}),B.length===0?i.jsx("div",{className:"no-data",children:i.jsx("p",{children:"No invoices found for the selected date range."})}):i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"data-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Invoice #"}),i.jsx("th",{children:"Customer"}),i.jsx("th",{children:"Date"}),i.jsx("th",{children:"Due Date"}),i.jsx("th",{children:"Amount"}),i.jsx("th",{children:"Balance"}),i.jsx("th",{children:"Status"})]})}),i.jsx("tbody",{children:B==null?void 0:B.map(D=>i.jsxs("tr",{children:[i.jsx("td",{children:D.DocNumber||"N/A"}),i.jsx("td",{children:D.CustomerRef.name||"N/A"}),i.jsx("td",{children:k(D.TxnDate)}),i.jsx("td",{children:k(D.DueDate)}),i.jsx("td",{children:x(D.TotalAmt)}),i.jsx("td",{children:x(D.Balance)}),i.jsx("td",{children:i.jsx("span",{className:`status ${D.Balance>0?"unpaid":"paid"}`,children:D.Balance>0?"Unpaid":"Paid"})})]},D.Id))})]})}),B.length>0&&i.jsxs("div",{className:"summary",children:[i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Total Invoices:"}),i.jsx("strong",{children:B.length})]}),i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Total Amount:"}),i.jsx("strong",{children:x(B.reduce((D,F)=>D+F.TotalAmt,0))})]}),i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Outstanding Balance:"}),i.jsx("strong",{children:x(B.reduce((D,F)=>D+F.Balance,0))})]})]})]})},L=()=>{if(c)return R();if(u)return P(u);const B=(l==null?void 0:l.data.customers)||[];return i.jsxs("div",{className:"data-content",children:[i.jsxs("div",{className:"data-header",children:[i.jsx("h3",{children:"Customers"}),i.jsx("div",{className:"header-actions",children:i.jsx("button",{onClick:S,disabled:O,className:"sync-btn",children:O?"Syncing...":" Sync"})})]}),B.length===0?i.jsx("div",{className:"no-data",children:i.jsx("p",{children:"No customers found."})}):i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"data-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Name"}),i.jsx("th",{children:"Company"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Phone"}),i.jsx("th",{children:"Balance"}),i.jsx("th",{children:"Status"})]})}),i.jsx("tbody",{children:B==null?void 0:B.map(D=>{var F,W;return i.jsxs("tr",{children:[i.jsx("td",{children:D.DisplayName||"N/A"}),i.jsx("td",{children:D.CompanyName||"-"}),i.jsx("td",{children:((F=D.PrimaryEmailAddr)==null?void 0:F.Address)||"-"}),i.jsx("td",{children:((W=D.PrimaryPhone)==null?void 0:W.FreeFormNumber)||"-"}),i.jsx("td",{children:x(D.Balance)}),i.jsx("td",{children:i.jsx("span",{className:`status ${D.Active?"active":"inactive"}`,children:D.Active?"Active":"Inactive"})})]},D.Id)})})]})}),B.length>0&&i.jsxs("div",{className:"summary",children:[i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Total Customers:"}),i.jsx("strong",{children:B.length})]}),i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Active Customers:"}),i.jsx("strong",{children:B.filter(D=>D.Active).length})]}),i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Total Outstanding:"}),i.jsx("strong",{children:x(B.reduce((D,F)=>D+(F.Balance||0),0))})]})]})]})},q=()=>{if(p)return R();if(g)return P(g);const B=(f==null?void 0:f.data.expenses)||[];return i.jsxs("div",{className:"data-content",children:[i.jsxs("div",{className:"data-header",children:[i.jsx("h3",{children:"Expenses"}),i.jsxs("div",{className:"header-actions",children:[i.jsx("input",{type:"date",value:e.startDate,onChange:D=>n({...e,startDate:D.target.value}),className:"date-input"}),i.jsx("span",{children:"to"}),i.jsx("input",{type:"date",value:e.endDate,onChange:D=>n({...e,endDate:D.target.value}),className:"date-input"}),i.jsx("button",{onClick:S,disabled:O,className:"sync-btn",children:O?"Syncing...":" Sync"})]})]}),B.length===0?i.jsx("div",{className:"no-data",children:i.jsx("p",{children:"No expenses found for the selected date range."})}):i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"data-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Date"}),i.jsx("th",{children:"Vendor"}),i.jsx("th",{children:"Account"}),i.jsx("th",{children:"Description"}),i.jsx("th",{children:"Amount"}),i.jsx("th",{children:"Payment Method"})]})}),i.jsx("tbody",{children:B==null?void 0:B.map(D=>{var F,W,X,Z;return i.jsxs("tr",{children:[i.jsx("td",{children:k(D.TxnDate)}),i.jsx("td",{children:D.VendorName||((F=D.EntityRef)==null?void 0:F.name)||"-"}),i.jsx("td",{children:((W=D.AccountRef)==null?void 0:W.name)||"-"}),i.jsx("td",{children:D.PrivateNote||((Z=(X=D.Line)==null?void 0:X[0])==null?void 0:Z.Description)||"-"}),i.jsx("td",{children:x(D.TotalAmt)}),i.jsx("td",{children:D.PaymentType||"-"})]},D.Id)})})]})}),B.length>0&&i.jsxs("div",{className:"summary",children:[i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Total Expenses:"}),i.jsx("strong",{children:B.length})]}),i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Total Amount:"}),i.jsx("strong",{children:x(B.reduce((D,F)=>D+F.TotalAmt,0))})]}),i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{children:"Average Expense:"}),i.jsx("strong",{children:x(B.reduce((D,F)=>D+F.TotalAmt,0)/B.length)})]})]})]})},z=()=>{var J,Q,ee,re,ne;const B=y||b,D=_||j;if(B)return R();if(D)return P(_||j);const F=(ye=[])=>{var fe,ze;return{label:((fe=ye==null?void 0:ye[0])==null?void 0:fe.value)||"",amount:((ze=ye==null?void 0:ye[1])==null?void 0:ze.value)||""}},W=new Set(["GrossProfit","NetOperatingIncome","NetOtherIncome","NetIncome"]),X=(ye=[],fe=0,ze="report")=>!Array.isArray(ye)||ye.length===0?null:ye.flatMap((se,we)=>{var zt,Je,wt,_t;const _e=[],Qe=`${ze}-${we}`;if((zt=se==null?void 0:se.Header)!=null&&zt.ColData){const{label:Ze,amount:Nt}=F(se.Header.ColData);_e.push(i.jsxs("div",{className:"report-row section-header",children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${fe*16}px`},children:Ze}),i.jsx("span",{className:"amount",children:E(Nt)})]},`${Qe}-header`))}if((wt=(Je=se==null?void 0:se.Rows)==null?void 0:Je.Row)!=null&&wt.length&&_e.push(...X(se.Rows.Row,fe+1,`${Qe}-rows`)),se!=null&&se.ColData){const{label:Ze,amount:Nt}=F(se.ColData);_e.push(i.jsxs("div",{className:"report-row",children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${fe*16}px`},children:Ze}),i.jsx("span",{className:"amount",children:E(Nt)})]},`${Qe}-data`))}if((_t=se==null?void 0:se.Summary)!=null&&_t.ColData){const{label:Ze,amount:Nt}=F(se.Summary.ColData),rt=W.has(se.group)?"divider":"subtotal";_e.push(i.jsxs("div",{className:`report-row ${rt}`,children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${fe*16}px`},children:Ze}),i.jsx("span",{className:"amount",children:E(Nt)})]},`${Qe}-summary`))}return _e}),Z=v==null?void 0:v.data,$=((J=Z==null?void 0:Z.Rows)==null?void 0:J.Row)||[],K=(Q=Z==null?void 0:Z.Header)!=null&&Q.StartPeriod&&((ee=Z==null?void 0:Z.Header)!=null&&ee.EndPeriod)?`${k(Z.Header.StartPeriod)} to ${k(Z.Header.EndPeriod)}`:`${k(e.startDate)} to ${k(e.endDate)}`,V=N==null?void 0:N.data,H=((re=V==null?void 0:V.Rows)==null?void 0:re.Row)||[],U=(ne=V==null?void 0:V.Header)!=null&&ne.EndPeriod?`${k(V.Header.EndPeriod)}`:`${k(e.endDate)}`;return i.jsxs("div",{className:"data-content",children:[i.jsxs("div",{className:"data-header",children:[i.jsx("h3",{children:"Financial Reports"}),i.jsxs("div",{className:"header-actions",children:[i.jsx("input",{type:"date",value:e.startDate,onChange:ye=>n({...e,startDate:ye.target.value}),className:"date-input"}),i.jsx("span",{children:"to"}),i.jsx("input",{type:"date",value:e.endDate,onChange:ye=>n({...e,endDate:ye.target.value}),className:"date-input"}),i.jsx("button",{onClick:S,disabled:O,className:"sync-btn",children:O?"Syncing...":" Sync"})]})]}),i.jsxs("div",{className:"reports-container",children:[Z&&i.jsxs("div",{className:"report-section",children:[i.jsx("h4",{children:" Profit & Loss Statement"}),i.jsxs("div",{className:"report-period",children:["Period: ",K]}),i.jsxs("div",{className:"report-table",children:[i.jsxs("div",{className:"report-row header",children:[i.jsx("span",{children:"Item"}),i.jsx("span",{children:"Amount"})]}),$.length>0?X($,0,"pl"):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"report-row",children:[i.jsx("span",{children:"Total Income"}),i.jsx("span",{className:"amount income",children:x(v.data.totalIncome)})]}),i.jsxs("div",{className:"report-row",children:[i.jsx("span",{children:"Total Expenses"}),i.jsx("span",{className:"amount expense",children:x(v.data.totalExpenses)})]}),i.jsxs("div",{className:"report-row divider",children:[i.jsx("span",{children:"Net Income"}),i.jsx("span",{className:`amount ${v.data.netIncome>=0?"income":"expense"}`,children:x(v.data.netIncome)})]}),i.jsxs("div",{className:"report-row",children:[i.jsx("span",{children:"Profit Margin"}),i.jsx("span",{className:"amount",children:v.data.totalIncome>0?`${(v.data.netIncome/v.data.totalIncome*100).toFixed(2)}%`:"0%"})]})]})]})]}),V&&i.jsxs("div",{className:"report-section",children:[i.jsx("h4",{children:" Balance Sheet"}),i.jsxs("div",{className:"report-period",children:["As of: ",U]}),i.jsxs("div",{className:"report-table",children:[i.jsxs("div",{className:"report-row header",children:[i.jsx("span",{children:"Category"}),i.jsx("span",{children:"Amount"})]}),H.length>0?X(H,0,"bs"):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"report-row section-header",children:[i.jsx("span",{children:"Assets"}),i.jsx("span",{})]}),i.jsxs("div",{className:"report-row",children:[i.jsx("span",{className:"indent",children:"Current Assets"}),i.jsx("span",{className:"amount",children:x(N.data.currentAssets)})]}),i.jsxs("div",{className:"report-row",children:[i.jsx("span",{className:"indent",children:"Fixed Assets"}),i.jsx("span",{className:"amount",children:x(N.data.fixedAssets)})]}),i.jsxs("div",{className:"report-row subtotal",children:[i.jsx("span",{children:"Total Assets"}),i.jsx("span",{className:"amount",children:x(N.data.totalAssets)})]}),i.jsxs("div",{className:"report-row section-header",children:[i.jsx("span",{children:"Liabilities"}),i.jsx("span",{})]}),i.jsxs("div",{className:"report-row",children:[i.jsx("span",{className:"indent",children:"Current Liabilities"}),i.jsx("span",{className:"amount",children:x(N.data.currentLiabilities)})]}),i.jsxs("div",{className:"report-row",children:[i.jsx("span",{className:"indent",children:"Long-term Liabilities"}),i.jsx("span",{className:"amount",children:x(N.data.longTermLiabilities)})]}),i.jsxs("div",{className:"report-row subtotal",children:[i.jsx("span",{children:"Total Liabilities"}),i.jsx("span",{className:"amount",children:x(N.data.totalLiabilities)})]}),i.jsxs("div",{className:"report-row divider",children:[i.jsx("span",{children:"Equity"}),i.jsx("span",{className:"amount income",children:x(N.data.equity)})]}),i.jsxs("div",{className:"report-row total",children:[i.jsx("span",{children:"Total Liabilities & Equity"}),i.jsx("span",{className:"amount",children:x(N.data.totalLiabilities+N.data.equity)})]})]})]}),H.length===0&&i.jsxs("div",{className:"financial-ratios",children:[i.jsx("h5",{children:"Key Financial Ratios"}),i.jsxs("div",{className:"ratio-grid",children:[i.jsxs("div",{className:"ratio-item",children:[i.jsx("span",{className:"ratio-label",children:"Current Ratio"}),i.jsx("span",{className:"ratio-value",children:N.data.currentLiabilities>0?(N.data.currentAssets/N.data.currentLiabilities).toFixed(2):"N/A"})]}),i.jsxs("div",{className:"ratio-item",children:[i.jsx("span",{className:"ratio-label",children:"Debt to Equity"}),i.jsx("span",{className:"ratio-value",children:N.data.equity>0?(N.data.totalLiabilities/N.data.equity).toFixed(2):"N/A"})]}),i.jsxs("div",{className:"ratio-item",children:[i.jsx("span",{className:"ratio-label",children:"Working Capital"}),i.jsx("span",{className:"ratio-value",children:x(N.data.currentAssets-N.data.currentLiabilities)})]})]})]})]})]})]})};switch(t){case"invoices":return T();case"customers":return L();case"expenses":return q();case"reports":return z();default:return i.jsx("div",{className:"no-data",children:"Please select a tab to view data."})}},ate=()=>{var j;const{data:t,isLoading:e,refetch:n}=z0(),[r,{isLoading:s}]=B0(),[o,{isLoading:a}]=V0(),[l,c]=m.useState(!1),[u,h]=m.useState("invoices"),[f,p]=m.useState(null),[g,w]=m.useState(null),v=(j=t==null?void 0:t.data)==null?void 0:j.connected,y=t==null?void 0:t.data;m.useEffect(()=>{const I=new URLSearchParams(window.location.search),O=I.get("qb_connected"),S=I.get("company"),x=I.get("qb_error");O==="true"&&S&&(w(`QuickBooks account "${S}" connected successfully!`),window.history.replaceState({},document.title,window.location.pathname)),x&&(p(decodeURIComponent(x)),window.history.replaceState({},document.title,window.location.pathname))},[]),m.useEffect(()=>{if(f){const I=setTimeout(()=>p(null),5e3);return()=>clearTimeout(I)}},[f]),m.useEffect(()=>{if(g){const I=setTimeout(()=>w(null),5e3);return()=>clearTimeout(I)}},[g]);const _=async()=>{var I,O;try{p(null),console.log("Requesting QuickBooks auth URL...");const S=await r().unwrap();console.log("Auth URL response:",S),(I=S==null?void 0:S.data)!=null&&I.authUrl?(console.log("Redirecting to QuickBooks OAuth:",S.data.authUrl),window.location.href=S.data.authUrl):(console.error("No auth URL in response:",S),p("Failed to get authorization URL from server."))}catch(S){console.error("Failed to get QuickBooks authorization URL:",S),p(((O=S==null?void 0:S.data)==null?void 0:O.message)||"Failed to connect to QuickBooks. Please try again.")}},N=async()=>{if(window.confirm("Are you sure you want to disconnect your QuickBooks account? This will remove access to all QuickBooks data."))try{console.log("Disconnecting QuickBooks..."),await o().unwrap(),c(!1),setTimeout(()=>{n()},500),p(null),alert("QuickBooks account disconnected successfully"),console.log(" QuickBooks disconnected successfully")}catch(I){console.error("Failed to disconnect QuickBooks:",I),p("Failed to disconnect QuickBooks account. Please try again.")}},b=()=>{c(!l)};return e?i.jsx("div",{className:"quickbooks-integration-container",children:i.jsx("div",{className:"loading",children:"Checking QuickBooks connection status..."})}):i.jsxs("div",{className:"quickbooks-integration-container",children:[i.jsxs("div",{className:"quickbooks-header",children:[i.jsxs("div",{className:"header-title",children:[i.jsx("span",{className:"qb-logo",children:""}),i.jsx("h2",{children:"QuickBooks Integration"})]}),v&&i.jsxs("span",{className:"connection-status connected",children:[i.jsx("span",{className:"status-dot"}),"Connected"]})]}),f&&i.jsxs("div",{className:"error-message",children:[i.jsx("span",{className:"error-icon",children:""}),f]}),g&&i.jsxs("div",{className:"success-message",children:[i.jsx("span",{className:"success-icon",children:""}),g]}),v?i.jsxs("div",{className:"quickbooks-connected-section",children:[i.jsxs("div",{className:"connection-details",children:[i.jsxs("div",{className:"company-info",children:[i.jsx("h3",{children:"Company Information"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Company Name:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.companyName)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Company ID:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.companyId)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Email:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.companyEmail)||"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Currency:"}),i.jsx("span",{className:"value",children:(y==null?void 0:y.baseCurrency)||"USD"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Address:"}),i.jsx("span",{className:"value",children:y!=null&&y.companyAddress?`${y.companyAddress.city||""}, ${y.companyAddress.state||""} ${y.companyAddress.postalCode||""}`.trim():"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Last Synced:"}),i.jsx("span",{className:"value",children:y!=null&&y.lastSyncedAt?new Date(y.lastSyncedAt).toLocaleString():"Never"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Connected Since:"}),i.jsx("span",{className:"value",children:y!=null&&y.connectedSince?new Date(y.connectedSince).toLocaleDateString():"N/A"})]}),i.jsxs("div",{className:"info-row",children:[i.jsx("span",{className:"label",children:"Status:"}),i.jsx("span",{className:"value",children:y!=null&&y.isPaused?i.jsx("span",{className:"status-paused",children:" Paused"}):y!=null&&y.tokenExpired?i.jsx("span",{className:"status-expired",children:" Token Expired"}):i.jsx("span",{className:"status-active",children:" Active"})})]})]}),(y==null?void 0:y.stats)&&i.jsxs("div",{className:"company-stats",children:[i.jsx("h4",{children:"Quick Stats"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-value",children:y.stats.totalInvoices||0}),i.jsx("span",{className:"stat-label",children:"Invoices"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-value",children:y.stats.totalCustomers||0}),i.jsx("span",{className:"stat-label",children:"Customers"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-value",children:y.stats.totalExpenses||0}),i.jsx("span",{className:"stat-label",children:"Expenses"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-value",children:y.stats.totalBills||0}),i.jsx("span",{className:"stat-label",children:"Bills"})]})]})]})]}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"view-data-btn",onClick:b,children:l?"Hide Data":"View QuickBooks Data"}),i.jsx("button",{className:"disconnect-btn",onClick:N,disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner"}),"Disconnecting..."]}):"Disconnect QuickBooks"})]})]}),l&&i.jsxs("div",{className:"quickbooks-data-section",children:[i.jsxs("div",{className:"data-tabs",children:[i.jsx("button",{className:`tab-btn ${u==="invoices"?"active":""}`,onClick:()=>h("invoices"),children:" Invoices"}),i.jsx("button",{className:`tab-btn ${u==="customers"?"active":""}`,onClick:()=>h("customers"),children:" Customers"}),i.jsx("button",{className:`tab-btn ${u==="expenses"?"active":""}`,onClick:()=>h("expenses"),children:" Expenses"}),i.jsx("button",{className:`tab-btn ${u==="reports"?"active":""}`,onClick:()=>h("reports"),children:" Reports"})]}),i.jsx(ote,{activeTab:u})]})]}):i.jsxs("div",{className:"quickbooks-connect-section",children:[i.jsxs("div",{className:"connect-info",children:[i.jsx("h3",{children:"Connect Your QuickBooks Account"}),i.jsx("p",{children:"Connect your QuickBooks Online account to sync financial data, manage invoices, track expenses, and generate comprehensive financial reports directly from this dashboard."}),i.jsxs("ul",{className:"benefits-list",children:[i.jsx("li",{children:" Manage invoices and bills"}),i.jsx("li",{children:" Sync customers and vendors"}),i.jsx("li",{children:" Track expenses and revenue"}),i.jsx("li",{children:" Generate financial reports (P&L, Balance Sheet)"}),i.jsx("li",{children:" Export tax-ready documents"}),i.jsx("li",{children:" Real-time data synchronization"})]}),i.jsxs("div",{className:"quickbooks-badges",children:[i.jsx("span",{className:"badge",children:"QuickBooks Online"}),i.jsx("span",{className:"badge",children:"Bank-Level Security"}),i.jsx("span",{className:"badge",children:"OAuth 2.0"})]})]}),i.jsx("button",{className:"quickbooks-connect-btn",onClick:_,disabled:s,children:s?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner"}),"Connecting..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"qb-icon",children:""}),"Connect with QuickBooks"]})})]})]})},lte=({onClose:t})=>{const{data:e,isLoading:n,refetch:r}=MU(),[s,{isLoading:o}]=LU(),[a,{isLoading:l}]=FU(),c=m.useRef(null),[u,h]=m.useState(null),[f,p]=m.useState({}),[g,w]=m.useState({first_name:"",last_name:"",phoneNumber:"",dob:"",address:""});m.useEffect(()=>{if(e!=null&&e.data){const I=e.data;w({first_name:I.first_name||"",last_name:I.last_name||"",phoneNumber:I.phoneNumber||"",dob:I.dob||"",address:I.address||""}),I.profile&&h(`${yt.api.baseUrl}${I.profile}`)}},[e]);const v=I=>{const{name:O,value:S}=I.target;w(x=>({...x,[O]:S})),f[O]&&p(x=>({...x,[O]:null}))},y=()=>{const I={};if(g.phoneNumber&&(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(g.phoneNumber)||(I.phoneNumber="Invalid phone number format")),g.dob){const O=new Date(g.dob);O>new Date&&(I.dob="Date of birth cannot be in the future");const x=new Date;x.setFullYear(x.getFullYear()-13),O>x&&(I.dob="You must be at least 13 years old")}return p(I),Object.keys(I).length===0},_=I=>{const O=I.target.files[0];if(!O)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(O.type)){p(E=>({...E,picture:"Only JPEG, PNG, GIF, and WebP images are allowed"}));return}if(O.size>5*1024*1024){p(E=>({...E,picture:"Image size must be less than 5MB"}));return}const x=new FileReader;x.onloadend=()=>{h(x.result)},x.readAsDataURL(O),p(E=>({...E,picture:null})),N(O)},N=async I=>{const O=new FormData;O.append("profilePicture",I);try{(await a(O).unwrap()).success&&(alert("Profile picture updated successfully!"),r())}catch(S){console.error("Upload error:",S),p(x=>({...x,picture:"Failed to upload picture"}))}},b=async I=>{var O;if(I.preventDefault(),!!y())try{(await s(g).unwrap()).success&&(alert("Profile updated successfully!"),t&&t())}catch(S){console.error("Update error:",S),alert(`Failed to update profile: ${((O=S.data)==null?void 0:O.message)||S.message}`)}};if(n)return i.jsx("div",{className:"profile-loading",children:"Loading profile..."});const j=e==null?void 0:e.data;return i.jsx("div",{className:"profile-edit-container",children:i.jsxs("div",{className:"profile-edit-modal",children:[i.jsxs("div",{className:"profile-header",children:[i.jsx("h2",{children:"Edit Profile"}),t&&i.jsx("button",{className:"close-btn",onClick:t,children:""})]}),i.jsxs("form",{onSubmit:b,className:"profile-form",children:[i.jsxs("div",{className:"profile-picture-section",children:[i.jsx("div",{className:"current-picture",children:u?i.jsx("img",{src:u,alt:"Profile"}):i.jsx("div",{className:"no-picture",children:i.jsx("span",{children:"No Picture"})})}),i.jsxs("div",{className:"picture-actions",children:[i.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:_,style:{display:"none"}}),i.jsx("button",{type:"button",className:"upload-btn",onClick:()=>{var I;return(I=c.current)==null?void 0:I.click()},disabled:l,children:l?"Uploading...":"Change Picture"}),f.picture&&i.jsx("span",{className:"error-text",children:f.picture})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Account Information"}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Email (Cannot be changed)"}),i.jsx("input",{type:"email",value:(j==null?void 0:j.email)||"",disabled:!0,className:"disabled-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Role"}),i.jsx("input",{type:"text",value:(j==null?void 0:j.role_id)==="1"?"Admin":(j==null?void 0:j.role_id)==="2"?"Staff":(j==null?void 0:j.role_id)==="3"?"Client":"Unknown",disabled:!0,className:"disabled-input"})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Personal Information"}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"first_name",children:"First Name"}),i.jsx("input",{type:"text",id:"first_name",name:"first_name",value:g.first_name,onChange:v,placeholder:"Enter your first name"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"last_name",children:"Last Name"}),i.jsx("input",{type:"text",id:"last_name",name:"last_name",value:g.last_name,onChange:v,placeholder:"Enter your last name"})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),i.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:g.phoneNumber,onChange:v,placeholder:"+1234567890",className:f.phoneNumber?"error":""}),f.phoneNumber&&i.jsx("span",{className:"error-text",children:f.phoneNumber})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"dob",children:"Date of Birth"}),i.jsx("input",{type:"date",id:"dob",name:"dob",value:g.dob,onChange:v,max:new Date().toISOString().split("T")[0],className:f.dob?"error":""}),f.dob&&i.jsx("span",{className:"error-text",children:f.dob})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{htmlFor:"address",children:"Address"}),i.jsx("textarea",{id:"address",name:"address",value:g.address,onChange:v,placeholder:"Enter your address",rows:"3"})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Account Details"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Member Since:"}),i.jsx("span",{className:"info-value",children:j!=null&&j.createdAt?new Date(j.createdAt).toLocaleDateString():"N/A"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Last Updated:"}),i.jsx("span",{className:"info-value",children:j!=null&&j.updatedAt?new Date(j.updatedAt).toLocaleDateString():"N/A"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Account Status:"}),i.jsx("span",{className:`info-value status-${j!=null&&j.active?"active":"inactive"}`,children:j!=null&&j.active?"Active":"Inactive"})]})]})]}),i.jsxs("div",{className:"form-actions",children:[t&&i.jsx("button",{type:"button",className:"cancel-btn",onClick:t,disabled:o,children:"Cancel"}),i.jsx("button",{type:"submit",className:"save-btn",disabled:o,children:o?"Saving...":"Save Changes"})]})]})]})})},cte=({notification:t,onMarkAsRead:e,onDelete:n,icon:r})=>{const s=Tt(),o=c=>{const u=Math.floor((new Date-new Date(c))/1e3);return u<60?"just now":u<3600?`${Math.floor(u/60)}m ago`:u<86400?`${Math.floor(u/3600)}h ago`:u<604800?`${Math.floor(u/86400)}d ago`:new Date(c).toLocaleDateString()},a=c=>{switch(c){case"urgent":return"#dc3545";case"high":return"#ffc107";case"medium":return"#28a745";case"low":return"#6c757d";default:return"#6c757d"}},l=()=>{t.isRead||e(t._id),t.actionUrl&&(t.actionType==="external"?window.open(t.actionUrl,"_blank"):t.actionType==="modal"||s(t.actionUrl))};return i.jsxs("div",{className:`notification-item ${t.isRead?"":"unread"} priority-${t.priority}`,onClick:l,children:[i.jsx("div",{className:"priority-indicator",style:{backgroundColor:a(t.priority)}}),i.jsx("div",{className:"notification-icon",children:r}),i.jsxs("div",{className:"notification-content",children:[i.jsxs("div",{className:"notification-header",children:[i.jsx("h4",{className:"notification-title",children:t.title}),i.jsx("span",{className:"notification-time",children:o(t.createdAt)})]}),i.jsx("p",{className:"notification-message",children:t.message}),t.senderName&&i.jsxs("div",{className:"notification-meta",children:[i.jsxs("span",{className:"sender",children:["From: ",t.senderName]}),t.category&&i.jsx("span",{className:"category-tag",children:t.category})]}),t.actionUrl&&i.jsx("div",{className:"notification-action",children:i.jsxs("span",{className:"action-link",children:[t.actionLabel||"View Details",t.actionType==="external"&&i.jsx(cR,{size:12})]})})]}),i.jsxs("div",{className:"notification-actions",children:[!t.isRead&&i.jsx("button",{className:"action-btn mark-read",onClick:c=>{c.stopPropagation(),e(t._id)},title:"Mark as read",children:i.jsx(aa,{size:14})}),i.jsx("button",{className:"action-btn delete",onClick:c=>{c.stopPropagation(),window.confirm("Delete this notification?")&&n(t._id)},title:"Delete",children:i.jsx(md,{size:14})})]})]})},ute=()=>{const t=Jr(),[e,n]=m.useState(!1),[r,s]=m.useState(!1),o=Oe(DF),a=Oe(FF),l=Oe(UF),c=Oe($F),u=Oe(k=>k.notifications.unreadCount),h=Oe(k=>k.notifications.notifications),[f]=BU(),[p]=zU(),[g]=VU(),w=c,v=async()=>{var k;n(!0);try{const P=await(await fetch("/api/notifications?limit=100",{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}})).json();if(P.success&&((k=P.data)!=null&&k.notifications)){if(h.length===0)t(bT(P.data.notifications));else{const T=new Set(h.map(q=>q._id||q.id));P.data.notifications.filter(q=>!T.has(q._id)&&!T.has(q.id)).forEach(q=>{t(wT(q))})}P.data.unreadCount!==void 0&&t(Cp(P.data.unreadCount))}}catch(R){console.error("Failed to refresh notifications:",R)}finally{n(!1)}},y=[{value:"all",label:"All",icon:gl},{value:"unread",label:"Unread",icon:Qs},{value:"announcements",label:"Announcements",icon:kC},{value:"tasks",label:"Tasks",icon:Ks},{value:"alerts",label:"Alerts",icon:Qs}],_=[{value:"all",label:"All Categories"},{value:"general",label:"General"},{value:"task",label:"Task"},{value:"alert",label:"Alert"},{value:"update",label:"Update"},{value:"warning",label:"Warning"}],N=[{value:"all",label:"All Priorities"},{value:"urgent",label:"Urgent",color:"#dc3545"},{value:"high",label:"High",color:"#ffc107"},{value:"medium",label:"Medium",color:"#28a745"},{value:"low",label:"Low",color:"#6c757d"}],b=async k=>{console.log(" Marking notification as read:",k),console.log(" Current filter:",o);try{t(kF(k)),console.log(" Redux state updated");const R=await f(k);R.error?(console.error(" Backend error marking as read:",R.error),v()):console.log(" Backend successfully updated")}catch(R){console.error(" Unexpected error marking notification as read:",R),v()}},j=async()=>{try{n(!0),await p(),t(EF())}catch(k){console.error("Error marking all as read:",k)}finally{n(!1)}},I=async k=>{try{await g(k),t(_T(k))}catch(R){console.error("Error deleting notification:",R)}},O=k=>{t(TF(k)),t(Ty())},S=k=>{t(IF(k)),t(Ty())},x=k=>{t(PF(k)),t(Ty())},E=k=>{switch(k){case"announcement":return i.jsx(kC,{size:16});case"assignment":case"task":return i.jsx(Ks,{size:16});case"document":return i.jsx(Ks,{size:16});case"payment":return i.jsx(vl,{size:16});case"reminder":return i.jsx(u_,{size:16});case"alert":return i.jsx(Qs,{size:16});default:return i.jsx(gl,{size:16})}};return i.jsxs("div",{className:"notification-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsxs("div",{className:"header-title",children:[i.jsx("h3",{children:"Notifications"}),u>0&&i.jsxs("span",{className:"unread-count",children:[u," unread"]})]}),i.jsxs("div",{className:"header-actions",children:[i.jsx("button",{className:"action-btn",onClick:v,title:"Refresh",disabled:e,children:i.jsx(qo,{size:16,className:e?"spinning":""})}),i.jsx("button",{className:"action-btn",onClick:()=>s(!r),title:"Filters",children:i.jsx(uR,{size:16})}),u>0&&i.jsx("button",{className:"action-btn",onClick:j,disabled:e,title:"Mark all as read",children:i.jsx(NQ,{size:16})})]})]}),i.jsx("div",{className:"filter-tabs",children:y.map(k=>{const R=k.icon;return i.jsxs("button",{className:`filter-tab ${o===k.value?"active":""}`,onClick:()=>O(k.value),children:[i.jsx(R,{size:14}),i.jsx("span",{children:k.label})]},k.value)})}),r&&i.jsxs("div",{className:"advanced-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Category:"}),i.jsx("select",{value:a,onChange:k=>S(k.target.value),children:_.map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Priority:"}),i.jsx("select",{value:l,onChange:k=>x(k.target.value),children:N.map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),i.jsx("div",{className:"notification-list",children:e?i.jsxs("div",{className:"loading-state",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Loading notifications..."})]}):w.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx(gl,{size:48}),i.jsx("h4",{children:"No notifications"}),i.jsx("p",{children:"You're all caught up!"})]}):i.jsx(i.Fragment,{children:w.map(k=>i.jsx(cte,{notification:k,onMarkAsRead:b,onDelete:I,icon:E(k.type)},k._id||k.id))})}),i.jsx("div",{className:"panel-footer",children:i.jsxs("a",{href:"/settings/notifications",className:"footer-link",children:[i.jsx(ug,{size:14}),i.jsx("span",{children:"Notification Settings"})]})})]})},dte=()=>{const t=Jr(),e=Oe(o=>{var a,l,c,u,h,f,p,g,w;if((l=(a=o.user)==null?void 0:a.currentUser)!=null&&l.id)return o.user.currentUser.id;if((u=(c=o.user)==null?void 0:c.currentUser)!=null&&u._id)return o.user.currentUser._id;if((f=(h=o.auth)==null?void 0:h.user)!=null&&f.id)return o.auth.user.id;if((g=(p=o.auth)==null?void 0:p.user)!=null&&g._id)return o.auth.user._id;if((w=o.auth)!=null&&w.userId)return o.auth.userId;try{const v=localStorage.getItem("userInfo");if(v){const y=JSON.parse(v);return y.id||y._id||y.userId}}catch{console.debug("Could not parse user info from localStorage")}return null}),n=Oe(o=>{var a,l,c,u;return((a=o.user)==null?void 0:a.isAuthenticated)!==void 0?o.user.isAuthenticated:((l=o.auth)==null?void 0:l.isAuthenticated)!==void 0?o.auth.isAuthenticated:!!((c=o.auth)!=null&&c.token||(u=o.user)!=null&&u.currentUser)}),r=m.useRef(null),s=m.useRef(new Set);return m.useEffect(()=>{var l,c;const o=t((u,h)=>h()),a=((c=(l=o.notifications)==null?void 0:l.notifications)==null?void 0:c.length)>0;n&&e&&!a?(console.log(" Store is empty, fetching initial notifications..."),fetch("/api/notifications?limit=100",{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}}).then(u=>u.json()).then(u=>{var h;u.success&&((h=u.data)!=null&&h.notifications)&&(console.log(" Initializing Redux store with",u.data.notifications.length,"notifications"),t(bT(u.data.notifications)),u.data.unreadCount!==void 0&&t(Cp(u.data.unreadCount)))}).catch(u=>{console.error("Failed to fetch initial notifications:",u)})):a&&console.log(" Store already has",o.notifications.notifications.length,"notifications, skipping init")},[n,e,t]),m.useEffect(()=>{if(!n||!e){console.log("User not authenticated, skipping real-time listeners");return}return console.log("Setting up Firebase real-time listeners for user:",e),(async()=>{try{$A();const a=sG();if(!a){console.error("Failed to get Firebase Realtime Database instance");return}const l=hl(a,".info/connected"),c=Vw(l,v=>{const y=v.val();console.log("Firebase connection status:",y?" Connected":" Disconnected"),y||console.warn("Firebase Realtime Database is not connected yet, waiting...")}),u=hl(a,`notifications/${e}`),h=[];r.current=u,(async()=>{try{const v=await fetch("/api/notifications?unreadOnly=true",{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(v.ok){const y=await v.json();console.log("Fetched initial notifications:",y)}}catch(v){console.debug("Could not fetch initial notifications:",v)}})(),console.log("Setting up onChildAdded listener...");const p=FP(u,v=>{const y=v.val();if(console.log(" FIREBASE onChildAdded TRIGGERED!",y),!y)return;const _=`${y.id}-${y.timestamp}`;s.current.has(_)||(s.current.add(_),y.action==="new"&&(console.log(" REAL-TIME: New notification received via Firebase:",y.id),t($o.endpoints.getNotificationById.initiate(y.id)).then(({data:N})=>{if(console.log(" Notification API response:",N),N){const{notification:b,unreadCount:j}=N;console.log(" Extracted notification:",b),console.log(" Extracted unreadCount:",j),b?(console.log(" Dispatching addNotification with:",b),t(wT(b)),j!=null&&(console.log(" Dispatching updateUnreadCount with:",j),t(Cp(j))),t(AF(!0)),hte(),window.dispatchEvent(new CustomEvent("new-notification",{detail:{notification:b,unreadCount:j}})),console.log(" All dispatches completed")):console.error(" No notification in response data")}else console.error(" No data returned from API")}).catch(N=>{console.error("Failed to fetch notification details:",N)})))},v=>{console.error("Firebase onChildAdded error:",v)});h.push(p),console.log("Setting up onChildChanged listener...");const g=_V(u,v=>{const y=v.val();console.log(" FIREBASE onChildChanged TRIGGERED!",y),y&&(y.action==="read"||y.action==="update")&&t($o.endpoints.getNotificationById.initiate(y.id)).then(({data:_})=>{_&&t(CF({id:_._id,updates:_}))}).catch(_=>{console.error("Failed to fetch updated notification:",_)})},v=>{console.error("Firebase onChildChanged error:",v)});h.push(g),console.log("Setting up onChildRemoved listener...");const w=NV(u,v=>{const y=v.val();console.log(" FIREBASE onChildRemoved TRIGGERED!",y),t(_T(y.id))},v=>{console.error("Firebase onChildRemoved error:",v)});h.push(w),console.log(" All Firebase real-time listeners are now active"),console.log("Listening on path:",`notifications/${e}`),h.push(c),r.current=h,window.__firebaseRealtimeActive=!0}catch(a){console.error(" Error setting up real-time notifications:",a),console.error("Error details:",a.message,a.code),window.__firebaseRealtimeActive=!1}})(),()=>{console.log("Cleaning up Firebase listeners"),Array.isArray(r.current)?r.current.forEach(a=>{typeof a=="function"&&a()}):r.current&&SV(r.current),s.current.clear(),window.__firebaseRealtimeActive=!1}},[e,n,t]),null},hte=()=>{try{if(localStorage.getItem("notificationSound")!=="false"&&typeof Audio<"u"){const e=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBi6Gy/DaiToGGGS47OmuVRUIPlyx6OWkUBUMP1+y6OmqWBUGOlyx6OOiURUMPlux5+OmUxQGO12w6OatVxUGO12w6OmpUxUGPV+x5+OlUBUKQmG05+OlVBUGPV2w6OetVxUGP12w6OGlUxQIQmG05+OlVRUIRWO35+agVRUIQmG05+OlVRUGPVyx6OatVxUGO12w6OatVxUGO12w6OmpVRUGPV+x5+OlUxUGPV+x5+OlUxUGO12w6OatVxUGO12w6OatVxUGO12w6OWnUxUGPV+x5+OlUxUGO12w6OOlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPVyx5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGO12w6OOlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxUGPV+x5+OlUxU=");e.volume=.3,e.play().catch(n=>{console.debug("Could not play notification sound:",n)})}}catch(t){console.debug("Error playing notification sound:",t)}},fte=()=>{const t=Jr(),[e,n]=m.useState(!1),[r,s]=m.useState("checking"),o=m.useRef(null),a=Oe(RF),l=Oe(OF),c=Oe(MF),u=Oe(LF);dte();const{data:h}=$U();m.useEffect(()=>{const p=()=>{const w=window.__firebaseRealtimeConnected,v=window.__firebaseRealtimeActive;s(w&&v?"connected":w&&!v?"initializing":"disconnected")};p();const g=setInterval(p,2e3);return()=>clearInterval(g)},[]),m.useEffect(()=>{h!==void 0&&t(Cp(h))},[h,t]),m.useEffect(()=>{const p=()=>{n(!0),setTimeout(()=>n(!1),1e3),c&&o.current&&o.current.play().catch(g=>console.log("Sound play failed:",g))};return window.addEventListener("new-notification",p),()=>{window.removeEventListener("new-notification",p)}},[c]),m.useEffect(()=>{u&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[u]);const f=()=>{t(N1())};return m.useEffect(()=>{const p=g=>{l&&!g.target.closest(".notification-container")&&t(N1())};return l&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[l,t]),i.jsxs("div",{className:"notification-container",children:[i.jsxs("button",{className:`notification-bell ${e?"animate":""}`,onClick:f,"aria-label":"Notifications","aria-expanded":l,title:`Notifications (Real-time: ${r})`,children:[i.jsx(gl,{size:24}),a>0&&i.jsx("span",{className:"notification-badge",children:a>99?"99+":a}),r!=="connected"&&i.jsx("span",{className:`connection-indicator ${r}`,title:r==="initializing"?"Connecting...":"Disconnected"})]}),l&&i.jsx(ute,{}),i.jsx("audio",{ref:o,src:"/notification-sound.mp3",preload:"auto",style:{display:"none"}}),!1]})},pte=({onUploadSuccess:t,multipleFiles:e=!1})=>{const[n,r]=m.useState(!1),[s,o]=m.useState([]),[a,l]=m.useState(""),[c,u]=m.useState({}),[h,f]=m.useState({}),p=m.useRef(null),g=m.useRef(0),[w,{isLoading:v}]=KU(),[y,{isLoading:_}]=YU(),{data:N,isLoading:b}=kT(),j=(N==null?void 0:N.data)||[],I=z=>{const D=["application/pdf","image/jpeg","image/jpg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];return z.size>10485760?{valid:!1,error:`${z.name}: File size exceeds 10MB`}:D.includes(z.type)?{valid:!0}:{valid:!1,error:`${z.name}: File type not supported`}},O=m.useCallback(z=>{z.preventDefault(),z.stopPropagation(),g.current++,z.dataTransfer.items&&z.dataTransfer.items.length>0&&r(!0)},[]),S=m.useCallback(z=>{z.preventDefault(),z.stopPropagation(),g.current--,g.current===0&&r(!1)},[]),x=m.useCallback(z=>{z.preventDefault(),z.stopPropagation()},[]),E=m.useCallback(z=>{z.preventDefault(),z.stopPropagation(),r(!1),g.current=0;const B=[...z.dataTransfer.files];k(B)},[]),k=z=>{const B=[],D={};z.forEach(F=>{const W=I(F);W.valid?B.push(F):D[F.name]=W.error}),f(D),o(e?F=>[...F,...B]:B.slice(0,1))},R=z=>{const B=[...z.target.files];k(B)},P=z=>{var D;o(F=>F.filter((W,X)=>X!==z));const B=(D=s[z])==null?void 0:D.name;B&&(f(F=>{const W={...F};return delete W[B],W}),u(F=>{const W={...F};return delete W[B],W}))},T=async()=>{var B;if(!a){alert("Please select a document category");return}if(s.length===0){alert("Please select files to upload");return}const z=new FormData;e?s.forEach(D=>{z.append("documents",D)}):z.append("document",s[0]),z.append("category",a);try{let D;e?D=await y(z).unwrap():D=await w(z).unwrap(),o([]),l(""),f({}),u({}),t&&t(D.data),alert("Documents uploaded successfully!")}catch(D){console.error("Upload failed:",D),alert(`Upload failed: ${((B=D.data)==null?void 0:B.message)||D.message}`)}},L=z=>{if(z===0)return"0 Bytes";const B=1024,D=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(z)/Math.log(B));return Math.round(z/Math.pow(B,F)*100)/100+" "+D[F]},q=v||_;return i.jsxs("div",{className:"document-upload-container",children:[i.jsx("h2",{children:"Upload Documents"}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"category",children:["Document Category ",i.jsx("span",{className:"required",children:"*"})]}),i.jsxs("select",{id:"category",value:a,onChange:z=>l(z.target.value),required:!0,disabled:q,children:[i.jsx("option",{value:"",children:"Select Category"}),j.map(z=>i.jsx("option",{value:z.value,children:z.label},z.value))]})]}),i.jsxs("div",{className:`dropzone ${n?"dragging":""}`,onDragEnter:O,onDragLeave:S,onDragOver:x,onDrop:E,onClick:()=>{var z;return!q&&((z=p.current)==null?void 0:z.click())},children:[i.jsx("div",{className:"dropzone-icon",children:""}),i.jsx("p",{children:n?"Drop files here...":`Drag and drop ${e?"files":"a file"} here, or click to browse`}),i.jsx("p",{className:"format-text",children:"Supported formats: PDF, JPG, PNG, DOC, DOCX, XLS, XLSX"}),i.jsx("p",{className:"size-text",children:"Maximum file size: 10MB"}),i.jsx("input",{ref:p,type:"file",onChange:R,multiple:e,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx",style:{display:"none"},disabled:q})]}),Object.keys(h).length>0&&i.jsxs("div",{className:"error-container",children:[i.jsx("h4",{children:"Upload Errors:"}),i.jsx("ul",{children:Object.entries(h).map(([z,B])=>i.jsx("li",{children:B},z))})]}),s.length>0&&i.jsxs("div",{className:"selected-files",children:[i.jsx("h3",{children:"Selected Files:"}),i.jsx("ul",{children:s.map((z,B)=>i.jsxs("li",{className:"file-item",children:[i.jsxs("div",{className:"file-info",children:[i.jsx("span",{className:"file-icon",children:""}),i.jsx("span",{className:"file-name",children:z.name}),i.jsxs("span",{className:"file-size",children:["(",L(z.size),")"]}),c[z.name]&&i.jsxs("span",{className:"file-progress",children:["Uploading: ",c[z.name],"%"]})]}),i.jsx("button",{onClick:()=>P(B),disabled:q,className:"btn-remove",children:"Remove"})]},B))})]}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{onClick:T,disabled:q||s.length===0||!a,className:"btn-primary",children:q?"Uploading...":"Upload Documents"}),s.length>0&&i.jsx("button",{onClick:()=>{o([]),f({}),u({})},disabled:q,className:"btn-secondary",children:"Clear All"})]})]})},mte=({onDocumentSelect:t})=>{var O,S;const[e,n]=m.useState({category:"",search:"",status:"active"}),[r,s]=m.useState(1),{data:o,isLoading:a,isFetching:l,refetch:c}=XU({...e,page:r,limit:20}),{data:u}=kT(),h=(u==null?void 0:u.data)||[],[f]=JU(),p=((O=o==null?void 0:o.data)==null?void 0:O.documents)||[],g=((S=o==null?void 0:o.data)==null?void 0:S.pagination)||{},w=x=>{if(x===0)return"0 Bytes";const E=1024,k=["Bytes","KB","MB","GB"],R=Math.floor(Math.log(x)/Math.log(E));return Math.round(x/Math.pow(E,R)*100)/100+" "+k[R]},v=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),y=x=>{const E=h.find(k=>k.value===x);return(E==null?void 0:E.label)||x},_=(x,E)=>{n(k=>({...k,[x]:E})),s(1)},N=async x=>{var E;if(window.confirm("Are you sure you want to delete this document?"))try{await f(x).unwrap(),alert("Document deleted successfully"),c()}catch(k){console.error("Delete failed:",k),alert(`Failed to delete document: ${((E=k.data)==null?void 0:E.message)||k.message}`)}},b=(x,E)=>{const k=localStorage.getItem("token"),P=`${yt.api.baseUrl}/documents/${x}/download`,T=document.createElement("a");T.href=P,T.download=E,fetch(P,{headers:{Authorization:`Bearer ${k}`}}).then(L=>L.blob()).then(L=>{const q=window.URL.createObjectURL(L);T.href=q,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(q)}).catch(L=>{console.error("Download failed:",L),alert("Failed to download document")})},j=()=>{n({category:"",search:"",status:"active"}),s(1)},I=x=>({pdf:"",doc:"",docx:"",xls:"",xlsx:"",jpg:"",jpeg:"",png:""})[x==null?void 0:x.toLowerCase()]||"";return i.jsxs("div",{className:"document-list-container",children:[i.jsx("h2",{children:"My Documents"}),i.jsxs("div",{className:"filters-section",children:[i.jsx("h3",{children:"Filters"}),i.jsxs("div",{className:"filters-grid",children:[i.jsx("input",{type:"text",placeholder:"Search documents...",value:e.search,onChange:x=>_("search",x.target.value),className:"filter-input"}),i.jsxs("select",{value:e.category,onChange:x=>_("category",x.target.value),className:"filter-select",children:[i.jsx("option",{value:"",children:"All Categories"}),h.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))]}),i.jsx("button",{onClick:j,className:"btn-clear-filters",children:"Clear Filters"})]})]}),a&&i.jsx("p",{className:"loading-message",children:"Loading documents..."}),!a&&p.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("p",{children:"No documents found."}),i.jsx("span",{children:"Upload your first document to get started!"})]}):i.jsxs("table",{className:"documents-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Type"}),i.jsx("th",{children:"Name"}),i.jsx("th",{children:"Category"}),i.jsx("th",{children:"Size"}),i.jsx("th",{children:"Uploaded"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:p.map(x=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("span",{className:"file-icon",children:I(x.fileType)})}),i.jsx("td",{children:i.jsx("div",{className:"file-name",children:x.originalName})}),i.jsx("td",{children:y(x.category)}),i.jsx("td",{children:w(x.fileSize)}),i.jsx("td",{children:v(x.createdAt)}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${x.status}`,children:x.status})}),i.jsxs("td",{className:"action-buttons",children:[i.jsx("button",{onClick:()=>b(x._id,x.originalName),className:"btn-action download",title:"Download",children:""}),i.jsx("button",{onClick:()=>N(x._id),className:"btn-action delete",title:"Delete",children:""})]})]},x._id))})]}),g.pages>1&&i.jsxs("div",{className:"pagination",children:[i.jsx("button",{onClick:()=>s(x=>Math.max(1,x-1)),disabled:r===1,children:"Previous"}),i.jsxs("span",{className:"pagination-info",children:["Page ",g.currentPage," of ",g.pages,"(",g.total," total documents)"]}),i.jsx("button",{onClick:()=>s(x=>Math.min(g.pages,x+1)),disabled:r===g.pages,children:"Next"})]})]})},gte=()=>{const[t,e]=m.useState("list"),[n,r]=m.useState(0),s=o=>{e("list"),r(a=>a+1)};return i.jsxs("div",{className:"document-management-container",children:[i.jsx("h1",{children:"Document Management"}),i.jsxs("div",{className:"tab-navigation",children:[i.jsxs("button",{onClick:()=>e("list"),className:`tab-button ${t==="list"?"active":""}`,children:[i.jsx("span",{className:"tab-icon",children:""})," My Documents"]}),i.jsxs("button",{onClick:()=>e("upload"),className:`tab-button ${t==="upload"?"active":""}`,children:[i.jsx("span",{className:"tab-icon",children:""})," Upload Documents"]})]}),i.jsxs("div",{className:"tab-content",children:[t==="list"&&i.jsx(mte,{},n),t==="upload"&&i.jsx(pte,{onUploadSuccess:s,multipleFiles:!0})]})]})},yte=()=>{const[t,e]=m.useState("overview"),[n,r]=m.useState(!1),[s,o]=m.useState(null),a=Tt(),l=kn(),c=Jr(),u=Oe(Ss);m.useEffect(()=>{const f=new URLSearchParams(l.search),p=f.get("tab"),g=f.get("connected"),w=f.get("error"),v=f.get("company");p==="quickbooks"&&(e("quickbooks"),g==="true"?o({success:!0,message:"QuickBooks connected successfully!",company:v}):w&&o({success:!1,message:"QuickBooks connection failed. Please try again."}),window.history.replaceState({},"","/dashboard"),setTimeout(()=>{o(null)},5e3))},[l.search]);const h=()=>{c(Xl()),a("/login")};return i.jsxs("div",{className:"dashboard-container",children:[i.jsx("header",{className:"dashboard-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Client Dashboard"}),i.jsxs("div",{className:"user-section",children:[i.jsxs("span",{className:"welcome-text",children:["Welcome, ",u==null?void 0:u.first_name," ",u==null?void 0:u.last_name,"!"]}),i.jsx("span",{className:"role-badge",children:"Client"}),i.jsx(fte,{}),i.jsx("button",{onClick:h,className:"logout-button",children:"Logout"})]})]})}),i.jsx("main",{className:"dashboard-main",children:i.jsxs("div",{className:"dashboard-content",children:[i.jsxs("section",{className:"user-info-card",children:[i.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[i.jsx("h2",{children:"My Profile"}),i.jsx("button",{className:"btn-primary",onClick:()=>r(!0),style:{padding:"8px 16px",background:"#4299e1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Edit Profile"})]}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Name:"}),i.jsxs("span",{children:[u==null?void 0:u.first_name," ",u==null?void 0:u.last_name]})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Email:"}),i.jsx("span",{children:u==null?void 0:u.email})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Phone:"}),i.jsx("span",{children:(u==null?void 0:u.phoneNumber)||"Not provided"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Address:"}),i.jsx("span",{children:(u==null?void 0:u.address)||"Not provided"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Date of Birth:"}),i.jsx("span",{children:u!=null&&u.dob?new Date(u.dob).toLocaleDateString():"Not provided"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Account Type:"}),i.jsx("span",{children:"Client"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Account Status:"}),i.jsx("span",{className:"status-active",children:"Active"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Member Since:"}),i.jsx("span",{children:u!=null&&u.createdAt?new Date(u.createdAt).toLocaleDateString():"N/A"})]})]})]}),i.jsxs("section",{className:"stats-section",children:[i.jsx("h2",{children:"Account Overview"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:"0"}),i.jsx("div",{className:"stat-label",children:"Documents"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:"0"}),i.jsx("div",{className:"stat-label",children:"Messages"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:"0"}),i.jsx("div",{className:"stat-label",children:"Pending Items"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:new Date().toLocaleDateString()}),i.jsx("div",{className:"stat-label",children:"Last Login"})]})]})]}),i.jsxs("section",{className:"client-navigation",children:[i.jsx("h2",{children:"Services"}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:`action-btn ${t==="overview"?"active":""}`,onClick:()=>e("overview"),children:"Overview"}),i.jsx("button",{className:`action-btn ${t==="documents"?"active":""}`,onClick:()=>e("documents"),children:"My Documents"}),i.jsx("button",{className:`action-btn ${t==="services"?"active":""}`,onClick:()=>e("services"),children:"Services"}),i.jsx("button",{className:`action-btn ${t==="billing"?"active":""}`,onClick:()=>e("billing"),children:"Billing"}),i.jsx("button",{className:`action-btn ${t==="support"?"active":""}`,onClick:()=>e("support"),children:"Support"}),i.jsx("button",{className:`action-btn ${t==="amazon"?"active":""}`,onClick:()=>e("amazon"),children:"Amazon Integration"}),i.jsx("button",{className:`action-btn ${t==="amazon-sandbox"?"active":""}`,onClick:()=>e("amazon-sandbox"),children:"Amazon Sandbox"}),i.jsx("button",{className:`action-btn ${t==="shopify"?"active":""}`,onClick:()=>e("shopify"),children:"Shopify Integration"}),i.jsx("button",{className:`action-btn ${t==="quickbooks"?"active":""}`,onClick:()=>e("quickbooks"),children:"QuickBooks Integration"})]})]}),t==="overview"&&i.jsxs(i.Fragment,{children:[i.jsxs("section",{className:"welcome-section",children:[i.jsx("h2",{children:"Welcome to Plurify"}),i.jsxs("div",{className:"welcome-content",children:[i.jsx("p",{children:"We're glad to have you as our valued client. This dashboard is your central hub for accessing all our services and managing your account."}),i.jsxs("div",{className:"quick-links",children:[i.jsx("h3",{children:"Quick Links"}),i.jsxs("ul",{children:[i.jsx("li",{children:i.jsx("a",{href:"#",onClick:f=>{f.preventDefault(),e("documents")},children:"Upload Documents"})}),i.jsx("li",{children:i.jsx("a",{href:"#",onClick:f=>{f.preventDefault(),e("services")},children:"View Available Services"})}),i.jsx("li",{children:i.jsx("a",{href:"#",onClick:f=>{f.preventDefault(),e("support")},children:"Contact Support"})})]})]})]})]}),i.jsxs("section",{className:"announcements",children:[i.jsx("h2",{children:"Announcements"}),i.jsx("div",{className:"announcement-list",children:i.jsxs("div",{className:"announcement-item",children:[i.jsxs("div",{className:"announcement-header",children:[i.jsx("span",{className:"announcement-badge",children:"New"}),i.jsx("span",{className:"announcement-date",children:new Date().toLocaleDateString()})]}),i.jsx("h4",{children:"Welcome to Plurify!"}),i.jsx("p",{children:"Your account has been successfully created. Explore our services and features."})]})})]})]}),t==="documents"&&i.jsx("section",{className:"documents-section",children:i.jsx(gte,{})}),t==="services"&&i.jsxs("section",{className:"services-section",children:[i.jsx("h2",{children:"Available Services"}),i.jsxs("div",{className:"services-grid",children:[i.jsxs("div",{className:"service-card",children:[i.jsx("div",{className:"service-icon",children:""}),i.jsx("h3",{children:"Tax Planning"}),i.jsx("p",{children:"Professional tax planning and preparation services."}),i.jsx("button",{className:"btn-outline",children:"Learn More"})]}),i.jsxs("div",{className:"service-card",children:[i.jsx("div",{className:"service-icon",children:""}),i.jsx("h3",{children:"Financial Consulting"}),i.jsx("p",{children:"Expert financial advice and consulting services."}),i.jsx("button",{className:"btn-outline",children:"Learn More"})]}),i.jsxs("div",{className:"service-card",children:[i.jsx("div",{className:"service-icon",children:""}),i.jsx("h3",{children:"Document Management"}),i.jsx("p",{children:"Secure document storage and management."}),i.jsx("button",{className:"btn-outline",children:"Learn More"})]}),i.jsxs("div",{className:"service-card",children:[i.jsx("div",{className:"service-icon",children:""}),i.jsx("h3",{children:"Business Advisory"}),i.jsx("p",{children:"Strategic business advisory services."}),i.jsx("button",{className:"btn-outline",children:"Learn More"})]})]})]}),t==="billing"&&i.jsxs("section",{className:"billing-section",children:[i.jsx("h2",{children:"Billing & Payments"}),i.jsxs("div",{className:"billing-summary",children:[i.jsxs("div",{className:"billing-card",children:[i.jsx("h3",{children:"Current Balance"}),i.jsx("div",{className:"balance-amount",children:"$0.00"}),i.jsx("button",{className:"btn-primary",children:"Make Payment"})]}),i.jsxs("div",{className:"billing-history",children:[i.jsx("h3",{children:"Payment History"}),i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No payment history available."})})]})]})]}),t==="support"&&i.jsxs("section",{className:"support-section",children:[i.jsx("h2",{children:"Support Center"}),i.jsxs("div",{className:"support-options",children:[i.jsxs("div",{className:"support-card",children:[i.jsx("div",{className:"support-icon",children:""}),i.jsx("h3",{children:"Email Support"}),i.jsx("p",{children:"Send us an email and we'll respond within 24 hours."}),i.jsx("a",{href:"mailto:support@plurify.com",className:"btn-primary",children:"Send Email"})]}),i.jsxs("div",{className:"support-card",children:[i.jsx("div",{className:"support-icon",children:""}),i.jsx("h3",{children:"Live Chat"}),i.jsx("p",{children:"Chat with our support team in real-time."}),i.jsx("button",{className:"btn-primary",children:"Start Chat"})]}),i.jsxs("div",{className:"support-card",children:[i.jsx("div",{className:"support-icon",children:""}),i.jsx("h3",{children:"Phone Support"}),i.jsx("p",{children:"Call us directly for immediate assistance."}),i.jsx("a",{href:"tel:1-800-PLURIFY",className:"btn-primary",children:"Call Now"})]})]}),i.jsxs("div",{className:"faq-section",children:[i.jsx("h3",{children:"Frequently Asked Questions"}),i.jsxs("div",{className:"faq-list",children:[i.jsxs("details",{className:"faq-item",children:[i.jsx("summary",{children:"How do I upload documents?"}),i.jsx("p",{children:'Navigate to the Documents tab and click on "Upload Document" button to upload your files.'})]}),i.jsxs("details",{className:"faq-item",children:[i.jsx("summary",{children:"How can I contact my assigned staff?"}),i.jsx("p",{children:"You can send messages through the messaging system or use the support options above."})]}),i.jsxs("details",{className:"faq-item",children:[i.jsx("summary",{children:"What payment methods do you accept?"}),i.jsx("p",{children:"We accept all major credit cards, bank transfers, and online payment methods."})]})]})]})]}),t==="amazon"&&i.jsx("section",{className:"amazon-section",children:i.jsx(nte,{})}),t==="amazon-sandbox"&&i.jsx("section",{className:"amazon-sandbox-section",children:i.jsx(rte,{})}),t==="shopify"&&i.jsx("section",{className:"shopify-section",children:i.jsx(ite,{})}),t==="quickbooks"&&i.jsxs("section",{className:"quickbooks-section",children:[s&&i.jsx("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"16px",backgroundColor:s.success?"#D1FAE5":"#FEE2E2",color:s.success?"#065F46":"#991B1B",border:`1px solid ${s.success?"#34D399":"#F87171"}`},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("span",{style:{fontSize:"18px"},children:s.success?"":""}),i.jsxs("div",{children:[i.jsx("strong",{children:s.message}),s.company&&i.jsxs("div",{style:{fontSize:"14px",marginTop:"4px"},children:["Company: ",s.company]})]})]})}),i.jsx(ate,{})]}),i.jsxs("section",{className:"recent-activity",children:[i.jsx("h2",{children:"Recent Activity"}),i.jsxs("div",{className:"activity-list",children:[i.jsxs("div",{className:"activity-item",children:[i.jsx("span",{className:"activity-icon",children:""}),i.jsxs("div",{className:"activity-details",children:[i.jsx("p",{children:"Account created successfully"}),i.jsx("span",{className:"activity-time",children:"Today"})]})]}),i.jsxs("div",{className:"activity-item",children:[i.jsx("span",{className:"activity-icon",children:""}),i.jsxs("div",{className:"activity-details",children:[i.jsx("p",{children:"Logged in to your account"}),i.jsx("span",{className:"activity-time",children:"Just now"})]})]})]})]})]})}),n&&i.jsx(lte,{onClose:()=>r(!1)})]})},vte=()=>{const t=Oe(Ss);if(!t)return i.jsx(Xn,{to:"/login",replace:!0});switch(t.role_id){case as.ADMIN:return i.jsx(Zee,{});case as.STAFF:return i.jsx(ete,{});case as.CLIENT:return i.jsx(yte,{});default:return console.error("Unknown user role:",t.role_id),i.jsx(Xn,{to:"/login",replace:!0})}},xte="/assets/plutus-logo-COgl9FC1.svg",bte=({children:t,question:e,subtext:n,currentStep:r,totalSteps:s,onNext:o,onBack:a,isSubmitting:l,isFirstStep:c,isLastStep:u,className:h=""})=>{const f=r/s*100,p=u?l?"Completing...":"Complete":"Next";return i.jsx("div",{className:`main_wrapper ${h}`,children:i.jsxs("div",{className:"outer-container",children:[i.jsx("div",{className:"left-panel",children:i.jsx("img",{src:xte,alt:"Plutus Logo"})}),i.jsxs("div",{className:"right-panel",children:[i.jsx("div",{className:"progress",children:i.jsx("div",{className:"progress-bar",style:{width:`${f}%`},role:"progressbar","aria-valuenow":r,"aria-valuemin":1,"aria-valuemax":s})}),i.jsxs("div",{className:"ques-outer-wrapper",children:[i.jsxs("div",{className:"heading_stepper",children:[i.jsx("div",{className:"question",children:e}),n&&i.jsx("div",{className:"subtext",children:n})]}),i.jsx("div",{className:"question_sec",children:t})]}),i.jsxs("div",{className:"buttons",children:[i.jsx("button",{className:"btn-back",onClick:a,disabled:c||l,type:"button","aria-label":"Go to previous step",children:"Back"}),i.jsx("button",{className:"btn btn-next",onClick:()=>{console.log("Next button clicked!"),o()},disabled:l,type:"button","aria-label":u?"Complete onboarding":"Go to next step",children:p})]})]})]})})},af={BUSINESS_NEEDS:"businessNeeds",PREVIOUS_BOOKKEEPER:"previousBookkeeper",BUSINESS_DETAILS:"businessDetails",INDUSTRY:"industry"},Lo=[{id:1,type:af.BUSINESS_NEEDS,title:"Business Needs",component:"BusinessNeedsStep",question:"What kind of help does your business need?",subtext:"So we can focus on the areas that matter most to you.",autoAdvance:!0,validation:"validateBusinessNeeds",reduxAction:"updateBusinessNeeds",dataField:"businessNeeds"},{id:2,type:af.PREVIOUS_BOOKKEEPER,component:"PreviousBookkeeperStep",title:"Previous Bookkeeper",question:"Were you previously working with a bookkeeper?",subtext:"Helps us understand your bookkeeping history.",autoAdvance:!0,validation:"validatePreviousBookkeeper",reduxAction:"updatePreviousBookkeeper",dataField:"previousBookkeeper"},{id:3,type:af.BUSINESS_DETAILS,component:"BusinessDetailsStep",title:"Business Details",question:"Tell us about your business",subtext:"This helps us customize your experience.",autoAdvance:!1,validation:"validateBusinessDetails",reduxAction:"updateBusinessDetails",dataField:"businessDetails"},{id:4,type:af.INDUSTRY,component:"IndustryStep",title:"Industry",question:"Select Your Industry",subtext:"So we can tailor your setup to your field.",autoAdvance:!1,validation:"validateIndustry",reduxAction:"updateIndustry",dataField:"industry"}],wl={businessNeeds:[{id:"browsing",label:"Nothing yet, just browsing",value:"browsing"},{id:"bookkeeping",label:"Bookkeeping with Plutify expert support.",value:"bookkeeping"},{id:"comprehensive",label:"Clear understanding of where my business stands, maximizing my tax savings, and advisory from a licensed professional.",value:"comprehensive"}],previousBookkeeper:[{id:"yes",label:"Yes",value:"yes"},{id:"no",label:"No",value:"no"}],businessType:[{value:"",label:"Select business type"},{value:"sole_proprietorship",label:"Sole Proprietorship"},{value:"llc",label:"LLC"},{value:"corporation",label:"Corporation"},{value:"partnership",label:"Partnership"},{value:"s_corp",label:"S Corporation"},{value:"nonprofit",label:"Non-Profit"}],employeeCount:[{value:"",label:"Select range"},{value:"1",label:"Just me"},{value:"2-5",label:"2-5 employees"},{value:"6-10",label:"6-10 employees"},{value:"11-25",label:"11-25 employees"},{value:"26-50",label:"26-50 employees"},{value:"50+",label:"More than 50"}],monthlyRevenue:[{value:"",label:"Select revenue range"},{value:"0-10k",label:"Less than $10,000"},{value:"10k-50k",label:"$10,000 - $50,000"},{value:"50k-100k",label:"$50,000 - $100,000"},{value:"100k-500k",label:"$100,000 - $500,000"},{value:"500k-1m",label:"$500,000 - $1M"},{value:"1m+",label:"More than $1M"}],industry:[{id:"ecommerce",label:"Ecommerce",value:"ecommerce",icon:"professional"},{id:"professional_services",label:"Professional Services",value:"professional_services",icon:"professional"},{id:"social_media",label:"Social Media",value:"social_media",icon:"socialicon"},{id:"real_estate",label:"Real Estate",value:"real_estate",icon:"realstate"},{id:"agency",label:"Agency",value:"agency",icon:"Agency"},{id:"saas",label:"Saas",value:"saas",icon:"saas"},{id:"3pl",label:"3PL",value:"3pl",icon:"pllimg"},{id:"retail",label:"Retail",value:"retail",icon:"retails"},{id:"ai_ventures",label:"AI Ventures",value:"ai_ventures",icon:"ventures"},{id:"others",label:"Others",value:"others",icon:"others"}]},La=t=>Lo.find(e=>e.id===t),wte=({value:t,onChange:e,fieldErrors:n,isSubmitting:r})=>{const s=wl.businessNeeds;n!=null&&n.businessNeeds||(n==null||n.general);const o=a=>{r||e("businessNeeds",a,!0)};return i.jsx("div",{className:"business-needs-step",children:i.jsx("div",{className:"options-container",children:s.map(a=>i.jsx("div",{className:`option ${t===a.value?"selected":""} ${r?"disabled":""}`,onClick:()=>o(a.value),role:"button",tabIndex:0,onKeyPress:l=>{(l.key==="Enter"||l.key===" ")&&o(a.value)},"aria-label":a.label,"aria-selected":t===a.value,children:a.label},a.id))})})},_te=({value:t,onChange:e,fieldErrors:n,isSubmitting:r})=>{const s=wl.previousBookkeeper;n!=null&&n.previousBookkeeper||(n==null||n.general);const o=a=>{r||e("previousBookkeeper",a,!0)};return i.jsx("div",{className:"previous-bookkeeper-step",children:i.jsx("div",{className:"options-container",children:s.map(a=>i.jsx("div",{className:`option ${t===a.value?"selected":""} ${r?"disabled":""}`,onClick:()=>o(a.value),role:"button",tabIndex:0,onKeyPress:l=>{(l.key==="Enter"||l.key===" ")&&o(a.value)},"aria-label":a.label,"aria-selected":t===a.value,children:a.label},a.id))})})},Nte=({value:t={},onChange:e,fieldErrors:n={},isSubmitting:r})=>{const{businessName:s="",businessType:o="",yearStarted:a="",employeeCount:l="",monthlyRevenue:c=""}=t,u=(h,f)=>{if(r)return;let p=f.target.value;h==="yearStarted"&&(p=p.replace(/\D/g,"").substring(0,4)),e(h,p,!1)};return i.jsxs("div",{className:"business-details-step form_section",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{children:["Business Name ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",className:`form-control ${n.businessName?"error":""}`,placeholder:"Enter your business name",value:s,onChange:h=>u("businessName",h),disabled:r,required:!0,"aria-label":"Business Name","aria-invalid":!!n.businessName,"aria-describedby":n.businessName?"businessName-error":void 0}),n.businessName&&i.jsx("span",{id:"businessName-error",className:"error-message",children:n.businessName})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{children:["Business Type ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("select",{className:`form-control ${o===""?"placeholder":""} ${n.businessType?"error":""}`,value:o,onChange:h=>u("businessType",h),disabled:r,required:!0,"aria-label":"Business Type","aria-invalid":!!n.businessType,"aria-describedby":n.businessType?"businessType-error":void 0,children:wl.businessType.map(h=>i.jsx("option",{value:h.value,children:h.label},h.value))}),n.businessType&&i.jsx("span",{id:"businessType-error",className:"error-message",children:n.businessType})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{children:["Year Started ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",className:`form-control ${n.yearStarted?"error":""}`,placeholder:"YYYY",maxLength:"4",pattern:"[0-9]{4}",value:a,onChange:h=>u("yearStarted",h),disabled:r,required:!0,"aria-label":"Year Started","aria-invalid":!!n.yearStarted,"aria-describedby":n.yearStarted?"yearStarted-error":void 0}),n.yearStarted&&i.jsx("span",{id:"yearStarted-error",className:"error-message",children:n.yearStarted})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{children:["Number of Employees ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("select",{className:`form-control ${l===""?"placeholder":""} ${n.employeeCount?"error":""}`,value:l,onChange:h=>u("employeeCount",h),disabled:r,required:!0,"aria-label":"Number of Employees","aria-invalid":!!n.employeeCount,"aria-describedby":n.employeeCount?"employeeCount-error":void 0,children:wl.employeeCount.map(h=>i.jsx("option",{value:h.value,children:h.label},h.value))}),n.employeeCount&&i.jsx("span",{id:"employeeCount-error",className:"error-message",children:n.employeeCount})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{children:["Monthly Revenue Range ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("select",{className:`form-control ${c===""?"placeholder":""} ${n.monthlyRevenue?"error":""}`,value:c,onChange:h=>u("monthlyRevenue",h),disabled:r,required:!0,"aria-label":"Monthly Revenue Range","aria-invalid":!!n.monthlyRevenue,"aria-describedby":n.monthlyRevenue?"monthlyRevenue-error":void 0,children:wl.monthlyRevenue.map(h=>i.jsx("option",{value:h.value,children:h.label},h.value))}),n.monthlyRevenue&&i.jsx("span",{id:"monthlyRevenue-error",className:"error-message",children:n.monthlyRevenue})]})]})},Ste="data:image/svg+xml,%3csvg%20width='32'%20height='26'%20viewBox='0%200%2032%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.25174%2025.0002H27.663C28.736%2025.0002%2029.6139%2024.1224%2029.6139%2023.0493L29.6146%204.33887H2.30152L2.30078%2023.0493C2.30078%2024.1224%203.17874%2025.0002%204.25174%2025.0002Z'%20fill='%23A04331'/%3e%3cpath%20d='M22.9156%208.80469L8.95273%208.82088L8.94922%2011.9328C8.94922%2011.9328%2013.3601%2012.7595%2016.3723%2012.7903C19.3845%2012.8212%2023.2474%2011.6529%2023.2474%2011.6529L22.9156%208.80469Z'%20fill='white'/%3e%3cpath%20d='M29.5624%204.68165V23.0126C29.5624%2024.0813%2028.6881%2024.9556%2027.6194%2024.9556H4.30336C3.2347%2024.9556%202.36035%2024.0813%202.36035%2023.0126V4.62012'%20stroke='%23C46D5D'%20stroke-width='0.46262'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.7803%203.91451L11.6998%201.8455C11.9072%201.37887%2012.4902%201%2013.0009%201H18.9224C19.433%201%2020.016%201.37887%2020.2234%201.8455L21.143%203.91451'%20stroke='%23C46D5D'%20stroke-width='0.539724'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26.4747%2011.0811C19.6074%2013.0754%2012.3145%2013.0754%205.44727%2011.0811'%20stroke='%23C56E5D'%20stroke-width='0.46262'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.95096%204.19043H28.9636C30.0366%204.19043%2030.9145%205.06848%2030.9145%206.14139V10.3684L15.9573%2013.3912L1%2010.3684V6.14139C1%205.0683%201.87796%204.19043%202.95096%204.19043Z'%20fill='%23903827'/%3e%3cpath%20d='M14.2666%2010.1396H17.6482V14.952C17.6482%2015.8819%2016.8873%2016.6428%2015.9574%2016.6428C15.0274%2016.6428%2014.2666%2015.8819%2014.2666%2014.952V10.1396Z'%20fill='%239F4230'/%3e%3cpath%20d='M14.0014%2012.9984L1.06445%2010.3838V6.17396C1.06445%205.10531%201.93881%204.23096%203.00746%204.23096H28.9142C29.9829%204.23096%2030.8572%205.10549%2030.8572%206.17396V10.3838L17.9576%2012.9908'%20stroke='%23B96859'%20stroke-width='0.46262'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.2773%2010.1558H17.6452V14.9485C17.6452%2015.8747%2016.8874%2016.6324%2015.9613%2016.6324C15.0351%2016.6324%2014.2773%2015.8747%2014.2773%2014.9485V10.1558Z'%20stroke='%23C56D5D'%20stroke-width='0.46262'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",jte="/assets/social-icons-4qAsHS8A.svg",Cte="/assets/real-estate-BJa4yaEA.svg",kte="/assets/agency-C31Yq3_U.svg",Ete="/assets/saas-DVne8fUY.svg",Tte="data:image/svg+xml,%3csvg%20width='22'%20height='26'%20viewBox='0%200%2022%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.2'%3e%3cpath%20d='M10.5324%2023.0562C12.6566%2023.0562%2014.3812%2023.4917%2014.3812%2024.0281C14.3812%2024.5645%2012.6566%2025%2010.5324%2025C8.40825%2025%206.68359%2024.5645%206.68359%2024.0281C6.68359%2023.4917%208.40825%2023.0562%2010.5324%2023.0562Z'%20fill='%230A9048'/%3e%3c/g%3e%3cpath%20d='M3.80515%2017.286C2.07239%2015.5599%201%2013.1714%201%2010.5323C1%205.26783%205.26783%201%2010.5323%201C15.7968%201%2020.0646%205.26783%2020.0646%2010.5323C20.0646%2013.1714%2018.9922%2015.5599%2017.2593%2017.286L17.2725%2017.2992L10.5323%2024.0396L3.79191%2017.2992L3.80515%2017.286Z'%20fill='%2302A292'/%3e%3cpath%20d='M3.80515%2017.286C2.07239%2015.5599%201%2013.1714%201%2010.5323C1%205.26783%205.26783%201%2010.5323%201C15.7968%201%2020.0646%205.26783%2020.0646%2010.5323C20.0646%2013.1714%2018.9922%2015.5599%2017.2593%2017.286L17.2725%2017.2992L10.5323%2024.0396L3.79191%2017.2992L3.80515%2017.286Z'%20stroke='%2302A292'%20stroke-width='2'/%3e%3cpath%20d='M10.5322%203.27295C14.6268%203.27295%2017.9462%206.59231%2017.9462%2010.687C17.9462%2014.7816%2014.6268%2018.101%2010.5322%2018.101C6.43753%2018.101%203.11816%2014.7816%203.11816%2010.687C3.11816%206.59231%206.43753%203.27295%2010.5322%203.27295Z'%20fill='white'/%3e%3cpath%20d='M4.28125%2015.0761C6.36507%2014.8414%208.44908%2014.7241%2010.5331%2014.7241C12.6169%2014.7241%2014.7009%2014.8414%2016.7847%2015.0761C15.3326%2016.9319%2013.0722%2018.1244%2010.5331%2018.1244C7.994%2018.1244%205.73337%2016.9319%204.28125%2015.0761Z'%20fill='%230A9048'%20fill-opacity='0.3'/%3e%3cpath%20d='M6.2959%2012.6089V12.1164H7.61983C7.76617%2012.1164%207.88462%2012.2266%207.88462%2012.3626C7.88462%2012.4986%207.76617%2012.6089%207.61983%2012.6089H6.82547V14.0862H12.1212V9.16186H6.82547V10.1467H9.73812C9.88446%2010.1467%2010.0029%2010.2569%2010.0029%2010.3929C10.0029%2010.529%209.88446%2010.6391%209.73812%2010.6391H6.2959V10.1467V9.16301C6.2959%208.89382%206.53368%208.66943%206.82671%208.66943H12.1198C12.4095%208.66943%2012.6508%208.89053%2012.6508%209.16301V10.6391H13.4499C13.5892%2010.6391%2013.7925%2010.716%2013.8944%2010.8107L14.5846%2011.4525C14.6859%2011.5467%2014.7691%2011.7337%2014.7691%2011.8691V14.3324C14.7691%2014.4645%2014.6504%2014.5786%2014.5043%2014.5786H13.7099C13.7099%2015.1224%2013.2356%2015.5634%2012.6508%2015.5634C12.0659%2015.5634%2011.5916%2015.1224%2011.5916%2014.5786H9.47334C9.47334%2015.1224%208.99902%2015.5634%208.41419%2015.5634C7.82937%2015.5634%207.35504%2015.1224%207.35504%2014.5786H6.82671C6.53721%2014.5786%206.2959%2014.3575%206.2959%2014.0848V12.6089ZM14.2395%2012.6089H13.4427C13.2946%2012.6089%2013.1803%2012.4986%2013.1803%2012.3626C13.1803%2012.2307%2013.2977%2012.1164%2013.4427%2012.1164H14.2395V11.8691C14.2395%2011.8643%2014.2121%2011.8024%2014.2102%2011.8006L13.52%2011.159C13.5186%2011.1577%2013.4506%2011.1316%2013.4499%2011.1316H12.6508V14.0862H14.2395V12.6089ZM6.56068%2011.1316H8.67898C8.82532%2011.1316%208.94376%2011.2417%208.94376%2011.3778C8.94376%2011.5139%208.82532%2011.624%208.67898%2011.624H6.56068C6.41435%2011.624%206.2959%2011.5139%206.2959%2011.3778C6.2959%2011.2417%206.41435%2011.1316%206.56068%2011.1316ZM13.1803%2014.5786H12.1212C12.1212%2014.8506%2012.3583%2015.071%2012.6508%2015.071C12.9433%2015.071%2013.1803%2014.8506%2013.1803%2014.5786ZM8.94376%2014.5786H7.88462C7.88462%2014.8506%208.12169%2015.071%208.41419%2015.071C8.70669%2015.071%208.94376%2014.8506%208.94376%2014.5786Z'%20fill='black'/%3e%3cg%20opacity='0.455055'%3e%3cpath%20d='M15.9212%209.00845C15.3341%208.66052%2015.1402%207.90254%2015.4882%207.31545C15.8361%206.72837%2016.5941%206.5345%2017.1812%206.88244C17.7683%207.23037%2017.9621%207.98835%2017.6142%208.57544C17.2663%209.16252%2016.5083%209.35639%2015.9212%209.00845ZM16.1012%208.70474C16.5206%208.95332%2017.0619%208.81487%2017.3105%208.39544C17.559%207.97616%2017.4206%207.43473%2017.0012%207.18615C16.5819%206.93767%2016.0404%207.07617%2015.7919%207.49545C15.5433%207.91488%2015.6819%208.45625%2016.1012%208.70474Z'%20fill='%23F8E71C'/%3e%3c/g%3e%3c/svg%3e",Ite="/assets/retails-BJZdO8pw.svg",Pte="/assets/ventures-9IpxC3hq.svg",MD="data:image/svg+xml,%3csvg%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.275%207.5459C1.77644%207.55598%200.839844%208.56482%200.839844%2010.0659C0.839844%2011.6535%201.75544%2012.6044%203.28676%2012.6145C4.808%2012.6044%205.69504%2011.6863%205.72276%2010.0667C5.69672%208.52282%204.76348%207.55682%203.275%207.54674V7.5459Z'%20fill='%234A5565'/%3e%3cpath%20d='M10.0738%207.5459C8.57527%207.55598%207.63867%208.56482%207.63867%2010.0659C7.63867%2011.6535%208.55427%2012.6044%2010.0856%2012.6145C11.6068%2012.6044%2012.4939%2011.6863%2012.5216%2010.0667C12.4956%208.52282%2011.5623%207.55682%2010.0738%207.54674V7.5459Z'%20fill='%234A5565'/%3e%3cpath%20d='M16.8727%207.5459C15.3741%207.55598%2014.4375%208.56482%2014.4375%2010.0659C14.4375%2011.6535%2015.3531%2012.6044%2016.8844%2012.6145C18.4057%2012.6044%2019.2927%2011.6863%2019.3204%2010.0667C19.2944%208.52282%2018.3611%207.55682%2016.8727%207.54674V7.5459Z'%20fill='%234A5565'/%3e%3c/svg%3e",Ate={professional:Ste,socialicon:jte,realstate:Cte,Agency:kte,saas:Ete,pllimg:Tte,retails:Ite,ventures:Pte,others:MD},Rte=({value:t,onChange:e,fieldErrors:n,isSubmitting:r})=>{const s=wl.industry;n!=null&&n.industry||(n==null||n.general);const o=l=>{r||e("industry",l,!1)},a=l=>Ate[l]||MD;return i.jsx("div",{className:"industry-step",children:i.jsx("div",{className:"industry_sec",children:s.map(l=>i.jsxs("div",{className:`industry_option option ${t===l.value?"selected":""} ${r?"disabled":""}`,onClick:()=>o(l.value),role:"button",tabIndex:0,onKeyPress:c=>{(c.key==="Enter"||c.key===" ")&&o(l.value)},"aria-label":l.label,"aria-selected":t===l.value,children:[i.jsx("img",{src:a(l.icon),alt:`${l.label} icon`,className:"industry-icon"}),i.jsx("span",{className:"industry-label",children:l.label})]},l.id))})})},Ote=t=>t==null||t===""||typeof t=="string"&&t.trim()===""?"Please select what kind of help your business needs":null,Dte=t=>t==null||t===""||typeof t=="string"&&t.trim()===""?"Please indicate if you had a previous bookkeeper":t!=="yes"&&t!=="no"?"Please select either Yes or No":null,Mte=t=>{const e={};if(!t.businessName||t.businessName.trim()===""?e.businessName="Business Name is required":t.businessName.trim().length<2?e.businessName="Business Name must be at least 2 characters":t.businessName.trim().length>100&&(e.businessName="Business Name must be less than 100 characters"),(!t.businessType||t.businessType==="")&&(e.businessType="Business Type is required"),!t.yearStarted||t.yearStarted.trim()==="")e.yearStarted="Year Started is required";else{const n=t.yearStarted.trim(),r=parseInt(n,10),s=new Date().getFullYear();/^\d{4}$/.test(n)?r<1800?e.yearStarted="Year must be 1800 or later":r>s&&(e.yearStarted=`Year cannot be later than ${s}`):e.yearStarted="Year must be exactly 4 digits"}return(!t.employeeCount||t.employeeCount==="")&&(e.employeeCount="Number of Employees is required"),(!t.monthlyRevenue||t.monthlyRevenue==="")&&(e.monthlyRevenue="Monthly Revenue Range is required"),Object.keys(e).length>0?e:null},Lte=t=>t==null||t===""||typeof t=="string"&&t.trim()===""?"Please select your industry":["ecommerce","professional_services","social_media","real_estate","agency","saas","3pl","retail","ai_ventures","others"].includes(t)?null:"Please select a valid industry from the list",Fte=(t,e)=>{const r={validateBusinessNeeds:Ote,validatePreviousBookkeeper:Dte,validateBusinessDetails:Mte,validateIndustry:Lte}[t];return r?r(e):(console.error(`Validator ${t} not found`),null)},Ute=()=>{const t=Jr(),e=Tt(),{currentStep:n,data:r,isSubmitting:s,isLoadingFromStorage:o,isCompleted:a}=Oe(b=>b.onboarding),[l]=NU(),{data:c,isLoading:u}=CT(),[h,f]=m.useState({});m.useEffect(()=>{t(_F())},[t]),m.useEffect(()=>{c&&console.log("Onboarding record initialized on backend")},[c]),m.useEffect(()=>{a&&e("/pricing")},[a,e]),m.useEffect(()=>{!o&&r&&t(NF())},[r,n,t,o]);const p=b=>({businessNeeds:yF,previousBookkeeper:vF,businessDetails:xF,industry:bF})[b],g=m.useCallback((b,j=null)=>{const I=La(b);if(!I)return!1;const O=j||r[I.dataField],S=Fte(I.validation,O);return S?(typeof S=="object"&&!Array.isArray(S)?f(S):f({[I.dataField]:S}),!1):(f({}),!0)},[r]),w=m.useCallback(async(b=!1,j=null)=>{var S,x;if(console.log("=== handleNext called ===",{currentStep:n,autoAdvance:b,currentData:r,stepDataField:(S=La(n))==null?void 0:S.dataField,actualValue:r[(x=La(n))==null?void 0:x.dataField]}),s)return console.log("Blocked: isSubmitting is true"),!1;const I=La(n);if(!b){console.log("Running validation for step",n),console.log("Current data value:",r[I.dataField]);const E=g(n,j);if(console.log("Validation result:",E),!E)return console.log(" Validation FAILED - blocking navigation"),console.log("Current errors:",h),!1}if(f({}),n===Lo.length){t(w1(!0));try{const E=Yt.getSubmissionData()||{data:r};console.log("Submitting onboarding data:",E);const k=await l(E).unwrap();if(console.log("Onboarding completion result:",k),k.success)return t(wF()),t(mF(!0)),t(SF()),e("/pricing"),!0;throw new Error(k.message||"Failed to complete onboarding")}catch(E){return console.error("Failed to complete onboarding:",E),alert(`Failed to complete onboarding: ${E.message||"Please try again."}`),!1}finally{t(w1(!1))}}else return t(b1(n+1)),!0},[n,s,g,r,t,l,e]),v=m.useCallback(()=>{n>1&&!s&&(t(b1(n-1)),f({}))},[n,s,t]),y=m.useCallback((b,j,I=!1)=>{const O=La(n);if(!O)return;const S=p(O.type);if(!S){console.error(`No update action found for step type: ${O.type}`);return}if(O.type==="businessDetails"){const x={...r.businessDetails,[b]:j};t(S(x)),h[b]&&f(E=>{const k={...E};return delete k[b],k})}else t(S(j)),f({}),I&&O.autoAdvance&&setTimeout(()=>{w(!0)},100)},[n,r,t,h,w]),_=m.useCallback(b=>{f(j=>{if(!j[b])return j;const I={...j};return delete I[b],I})},[]),N=La(n);return{currentStep:n,totalSteps:Lo.length,stepData:r,fieldErrors:h,isSubmitting:s,isLoadingFromStorage:o,currentStepConfig:N,handleNext:w,handleBack:v,handleFieldChange:y,clearFieldError:_,validateStep:g,isFirstStep:n===1,isLastStep:n===Lo.length,progressPercentage:n/Lo.length*100,formData:r}},$te=()=>{const t=Tt(),e=Oe(v=>{var y;return(y=v.auth.user)==null?void 0:y.id}),{data:n,isLoading:r}=CT(e,{skip:!e}),{currentStep:s,stepData:o,fieldErrors:a,isSubmitting:l,handleNext:c,handleBack:u,handleFieldChange:h,isFirstStep:f,isLastStep:p}=Ute();if(m.useEffect(()=>{n!=null&&n.is_onboarding_complete&&t("/dashboard")},[n,t]),r)return i.jsx("div",{className:"onboarding-loader",children:i.jsx("div",{className:"spinner-border",role:"status",children:i.jsx("span",{className:"sr-only",children:"Loading..."})})});const g=()=>{const v=Object.keys(a).length>0,y=(()=>{switch(s){case 1:return i.jsx(wte,{value:o.businessNeeds,onChange:h,fieldErrors:a,isSubmitting:l});case 2:return i.jsx(_te,{value:o.previousBookkeeper,onChange:h,fieldErrors:a,isSubmitting:l});case 3:return i.jsx(Nte,{value:o.businessDetails,onChange:h,fieldErrors:a,isSubmitting:l});case 4:return i.jsx(Rte,{value:o.industry,onChange:h,fieldErrors:a,isSubmitting:l});default:return null}})();return i.jsxs(i.Fragment,{children:[v&&s!==3&&i.jsx("div",{className:"validation-error-banner",style:{backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",padding:"12px",marginBottom:"16px",color:"#c00"},children:"Please select an option to continue."}),y]})},w=Lo[s-1];return i.jsx(bte,{currentStep:s,totalSteps:Lo.length,question:w.question,subtext:w.subtext,onBack:u,onNext:c,isFirstStep:f,isLastStep:p,isSubmitting:l,children:g()})};class Oae extends be.Component{constructor(n){super(n);Ca(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});Ca(this,"handleRecoverBackup",()=>{try{const n=localStorage.getItem("onboarding_backup");if(n){const{data:r}=JSON.parse(n);Yt.save(r),this.handleReset()}}catch(n){console.error("Failed to recover backup:",n),alert("Failed to recover backup data. Please try again.")}});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("Onboarding Error:",n,r);try{const s=Yt.get();s&&localStorage.setItem("onboarding_backup",JSON.stringify({data:s,error:n.toString(),timestamp:new Date().toISOString()}))}catch(s){console.error("Failed to save backup:",s)}this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?i.jsx("div",{className:"onboarding-error-boundary",children:i.jsxs("div",{className:"error-container",children:[i.jsx("h2",{children:"Oops! Something went wrong"}),i.jsx("p",{children:"We encountered an error while processing your onboarding information."}),i.jsx("p",{children:"Don't worry, your progress has been saved."}),!1,i.jsxs("div",{className:"error-actions",children:[i.jsx("button",{onClick:this.handleReset,className:"btn btn-primary",children:"Try Again"}),i.jsx("button",{onClick:this.handleRecoverBackup,className:"btn btn-secondary",children:"Recover Last Save"})]})]})}):this.props.children}}var LD={exports:{}},Bte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zte=Bte,Vte=zte;function FD(){}function UD(){}UD.resetWarningCache=FD;var qte=function(){function t(r,s,o,a,l,c){if(c!==Vte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UD,resetWarningCache:FD};return n.PropTypes=n,n};LD.exports=qte();var Wte=LD.exports;const dt=pm(Wte);function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){$D(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hf=function(e){return typeof e}:Hf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function $D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Gte(t,e){if(t==null)return{};var n=Hte(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BD(t,e){return Qte(t)||Kte(t,e)||Yte(t,e)||Xte()}function Qte(t){if(Array.isArray(t))return t}function Kte(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,o=!1,a,l;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function Yte(t,e){if(t){if(typeof t=="string")return mk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mk(t,e)}}function mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vn=function(e,n,r){var s=!!r,o=be.useRef(r);be.useEffect(function(){o.current=r},[r]),be.useEffect(function(){if(!s||!e)return function(){};var a=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,a),function(){e.off(n,a)}},[s,n,e,o])},Sb=function(e){var n=be.useRef(e);return be.useEffect(function(){n.current=e},[e]),n.current},ql=function(e){return e!==null&&Hf(e)==="object"},Jte=function(e){return ql(e)&&typeof e.then=="function"},Zte=function(e){return ql(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},gk="[object Object]",ene=function t(e,n){if(!ql(e)||!ql(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var o=Object.prototype.toString.call(e)===gk,a=Object.prototype.toString.call(n)===gk;if(o!==a)return!1;if(!o&&!r)return e===n;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},h=0;h<l.length;h+=1)u[l[h]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var p=Object.keys(u);if(p.length!==l.length)return!1;var g=e,w=n,v=function(_){return t(g[_],w[_])};return p.every(v)},zD=function(e,n,r){return ql(e)?Object.keys(e).reduce(function(s,o){var a=!ql(n)||!ene(e[o],n[o]);return r.includes(o)?(a&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),s):a?pk(pk({},s||{}),{},$D({},o,e[o])):s},null):null},VD="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",yk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VD;if(e===null||Zte(e))return e;throw new Error(n)},tne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VD;if(Jte(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return yk(s,n)})};var r=yk(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},nne=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},jg=be.createContext(null);jg.displayName="ElementsContext";var qD=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},WD=function(e){var n=e.stripe,r=e.options,s=e.children,o=be.useMemo(function(){return tne(n)},[n]),a=be.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),l=BD(a,2),c=l[0],u=l[1];be.useEffect(function(){var p=!0,g=function(v){u(function(y){return y.stripe?y:{stripe:v,elements:v.elements(r)}})};return o.tag==="async"&&!c.stripe?o.stripePromise.then(function(w){w&&p&&g(w)}):o.tag==="sync"&&!c.stripe&&g(o.stripe),function(){p=!1}},[o,c,r]);var h=Sb(n);be.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var f=Sb(r);return be.useEffect(function(){if(c.elements){var p=zD(r,f,["clientSecret","fonts"]);p&&c.elements.update(p)}},[r,f,c.elements]),be.useEffect(function(){nne(c.stripe)},[c.stripe]),be.createElement(jg.Provider,{value:c},s)};WD.propTypes={stripe:dt.any,options:dt.object};var rne=function(e){var n=be.useContext(jg);return qD(n,e)},sne=function(){var e=rne("calls useElements()"),n=e.elements;return n};dt.func.isRequired;var HD=be.createContext(null);HD.displayName="CheckoutSdkContext";var ine=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},one=be.createContext(null);one.displayName="CheckoutContext";dt.any,dt.shape({fetchClientSecret:dt.func.isRequired,elementsOptions:dt.object}).isRequired;var jb=function(e){var n=be.useContext(HD),r=be.useContext(jg);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?ine(n,e):qD(r,e)},ane=["mode"],lne=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Mt=function(e,n){var r="".concat(lne(e),"Element"),s=function(c){var u=c.id,h=c.className,f=c.options,p=f===void 0?{}:f,g=c.onBlur,w=c.onFocus,v=c.onReady,y=c.onChange,_=c.onEscape,N=c.onClick,b=c.onLoadError,j=c.onLoaderStart,I=c.onNetworksChange,O=c.onConfirm,S=c.onCancel,x=c.onShippingAddressChange,E=c.onShippingRateChange,k=c.onSavedPaymentMethodRemove,R=c.onSavedPaymentMethodUpdate,P=jb("mounts <".concat(r,">")),T="elements"in P?P.elements:null,L="checkoutSdk"in P?P.checkoutSdk:null,q=be.useState(null),z=BD(q,2),B=z[0],D=z[1],F=be.useRef(null),W=be.useRef(null);vn(B,"blur",g),vn(B,"focus",w),vn(B,"escape",_),vn(B,"click",N),vn(B,"loaderror",b),vn(B,"loaderstart",j),vn(B,"networkschange",I),vn(B,"confirm",O),vn(B,"cancel",S),vn(B,"shippingaddresschange",x),vn(B,"shippingratechange",E),vn(B,"savedpaymentmethodremove",k),vn(B,"savedpaymentmethodupdate",R),vn(B,"change",y);var X;v&&(e==="expressCheckout"?X=v:X=function(){v(B)}),vn(B,"ready",X),be.useLayoutEffect(function(){if(F.current===null&&W.current!==null&&(T||L)){var $=null;if(L)switch(e){case"payment":$=L.createPaymentElement(p);break;case"address":if("mode"in p){var K=p.mode,V=Gte(p,ane);if(K==="shipping")$=L.createShippingAddressElement(V);else if(K==="billing")$=L.createBillingAddressElement(V);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":$=L.createExpressCheckoutElement(p);break;case"currencySelector":$=L.createCurrencySelectorElement();break;case"taxId":$=L.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else T&&($=T.create(e,p));F.current=$,D($),$&&$.mount(W.current)}},[T,L,p]);var Z=Sb(p);return be.useEffect(function(){if(F.current){var $=zD(p,Z,["paymentRequest"]);$&&"update"in F.current&&F.current.update($)}},[p,Z]),be.useLayoutEffect(function(){return function(){if(F.current&&typeof F.current.destroy=="function")try{F.current.destroy(),F.current=null}catch{}}},[]),be.createElement("div",{id:u,className:h,ref:W})},o=function(c){jb("mounts <".concat(r,">"));var u=c.id,h=c.className;return be.createElement("div",{id:u,className:h})},a=n?o:s;return a.propTypes={id:dt.string,className:dt.string,onChange:dt.func,onBlur:dt.func,onFocus:dt.func,onReady:dt.func,onEscape:dt.func,onClick:dt.func,onLoadError:dt.func,onLoaderStart:dt.func,onNetworksChange:dt.func,onConfirm:dt.func,onCancel:dt.func,onShippingAddressChange:dt.func,onShippingRateChange:dt.func,onSavedPaymentMethodRemove:dt.func,onSavedPaymentMethodUpdate:dt.func,options:dt.object},a.displayName=r,a.__elementType=e,a},Lt=typeof window>"u",cne=be.createContext(null);cne.displayName="EmbeddedCheckoutProviderContext";var une=function(){var e=jb("calls useStripe()"),n=e.stripe;return n};Mt("auBankAccount",Lt);var vk=Mt("card",Lt);Mt("cardNumber",Lt);Mt("cardExpiry",Lt);Mt("cardCvc",Lt);Mt("fpxBank",Lt);Mt("iban",Lt);Mt("idealBank",Lt);Mt("p24Bank",Lt);Mt("epsBank",Lt);Mt("payment",Lt);Mt("expressCheckout",Lt);Mt("currencySelector",Lt);Mt("paymentRequestButton",Lt);Mt("linkAuthentication",Lt);Mt("address",Lt);Mt("shippingAddress",Lt);Mt("paymentMethodMessaging",Lt);Mt("affirmMessage",Lt);Mt("afterpayClearpayMessage",Lt);Mt("taxId",Lt);var GD="basil",dne=function(e){return e===3?"v3":e},QD="https://js.stripe.com",hne="".concat(QD,"/").concat(GD,"/stripe.js"),fne=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,pne=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var mne=function(e){return fne.test(e)||pne.test(e)},gne=function(){for(var e=document.querySelectorAll('script[src^="'.concat(QD,'"]')),n=0;n<e.length;n++){var r=e[n];if(mne(r.src))return r}return null},xk=function(e){var n="",r=document.createElement("script");r.src="".concat(hne).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},yne=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},Vc=null,lf=null,cf=null,vne=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},xne=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},bne=function(e){return Vc!==null?Vc:(Vc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=gne();if(!(s&&e)){if(!s)s=xk(e);else if(s&&cf!==null&&lf!==null){var o;s.removeEventListener("load",cf),s.removeEventListener("error",lf),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=xk(e)}}cf=xne(n,r),lf=vne(r),s.addEventListener("load",cf),s.addEventListener("error",lf)}catch(a){r(a);return}}),Vc.catch(function(n){return Vc=null,Promise.reject(n)}))},wne=function(e,n,r){if(e===null)return null;var s=n[0],o=s.match(/^pk_test/),a=dne(e.version),l=GD;o&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return yne(c,r),c},qc,KD=!1,YD=function(){return qc||(qc=bne(null).catch(function(e){return qc=null,Promise.reject(e)}),qc)};Promise.resolve().then(function(){return YD()}).catch(function(t){KD||console.warn(t)});var _ne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];KD=!0;var s=Date.now();return YD().then(function(o){return wne(o,n,s)})};const Nne={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},invalid:{color:"#dc3545",iconColor:"#dc3545"}},hidePostalCode:!1},Sne=({plan:t,billingPeriod:e,onSuccess:n,onCancel:r})=>{const s=une(),o=sne(),{user:a}=Oe(k=>k.auth),[l]=pU(),[c]=gU(),[u]=xU(),[h,f]=m.useState({name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",address:"",city:"",state:"",zipCode:"",country:"US"}),[p,g]=m.useState(!1),[w,v]=m.useState(!1),[y,_]=m.useState(""),[N,b]=m.useState(""),j=k=>{const{name:R,value:P}=k.target;f(T=>({...T,[R]:P}))},I=k=>{g(k.complete),k.error?_(k.error.message):_("")},O=()=>!h.name||!h.email?(_("Please fill in all required fields"),!1):p?!0:(_("Please enter valid card details"),!1),S=async k=>{var R,P,T,L,q,z,B,D,F,W,X,Z,$,K,V;if(k.preventDefault(),!!O()){if(!s||!o){_("Stripe has not loaded yet. Please try again.");return}if(!t){_("No plan selected. Please go back and select a plan.");return}v(!0),_(""),console.log("[DEBUG] Starting checkout process:",{planId:t._id,planName:t.name,billingPeriod:e,stripeLoaded:!!s,elementsLoaded:!!o});try{const{error:H,paymentMethod:U}=await s.createPaymentMethod({type:"card",card:o.getElement(vk),billing_details:{name:h.name,email:h.email,address:{line1:h.address,city:h.city,state:h.state,postal_code:h.zipCode,country:h.country}}});if(H){_(H.message),v(!1);return}await u({...h,paymentMethodId:U.id}).unwrap(),console.log("[DEBUG] Creating subscription with:",{planId:t._id,billingPeriod:e,paymentMethodId:U.id,apiEndpoint:(R=yt==null?void 0:yt.api)==null?void 0:R.baseUrl});const J=await l({planId:t._id,billingPeriod:e,paymentMethodId:U.id,billingInfo:h}).unwrap();console.log("[DEBUG] Subscription API Response:",{status:((P=J==null?void 0:J.data)==null?void 0:P.status)||(J==null?void 0:J.status),requiresAction:((T=J==null?void 0:J.data)==null?void 0:T.requiresAction)||(J==null?void 0:J.requiresAction),hasClientSecret:!!((L=J==null?void 0:J.data)!=null&&L.clientSecret||J!=null&&J.clientSecret)});const Q=J.data||J;if(Q.requiresAction||Q.status==="incomplete"||Q.paymentIntentStatus==="requires_confirmation"||Q.paymentIntentStatus==="requires_action"){if(!Q.clientSecret){_("Payment confirmation required but no client secret provided"),v(!1);return}const{error:ee,paymentIntent:re}=await s.confirmCardPayment(Q.clientSecret,{payment_method:U.id});if(ee){_(ee.message),v(!1);return}if(Q.paymentIntentId&&(re==null?void 0:re.status)==="succeeded")try{await c({subscriptionId:Q.subscriptionId,paymentIntentId:Q.paymentIntentId}).unwrap()}catch(ne){console.warn("Payment processing notification failed:",ne)}}b("Payment successful! Redirecting to your dashboard..."),v(!1),setTimeout(()=>{n()},2e3)}catch(H){console.error("[DEBUG] Payment error full details:",{errorType:(z=(q=H==null?void 0:H.data)==null?void 0:q.error)==null?void 0:z.type,errorMessage:((D=(B=H==null?void 0:H.data)==null?void 0:B.error)==null?void 0:D.message)||((F=H==null?void 0:H.data)==null?void 0:F.message),errorStatus:H==null?void 0:H.status,fullError:H}),(Z=(X=(W=H==null?void 0:H.data)==null?void 0:W.error)==null?void 0:X.message)!=null&&Z.includes("Invalid API Key")&&console.error("[CRITICAL] Stripe API Key Error Detected!",{errorMessage:H.data.error.message,suggestedFix:"Backend is likely using publishable key (pk_) instead of secret key (sk_)"}),_(((K=($=H==null?void 0:H.data)==null?void 0:$.error)==null?void 0:K.message)||((V=H==null?void 0:H.data)==null?void 0:V.message)||(H==null?void 0:H.message)||"Payment failed. Please try again."),v(!1)}}},x=()=>t?e==="yearly"?t.pricePerYear||0:t.pricePerMonth||0:0,E=()=>e==="yearly"?"per year":"per month";return i.jsxs("div",{className:"checkout-form-container",children:[N&&i.jsxs("div",{className:"alert alert-success",children:[i.jsx(iR,{className:"w-5 h-5"}),i.jsx("span",{children:N})]}),y&&i.jsxs("div",{className:"alert alert-error",children:[i.jsx(Qs,{className:"w-5 h-5"}),i.jsx("span",{children:y})]}),i.jsxs("form",{onSubmit:S,className:"checkout-form",children:[i.jsxs("div",{className:"form-section",children:[i.jsx("h2",{className:"section-title",children:"Billing Information"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{htmlFor:"name",children:"Full Name *"}),i.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:j,required:!0,disabled:w,placeholder:"John Doe"})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{htmlFor:"email",children:"Email Address *"}),i.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:j,required:!0,disabled:w,placeholder:"john@example.com"})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{htmlFor:"address",children:"Street Address"}),i.jsx("input",{type:"text",id:"address",name:"address",value:h.address,onChange:j,disabled:w,placeholder:"123 Main St"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"city",children:"City"}),i.jsx("input",{type:"text",id:"city",name:"city",value:h.city,onChange:j,disabled:w,placeholder:"New York"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"state",children:"State"}),i.jsx("input",{type:"text",id:"state",name:"state",value:h.state,onChange:j,disabled:w,placeholder:"NY"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"zipCode",children:"ZIP Code"}),i.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:h.zipCode,onChange:j,disabled:w,placeholder:"10001"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"country",children:"Country"}),i.jsxs("select",{id:"country",name:"country",value:h.country,onChange:j,disabled:w,children:[i.jsx("option",{value:"US",children:"United States"}),i.jsx("option",{value:"CA",children:"Canada"}),i.jsx("option",{value:"GB",children:"United Kingdom"}),i.jsx("option",{value:"AU",children:"Australia"}),i.jsx("option",{value:"IN",children:"India"})]})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx(lg,{className:"w-5 h-5"}),"Payment Details"]}),i.jsx("div",{className:"card-element-wrapper",children:i.jsx(vk,{options:Nne,onChange:I})}),i.jsxs("div",{className:"security-badges",children:[i.jsxs("div",{className:"badge",children:[i.jsx(ib,{className:"w-4 h-4"}),i.jsx("span",{children:"Secure SSL Encryption"})]}),i.jsxs("div",{className:"badge",children:[i.jsx(pd,{className:"w-4 h-4"}),i.jsx("span",{children:"PCI Compliant"})]})]})]}),i.jsxs("div",{className:"order-summary-inline",children:[i.jsxs("div",{className:"summary-row",children:[i.jsx("span",{children:"Total Due Today"}),i.jsxs("span",{className:"total-amount",children:["$",(t==null?void 0:t.trialDays)>0?"0.00":x()]})]}),(t==null?void 0:t.trialDays)>0&&i.jsxs("p",{className:"trial-note",children:["You won't be charged until after your ",t.trialDays,"-day trial ends."]})]}),i.jsx("button",{type:"submit",className:"submit-button",disabled:w||!s||!p,children:w?i.jsxs(i.Fragment,{children:[i.jsx(zf,{className:"spinner mr-2"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ib,{className:"w-5 h-5 mr-2"}),"Pay $",x()," ",E()]})}),i.jsxs("p",{className:"terms-text",children:["By confirming your subscription, you agree to our"," ",i.jsx("a",{href:"/terms",children:"Terms of Service"})," and"," ",i.jsx("a",{href:"/privacy",children:"Privacy Policy"}),". You can cancel your subscription at any time."]})]}),i.jsxs("div",{className:"need-help",children:[i.jsx("h3",{children:"Need Help?"}),i.jsx("p",{children:"Contact our support team"}),i.jsx("a",{href:"mailto:support@plurify.com",children:"support@plurify.com"})]})]})},jne=_ne("pk_test_51S0gniDBKob6EriCGAcsv8r6PFJX9I0Vi8EnjXpew9qfEg64YgKzbpj2TjC31piigQNSlv0Tw9bUBDJBWQMelQt600e8nOWh6Q"),Cne=()=>{var k,R;const t=Tt(),[e,n]=m.useState(null),[r,s]=m.useState("monthly"),[o,a]=m.useState(!1),{isAuthenticated:l,user:c}=Oe(P=>P.auth),{data:u,isLoading:h,error:f,refetch:p}=jT(void 0,{refetchOnMountOrArgChange:!0}),{data:g,isLoading:w}=$0(void 0,{skip:!l,refetchOnMountOrArgChange:!0}),v=(u==null?void 0:u.data)||[],y=g==null?void 0:g.data,_=v.find(P=>P._id===e),N=P=>{if(!I(P)){if(!l){sessionStorage.setItem("selectedPlan",JSON.stringify(P)),sessionStorage.setItem("billingPeriod",r),t("/login",{state:{from:"/pricing",message:"Please login to continue with your purchase"}});return}n(P._id),a(!0)}},b=()=>{a(!1),setTimeout(()=>{n(null)},600)},j=()=>{t("/dashboard",{state:{message:"Welcome! Your subscription is now active.",subscriptionSuccess:!0}})},I=P=>{var T;return((T=y==null?void 0:y.subscriptionPlanId)==null?void 0:T._id)===P._id},O=P=>r==="yearly"?P.pricePerYear:P.pricePerMonth,S=P=>{if(P.features&&Array.isArray(P.features)&&typeof P.features[0]=="string")return P.features;const T=[];return P.features&&(P.features.amazonIntegration&&T.push("Amazon Integration"),P.features.walmartIntegration&&T.push("Walmart Integration"),P.features.shopifyIntegration&&T.push("Shopify Integration"),P.features.advancedAnalytics&&T.push("Advanced Analytics"),P.features.prioritySupport&&T.push("Priority Support"),P.features.customReports&&T.push("Custom Reports")),T},x=P=>{const T=P.toLowerCase();return T.includes("starter")||T.includes("basic")?i.jsx(KK,{className:"w-8 h-8"}):T.includes("pro")||T.includes("professional")?i.jsx(Zc,{className:"w-8 h-8"}):T.includes("enterprise")||T.includes("business")?i.jsx(pd,{className:"w-8 h-8"}):T.includes("team")?i.jsx(xs,{className:"w-8 h-8"}):i.jsx(Zc,{className:"w-8 h-8"})},E=P=>{const T=(P.pricePerMonth||0)*12,L=P.pricePerYear||T,q=T-L,z=T>0?Math.round(q/T*100):0;return{amount:q,percent:z}};return h||w?i.jsxs("div",{className:"pricing-loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Loading plans..."})]}):f?i.jsxs("div",{className:"pricing-error",children:[i.jsxs("p",{children:["Error loading plans: ",((k=f==null?void 0:f.data)==null?void 0:k.message)||"An error occurred"]}),i.jsx("button",{onClick:()=>p(),children:"Try Again"})]}):i.jsxs("div",{className:`pricing-checkout-container ${o?"checkout-mode":"plans-mode"}`,children:[i.jsx("div",{className:"pricing-header",children:o?i.jsxs("button",{className:"back-button",onClick:b,children:[i.jsx($l,{className:"w-5 h-5"}),i.jsx("span",{children:"Back to all plans"})]}):i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"pricing-title",children:"Choose Your Plan"}),i.jsx("p",{className:"pricing-subtitle",children:"Select the perfect plan for your e-commerce business"}),y&&i.jsx("div",{className:"current-subscription-info",children:i.jsxs("p",{children:["You are currently on the ",i.jsx("strong",{children:(R=y.subscriptionPlanId)==null?void 0:R.name})," plan.",i.jsx("button",{onClick:()=>t("/dashboard"),className:"dashboard-btn",style:{marginLeft:"10px",padding:"5px 15px",backgroundColor:"#667eea",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Go to Dashboard"}),i.jsx("a",{href:"/subscription",style:{marginLeft:"10px"},children:" Manage Subscription"})]})}),i.jsxs("div",{className:"billing-toggle",children:[i.jsx("button",{className:`toggle-btn ${r==="monthly"?"active":""}`,onClick:()=>s("monthly"),children:"Monthly"}),i.jsxs("button",{className:`toggle-btn ${r==="yearly"?"active":""}`,onClick:()=>s("yearly"),children:["Yearly",v.length>0&&i.jsxs("span",{className:"save-badge",children:["Save up to ",Math.max(...v.map(P=>E(P).percent)),"%"]})]})]})]})}),i.jsxs("div",{className:"content-area",children:[i.jsx("div",{className:"plans-section",children:i.jsx("div",{className:"plans-grid",children:v.map(P=>{const T=E(P),L=I(P),q=P._id===e;return i.jsxs("div",{className:`plan-card ${P.isPopular?"popular":""} ${L?"current":""} ${q?"selected":""} ${o&&!q?"hidden":""}`,children:[P.isPopular&&i.jsxs("div",{className:"popular-badge",children:[i.jsx(Zc,{className:"w-4 h-4 mr-1"}),"Most Popular"]}),L&&i.jsx("div",{className:"current-badge",children:"Your Current Plan"}),i.jsx("div",{className:"plan-icon",children:x(P.name)}),i.jsx("h3",{className:"plan-name",children:P.name}),P.description&&i.jsx("p",{className:"plan-description",children:P.description}),i.jsxs("div",{className:"plan-pricing",children:[i.jsxs("div",{className:"price-container",children:[i.jsx("span",{className:"currency",children:"$"}),i.jsx("span",{className:"price",children:O(P)}),i.jsxs("span",{className:"period",children:["/",r==="yearly"?"year":"month"]})]}),r==="yearly"&&T.amount>0&&i.jsxs("div",{className:"savings-text",children:["Save $",T.amount.toFixed(2)," (",T.percent,"% off)"]})]}),i.jsx("ul",{className:"features-list",children:S(P).map((z,B)=>i.jsxs("li",{className:"feature-item",children:[i.jsx(aa,{className:"feature-check"}),i.jsx("span",{children:z})]},B))}),P.trialDays>0&&!L&&i.jsx("div",{className:"trial-info",children:i.jsxs("span",{className:"trial-badge",children:[P.trialDays," day free trial"]})}),(!o||!q)&&i.jsx("button",{className:`plan-button ${L?"current":""}`,onClick:()=>N(P),disabled:L,children:L?"Current Plan":"Choose This Plan"}),o&&q&&i.jsxs("div",{className:"billing-toggle-selected",children:[i.jsx("label",{children:"Billing Period:"}),i.jsxs("div",{className:"toggle-buttons",children:[i.jsx("button",{className:r==="monthly"?"active":"",onClick:()=>s("monthly"),children:"Monthly"}),i.jsx("button",{className:r==="yearly"?"active":"",onClick:()=>s("yearly"),children:"Yearly"})]})]})]},P._id)})})}),i.jsx("div",{className:`checkout-section ${o?"visible":""}`,children:o&&_&&i.jsx(WD,{stripe:jne,children:i.jsx(Sne,{plan:_,billingPeriod:r,onSuccess:j,onCancel:b})})})]}),!o&&i.jsx("div",{className:"trust-section",children:i.jsxs("div",{className:"trust-badges",children:[i.jsxs("div",{className:"trust-badge",children:[i.jsx(pd,{className:"w-6 h-6"}),i.jsx("span",{children:"Secure Payments"})]}),i.jsxs("div",{className:"trust-badge",children:[i.jsx(aa,{className:"w-6 h-6"}),i.jsx("span",{children:"Cancel Anytime"})]}),i.jsxs("div",{className:"trust-badge",children:[i.jsx(Zc,{className:"w-6 h-6"}),i.jsx("span",{children:"24/7 Support"})]})]})})]})},kne=()=>{var X,Z,$,K,V,H,U,J,Q,ee,re,ne,ye,fe,ze;const t=Tt(),[e,n]=m.useState("overview"),{token:r,isAuthenticated:s}=Oe(se=>se.auth),[o,a]=m.useState(1),[l,c]=m.useState(!1),[u,h]=m.useState(!1),{data:f,isLoading:p,refetch:g}=$0(void 0,{skip:!s||!r}),{data:w,isLoading:v}=vU(void 0,{skip:!s||!r}),{data:y,isLoading:_}=bU(void 0,{skip:!s||!r}),{data:N,isLoading:b}=yU({page:o,limit:10},{skip:!s||!r||e!=="transactions"}),[j,{isLoading:I}]=mU(),[O]=wU(),[S]=_U(),x=f==null?void 0:f.data,E=w==null?void 0:w.data,k=(y==null?void 0:y.data)||[],R=((X=N==null?void 0:N.data)==null?void 0:X.transactions)||[],P=(($=(Z=N==null?void 0:N.data)==null?void 0:Z.pagination)==null?void 0:$.totalPages)||1,T=p||v||_;m.useEffect(()=>{(!s||!r)&&(console.warn("[SubscriptionManagement] User not authenticated, redirecting to login"),t("/login"))},[s,r,t]);const L=async(se=!1)=>{try{const we=await j({subscriptionId:x._id,cancelImmediately:se}).unwrap();we.success?(c(!1),g(),alert(we.message)):alert("Failed to cancel subscription: "+we.message)}catch(we){console.error("Error cancelling subscription:",we),alert("An error occurred while cancelling subscription")}},q=async se=>{var we;try{const _e=await O(se).unwrap();(we=_e==null?void 0:_e.data)!=null&&we.invoicePdf&&window.open(_e.data.invoicePdf,"_blank")}catch(_e){console.error("Error downloading invoice:",_e),alert("Failed to download invoice")}},z=async()=>{var se;try{const we=await S({returnUrl:window.location.href}).unwrap();(se=we==null?void 0:we.data)!=null&&se.url&&(window.location.href=we.data.url)}catch(we){console.error("Error creating portal session:",we),alert("Failed to open customer portal")}},B=se=>new Date(se).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}),D=se=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(se),F=se=>({active:"success",trialing:"info",past_due:"warning",cancelled:"danger",unpaid:"danger",succeeded:"success",failed:"danger",pending:"warning",refunded:"secondary"})[se]||"secondary",W=()=>{if(!(x!=null&&x.currentPeriodEnd))return 0;const se=new Date(x.currentPeriodEnd);return Math.ceil((se-new Date)/(1e3*60*60*24))};return T?i.jsxs("div",{className:"subscription-loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Loading subscription details..."})]}):x?i.jsxs("div",{className:"subscription-management-container",children:[i.jsxs("div",{className:"subscription-header",children:[i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Subscription Management"}),i.jsx("p",{children:"Manage your subscription, billing, and payment methods"})]}),i.jsx("div",{className:"header-actions",children:i.jsx("button",{className:"btn-secondary",onClick:()=>t("/pricing"),children:"Upgrade Plan"})})]}),i.jsxs("div",{className:"subscription-tabs",children:[i.jsx("button",{className:`tab ${e==="overview"?"active":""}`,onClick:()=>n("overview"),children:"Overview"}),i.jsx("button",{className:`tab ${e==="billing"?"active":""}`,onClick:()=>n("billing"),children:"Billing & Payment"}),i.jsx("button",{className:`tab ${e==="transactions"?"active":""}`,onClick:()=>n("transactions"),children:"Transaction History"})]}),i.jsxs("div",{className:"tab-content",children:[e==="overview"&&i.jsxs("div",{className:"overview-tab",children:[i.jsxs("div",{className:"current-plan-card",children:[i.jsxs("div",{className:"plan-header",children:[i.jsx("h2",{children:"Current Plan"}),i.jsx("span",{className:`status-badge ${F(x.status)}`,children:x.status})]}),i.jsxs("div",{className:"plan-details",children:[i.jsxs("div",{className:"plan-info",children:[i.jsx("h3",{children:((K=x.subscriptionPlanId)==null?void 0:K.name)||"Plan Name"}),i.jsxs("p",{className:"plan-price",children:[D(((V=x.subscriptionPlanId)==null?void 0:V.pricePerMonth)||0),i.jsxs("span",{children:["/",x.billingPeriod]})]})]}),i.jsxs("div",{className:"plan-meta",children:[i.jsxs("div",{className:"meta-item",children:[i.jsx(yl,{size:16}),i.jsxs("div",{children:[i.jsx("span",{children:"Current Period"}),i.jsxs("p",{children:[B(x.currentPeriodStart)," - ",B(x.currentPeriodEnd)]})]})]}),i.jsxs("div",{className:"meta-item",children:[i.jsx(qo,{size:16}),i.jsxs("div",{children:[i.jsx("span",{children:"Next Billing"}),i.jsxs("p",{children:[B(x.currentPeriodEnd)," (",W()," days)"]})]})]})]}),x.trialEnd&&new Date(x.trialEnd)>new Date&&i.jsxs("div",{className:"trial-banner",children:[i.jsx(Qs,{size:16}),"Trial ends on ",B(x.trialEnd)]}),x.cancelAtPeriodEnd&&i.jsxs("div",{className:"cancel-banner",children:[i.jsx(Qs,{size:16}),"Subscription will be cancelled on ",B(x.currentPeriodEnd)]})]}),i.jsxs("div",{className:"plan-features",children:[i.jsx("h4",{children:"Included Features:"}),i.jsx("ul",{children:(U=(H=x.subscriptionPlanId)==null?void 0:H.features)==null?void 0:U.map((se,we)=>i.jsxs("li",{children:[i.jsx(aa,{size:16}),se]},we))})]}),i.jsx("div",{className:"plan-actions",children:!x.cancelAtPeriodEnd&&i.jsx("button",{className:"btn-danger",onClick:()=>c(!0),children:"Cancel Subscription"})})]}),i.jsxs("div",{className:"usage-stats",children:[i.jsx("h3",{children:"Usage Statistics"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:((J=x.subscriptionPlanId)==null?void 0:J.maxProducts)||0}),i.jsx("div",{className:"stat-label",children:"Products Limit"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:((Q=x.subscriptionPlanId)==null?void 0:Q.maxStores)||0}),i.jsx("div",{className:"stat-label",children:"Stores Limit"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:W()}),i.jsx("div",{className:"stat-label",children:"Days Remaining"})]})]})]})]}),e==="billing"&&i.jsxs("div",{className:"billing-tab",children:[i.jsxs("div",{className:"payment-method-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Payment Method"}),i.jsx("button",{className:"btn-link",onClick:z,children:"Manage Payment Methods"})]}),k.length>0?i.jsx("div",{className:"payment-methods",children:k.map(se=>{var we,_e,Qe,zt,Je;return i.jsxs("div",{className:"payment-method-card",children:[i.jsx(lg,{size:24}),i.jsxs("div",{className:"method-details",children:[i.jsxs("p",{className:"method-brand",children:[(_e=(we=se.card)==null?void 0:we.brand)==null?void 0:_e.toUpperCase(),"  ",(Qe=se.card)==null?void 0:Qe.last4]}),i.jsxs("p",{className:"method-exp",children:["Expires ",(zt=se.card)==null?void 0:zt.exp_month,"/",(Je=se.card)==null?void 0:Je.exp_year]})]}),x.defaultPaymentMethod===se.id&&i.jsx("span",{className:"default-badge",children:"Default"})]},se.id)})}):i.jsxs("div",{className:"no-payment-methods",children:[i.jsx("p",{children:"No payment methods on file"}),i.jsx("button",{className:"btn-primary",onClick:z,children:"Add Payment Method"})]})]}),i.jsxs("div",{className:"billing-info-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Billing Information"}),i.jsx("button",{className:"btn-link",onClick:()=>t("/settings/billing"),children:"Edit"})]}),E?i.jsxs("div",{className:"billing-details",children:[i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{children:"Name:"}),i.jsx("p",{children:E.name})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{children:"Email:"}),i.jsx("p",{children:E.email})]}),E.companyName&&i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{children:"Company:"}),i.jsx("p",{children:E.companyName})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{children:"Address:"}),i.jsxs("p",{children:[(ee=E.address)==null?void 0:ee.line1,i.jsx("br",{}),((re=E.address)==null?void 0:re.line2)&&`${E.address.line2}<br />`,(ne=E.address)==null?void 0:ne.city,", ",(ye=E.address)==null?void 0:ye.state," ",(fe=E.address)==null?void 0:fe.postal_code,i.jsx("br",{}),(ze=E.address)==null?void 0:ze.country]})]})]}):i.jsx("div",{className:"no-billing-info",children:i.jsx("p",{children:"No billing information on file"})})]})]}),e==="transactions"&&i.jsxs("div",{className:"transactions-tab",children:[i.jsx("h3",{children:"Transaction History"}),R.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"transactions-table",children:i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Date"}),i.jsx("th",{children:"Description"}),i.jsx("th",{children:"Amount"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Invoice"})]})}),i.jsx("tbody",{children:R.map(se=>i.jsxs("tr",{children:[i.jsx("td",{children:B(se.createdAt)}),i.jsx("td",{children:se.description}),i.jsx("td",{children:D(se.amount)}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${F(se.status)}`,children:se.status})}),i.jsx("td",{children:se.invoiceUrl&&i.jsx("button",{className:"btn-icon",onClick:()=>q(se._id),title:"Download Invoice",children:i.jsx(GQ,{size:16})})})]},se._id))})]})}),P>1&&i.jsxs("div",{className:"pagination",children:[i.jsx("button",{disabled:o===1,onClick:()=>a(se=>se-1),children:"Previous"}),i.jsxs("span",{children:["Page ",o," of ",P]}),i.jsx("button",{disabled:o===P,onClick:()=>a(se=>se+1),children:"Next"})]})]}):i.jsxs("div",{className:"no-transactions",children:[i.jsx(Ks,{size:48}),i.jsx("p",{children:"No transactions found"})]})]})]}),l&&i.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:i.jsxs("div",{className:"modal-content",onClick:se=>se.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{children:"Cancel Subscription"}),i.jsx("button",{onClick:()=>c(!1),children:i.jsx(dg,{size:20})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsx("p",{children:"Are you sure you want to cancel your subscription?"}),i.jsxs("div",{className:"cancel-options",children:[i.jsxs("div",{className:"option",children:[i.jsx("input",{type:"radio",id:"cancel-end",name:"cancel-type",value:"end",defaultChecked:!0}),i.jsxs("label",{htmlFor:"cancel-end",children:[i.jsx("strong",{children:"Cancel at period end"}),i.jsxs("p",{children:["Keep access until ",B(x.currentPeriodEnd)]})]})]}),i.jsxs("div",{className:"option",children:[i.jsx("input",{type:"radio",id:"cancel-now",name:"cancel-type",value:"now"}),i.jsxs("label",{htmlFor:"cancel-now",children:[i.jsx("strong",{children:"Cancel immediately"}),i.jsx("p",{children:"Lose access immediately (no refund)"})]})]})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>c(!1),children:"Keep Subscription"}),i.jsx("button",{className:"btn-danger",onClick:()=>{const se=document.getElementById("cancel-now").checked;L(se)},disabled:I,children:I?"Cancelling...":"Cancel Subscription"})]})]})})]}):i.jsxs("div",{className:"no-subscription",children:[i.jsx(Qs,{size:48}),i.jsx("h2",{children:"No Active Subscription"}),i.jsx("p",{children:"You don't have an active subscription."}),i.jsx("button",{onClick:()=>t("/pricing"),className:"btn-primary",children:"View Plans"})]})},Ene=()=>{const t=Oe(S=>S.auth.user);if(!((t==null?void 0:t.role_id)==="1"))return i.jsx(Xn,{to:"/dashboard",replace:!0});const[n,r]=m.useState(!1),[s,o]=m.useState(null),[a,l]=m.useState({name:"",description:"",pricePerMonth:"",pricePerYear:"",features:{amazonIntegration:!1,walmartIntegration:!1,shopifyIntegration:!1,advancedAnalytics:!1,prioritySupport:!1,customReports:!1},trialDays:0,isPopular:!1,isActive:!0}),{data:c,isLoading:u,refetch:h}=jT(),f=(c==null?void 0:c.data)||[],[p,{isLoading:g}]=dU(),[w,{isLoading:v}]=hU(),[y,{isLoading:_}]=fU(),N=S=>{const{name:x,value:E,type:k,checked:R}=S.target;if(x.startsWith("features.")){const P=x.split(".")[1];l(T=>({...T,features:{...T.features,[P]:R}}))}else l(P=>({...P,[x]:k==="checkbox"?R:E}))},b=async S=>{var x;S.preventDefault();try{const E={...a,pricePerMonth:parseFloat(a.pricePerMonth),pricePerYear:parseFloat(a.pricePerYear),trialDays:parseInt(a.trialDays)||0};s?(await w({id:s._id,...E}).unwrap(),alert("Plan updated successfully!"),o(null)):(await p(E).unwrap(),alert("Plan created successfully!"),r(!1)),O(),h()}catch(E){alert("Error: "+(((x=E==null?void 0:E.data)==null?void 0:x.message)||E.message))}},j=S=>{o(S),l({name:S.name,description:S.description||"",pricePerMonth:S.pricePerMonth,pricePerYear:S.pricePerYear,features:S.features||{amazonIntegration:!1,walmartIntegration:!1,shopifyIntegration:!1,advancedAnalytics:!1,prioritySupport:!1,customReports:!1},trialDays:S.trialDays||0,isPopular:S.isPopular||!1,isActive:S.isActive!==!1}),r(!0)},I=async S=>{var x;if(window.confirm("Are you sure you want to delete this plan?"))try{await y(S).unwrap(),alert("Plan deleted successfully!"),h()}catch(E){alert("Error deleting plan: "+(((x=E==null?void 0:E.data)==null?void 0:x.message)||E.message))}},O=()=>{l({name:"",description:"",pricePerMonth:"",pricePerYear:"",features:{amazonIntegration:!1,walmartIntegration:!1,shopifyIntegration:!1,advancedAnalytics:!1,prioritySupport:!1,customReports:!1},trialDays:0,isPopular:!1,isActive:!0}),o(null),r(!1)};return u?i.jsx("div",{className:"loading",children:"Loading plans..."}):i.jsxs("div",{className:"subscription-plan-manager",children:[i.jsxs("div",{className:"manager-header",children:[i.jsx("h1",{children:"Subscription Plans Management (Admin Only)"}),!n&&i.jsxs("button",{className:"btn btn-primary",onClick:()=>r(!0),children:[i.jsx(cg,{className:"w-5 h-5 mr-2"}),"Add New Plan"]})]}),n&&i.jsxs("div",{className:"plan-form-container",children:[i.jsxs("div",{className:"form-header",children:[i.jsx("h2",{children:s?"Edit Plan":"Create New Plan"}),i.jsx("button",{className:"btn-close",onClick:O,children:i.jsx(dg,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:b,className:"plan-form",children:[i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Plan Name *"}),i.jsx("input",{type:"text",name:"name",value:a.name,onChange:N,placeholder:"e.g., Professional",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Description"}),i.jsx("input",{type:"text",name:"description",value:a.description,onChange:N,placeholder:"Perfect for growing businesses"})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Monthly Price ($) *"}),i.jsx("input",{type:"number",name:"pricePerMonth",value:a.pricePerMonth,onChange:N,placeholder:"49.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Yearly Price ($) *"}),i.jsx("input",{type:"number",name:"pricePerYear",value:a.pricePerYear,onChange:N,placeholder:"499.99",step:"0.01",min:"0",required:!0})]})]}),i.jsx("div",{className:"form-row",children:i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Trial Days"}),i.jsx("input",{type:"number",name:"trialDays",value:a.trialDays,onChange:N,placeholder:"14",min:"0"})]})}),i.jsxs("div",{className:"features-section",children:[i.jsx("label",{children:"Features"}),i.jsxs("div",{className:"features-grid",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",name:"features.amazonIntegration",checked:a.features.amazonIntegration,onChange:N}),"Amazon Integration"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",name:"features.walmartIntegration",checked:a.features.walmartIntegration,onChange:N}),"Walmart Integration"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",name:"features.shopifyIntegration",checked:a.features.shopifyIntegration,onChange:N}),"Shopify Integration"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",name:"features.advancedAnalytics",checked:a.features.advancedAnalytics,onChange:N}),"Advanced Analytics"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",name:"features.prioritySupport",checked:a.features.prioritySupport,onChange:N}),"Priority Support"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",name:"features.customReports",checked:a.features.customReports,onChange:N}),"Custom Reports"]})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",name:"isPopular",checked:a.isPopular,onChange:N}),"Mark as Popular"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",name:"isActive",checked:a.isActive,onChange:N}),"Active Plan"]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:O,children:"Cancel"}),i.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:g||v,children:[i.jsx(SK,{className:"w-5 h-5 mr-2"}),s?"Update Plan":"Create Plan"]})]})]})]}),i.jsxs("div",{className:"plans-list",children:[i.jsx("h2",{children:"Existing Plans"}),i.jsxs("div",{className:"plans-table",children:[i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Name"}),i.jsx("th",{children:"Monthly Price"}),i.jsx("th",{children:"Yearly Price"}),i.jsx("th",{children:"Trial Days"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:f.map(S=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsxs("div",{className:"plan-name-cell",children:[S.name,S.isPopular&&i.jsx(Zc,{className:"popular-icon"})]})}),i.jsxs("td",{children:["$",S.pricePerMonth]}),i.jsxs("td",{children:["$",S.pricePerYear]}),i.jsx("td",{children:S.trialDays||0}),i.jsx("td",{children:i.jsx("span",{className:`status ${S.isActive?"active":"inactive"}`,children:S.isActive?"Active":"Inactive"})}),i.jsx("td",{children:i.jsxs("div",{className:"actions",children:[i.jsx("button",{className:"btn-icon btn-edit",onClick:()=>j(S),title:"Edit Plan",children:i.jsx(fR,{className:"w-4 h-4"})}),i.jsx("button",{className:"btn-icon btn-delete",onClick:()=>I(S._id),title:"Delete Plan",disabled:_,children:i.jsx(md,{className:"w-4 h-4"})})]})})]},S._id))})]}),f.length===0&&i.jsxs("div",{className:"no-plans",children:[i.jsx(pd,{className:"w-12 h-12 mb-3"}),i.jsx("p",{children:"No subscription plans found"}),i.jsx("p",{className:"text-sm",children:"Create your first plan to get started"})]})]})]})]})},Tne=()=>{const t=Tt(),[e]=Y0(),[n,{isLoading:r}]=SU(),[s,o]=m.useState(null);return m.useEffect(()=>{(async()=>{var f;const l=e.get("code"),c=e.get("state"),u=e.get("error"),h=e.get("error_description");if(u){o(`Amazon authorization failed: ${h||u}`),setTimeout(()=>{t("/dashboard")},5e3);return}if(!l||!c){o("Missing authorization code or state parameter"),setTimeout(()=>{t("/dashboard")},5e3);return}try{const p=await n({code:l,state:c}).unwrap();p.success?setTimeout(()=>{t("/dashboard",{state:{amazonConnected:!0,message:"Amazon account connected successfully!"}})},2e3):(o(p.message||"Failed to connect Amazon account"),setTimeout(()=>{t("/dashboard")},5e3))}catch(p){console.error("Callback processing error:",p),o(((f=p.data)==null?void 0:f.message)||"Failed to process Amazon authorization"),setTimeout(()=>{t("/dashboard")},5e3)}})()},[e,n,t]),i.jsx("div",{className:"amazon-callback-container",children:i.jsx("div",{className:"callback-content",children:s?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"callback-error",children:[i.jsx("div",{className:"error-icon",children:""}),i.jsx("h2",{children:"Connection Failed"}),i.jsx("p",{children:s}),i.jsx("p",{className:"redirect-message",children:"Redirecting to dashboard..."})]})}):r?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"callback-loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("h2",{children:"Connecting to Amazon"}),i.jsx("p",{children:"Please wait while we complete the connection..."})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"callback-success",children:[i.jsx("div",{className:"success-icon",children:""}),i.jsx("h2",{children:"Successfully Connected!"}),i.jsx("p",{children:"Your Amazon seller account has been connected."}),i.jsx("p",{className:"redirect-message",children:"Redirecting to dashboard..."})]})})})})},Ine=()=>{const t=Tt(),[e]=Y0(),[n,r]=m.useState("processing"),[s,o]=m.useState("Connecting to Shopify...");return m.useEffect(()=>{const a=e.get("success"),l=e.get("shop"),c=e.get("error");if(console.log(" Shopify Callback Debug:"),console.log("  - Current URL:",window.location.href),console.log("  - Search params:",Object.fromEntries(e)),console.log("  - Success:",a),console.log("  - Shop:",l),console.log("  - Error:",c),a==="true")r("success"),o(`Successfully connected to ${l||"your Shopify store"}!`),console.log(" Success! Redirecting to dashboard..."),setTimeout(()=>{t("/dashboard")},2e3);else if(a==="false"){r("error");const u=c?decodeURIComponent(c):"Failed to connect to Shopify";o(u),console.log(" Error occurred. Redirecting to dashboard..."),setTimeout(()=>{t("/dashboard")},3e3)}else r("error"),o("Invalid callback parameters. Please try connecting again."),console.log(" Invalid parameters. Redirecting to dashboard..."),setTimeout(()=>{t("/dashboard")},3e3)},[e,t]),i.jsx("div",{className:"shopify-callback-container",children:i.jsxs("div",{className:"callback-card",children:[i.jsxs("div",{className:`status-icon ${n}`,children:[n==="processing"&&i.jsx("div",{className:"spinner-icon",children:i.jsx("div",{className:"spinner"})}),n==="success"&&i.jsx("div",{className:"success-icon",children:""}),n==="error"&&i.jsx("div",{className:"error-icon",children:""})]}),i.jsxs("h2",{className:`status-title ${n}`,children:[n==="processing"&&"Connecting to Shopify",n==="success"&&"Connection Successful!",n==="error"&&"Connection Failed"]}),i.jsx("p",{className:"message",children:s}),i.jsxs("div",{className:"redirect-info",children:[i.jsx("p",{className:"redirect-message",children:"Redirecting you back to the dashboard..."}),n==="processing"&&i.jsx("div",{className:"progress-bar",children:i.jsx("div",{className:"progress-bar-fill"})})]}),i.jsx("button",{className:"manual-redirect-btn",onClick:()=>t("/dashboard"),children:"Go to Dashboard Now"})]})})},Pne=()=>{const t=Tt(),e=kn(),[n]=e9(),[r,s]=m.useState("processing"),[o,a]=m.useState("");return m.useEffect(()=>{(async()=>{var v;console.log("Processing QuickBooks OAuth callback...");const c=new URLSearchParams(e.search),u=c.get("code"),h=c.get("state"),f=c.get("realmId"),p=c.get("error"),g=c.get("error_description");c.get("qb_connected");const w=c.get("company");if(p){console.error("OAuth error:",p,g),s("error"),a(g||"Authorization denied or cancelled."),setTimeout(()=>{t("/dashboard?tab=quickbooks&error=true")},3e3);return}if(!u||!f){console.error("Missing required OAuth parameters"),s("error"),a("Invalid authorization response. Missing required parameters."),setTimeout(()=>{t("/dashboard?tab=quickbooks&error=true")},3e3);return}try{console.log("Sending callback data to backend:",{code:u.substring(0,20)+"...",realmId:f,state:h});const y=await n({code:u,realmId:f,state:h}).unwrap();console.log("QuickBooks connection successful:",y),s("success");const _=new URLSearchParams({tab:"quickbooks",connected:"true",...w&&{company:w}});setTimeout(()=>{t(`/dashboard?${_.toString()}`)},2e3)}catch(y){console.error("Failed to connect QuickBooks:",y),s("error"),a(((v=y==null?void 0:y.data)==null?void 0:v.message)||(y==null?void 0:y.message)||"Failed to connect your QuickBooks account. Please try again."),setTimeout(()=>{t("/dashboard?tab=quickbooks&error=true")},3e3)}})()},[e,n,t]),i.jsx("div",{className:"quickbooks-callback-container",children:i.jsxs("div",{className:"callback-card",children:[i.jsx("div",{className:"qb-logo-container",children:i.jsx("span",{className:"qb-logo-large",children:""})}),r==="processing"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"spinner-container",children:i.jsx("div",{className:"spinner"})}),i.jsx("h2",{children:"Connecting to QuickBooks..."}),i.jsx("p",{children:"Please wait while we establish a secure connection with your QuickBooks account."}),i.jsx("div",{className:"progress-bar",children:i.jsx("div",{className:"progress-fill"})})]}),r==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"success-icon",children:i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#48BB78"}),i.jsx("path",{d:"M8 12l2 2 4-4",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),i.jsx("h2",{children:"Successfully Connected!"}),i.jsx("p",{children:"Your QuickBooks account has been connected successfully."}),i.jsx("p",{className:"redirect-message",children:"Redirecting to your integration dashboard..."})]}),r==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"error-icon",children:i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#F56565"}),i.jsx("path",{d:"M15 9l-6 6M9 9l6 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),i.jsx("h2",{children:"Connection Failed"}),i.jsx("p",{className:"error-message",children:o}),i.jsx("p",{className:"redirect-message",children:"Redirecting back to QuickBooks integration..."})]}),i.jsx("div",{className:"manual-nav",children:i.jsx("button",{onClick:()=>t("/dashboard?tab=quickbooks"),className:"back-btn",children:"Return to QuickBooks Integration"})})]})})},Ane=async()=>{console.log(` Testing Firebase Realtime Database Connection...
`);try{const t=UP();console.log(" Step 1: Firebase database instance obtained");const e=hl(t,".info/connected");Vw(e,u=>{u.val()===!0?console.log(" Step 2: Connected to Firebase Realtime Database"):console.log(" Step 2: NOT connected to Firebase Realtime Database")});const n=localStorage.getItem("userInfo"),r=n?JSON.parse(n).id||JSON.parse(n)._id:"test-user";console.log(` Step 3: Using user ID: ${r}`);const s=hl(t,`test/${r}/connection-test`),o={timestamp:Date.now(),message:"Testing Firebase connection",browser:navigator.userAgent};await Vj(s,o),console.log(" Step 4: Successfully wrote test data to Firebase"),console.log("   Data written:",o);const a=hl(t,`notifications/${r}`);let l=!1;const c=FP(a,u=>{l=!0,console.log(" FIREBASE LISTENER TRIGGERED!"),console.log("   Notification signal received:",u.val())});return console.log(" Step 5: Listener set up for notifications path"),setTimeout(async()=>{const u=wV(a);await Vj(u,{id:"test-notification-"+Date.now(),timestamp:Date.now(),action:"new",test:!0}),console.log(" Step 6: Test notification signal sent to Firebase")},1e3),setTimeout(()=>{l?(console.log(`
 FIREBASE IS WORKING! `),console.log("Real-time listeners are active and receiving signals.")):(console.log(`
 FIREBASE LISTENERS NOT TRIGGERED `),console.log("Possible issues:"),console.log("1. Firebase credentials not configured"),console.log("2. Firebase Realtime Database not enabled"),console.log("3. Security rules blocking access"),console.log("4. Network/firewall issues")),c()},3e3),!0}catch(t){return console.error(" Firebase test failed:",t),console.log(`
Error details:`),console.log("- Message:",t.message),console.log("- Code:",t.code),console.log(`
This likely means Firebase is not properly configured.`),!1}};window.testFirebaseConnection=Ane;console.log("Firebase test ready! Run: testFirebaseConnection()");const Rne=[{icon:dR,label:"Home",href:"/new-dashboard"},{icon:Ks,label:"Documents",href:"/dashboard/documents"},{icon:lg,label:"Billing",href:"/dashboard/billing"},{icon:MQ,label:"Support",href:"/dashboard/support"},{icon:gQ,label:"QuickBooks Data",href:"/new-dashboard/quickbooks"}];function One(){const t=kn();return i.jsxs("aside",{className:"w-64 bg-[#1B2232] text-[#ced6e5] flex flex-col min-h-screen",children:[i.jsx("div",{className:"p-6 border-b border-[#1C232F]",children:i.jsx(Ul,{variant:"light"})}),i.jsx("nav",{className:"flex-1 p-4 space-y-1",children:Rne.map(e=>{const n=t.pathname===e.href||e.href==="/new-dashboard"&&t.pathname.startsWith("/new-dashboard")&&t.pathname.split("/").length===2;return i.jsxs(Bt,{to:e.href,className:le("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors no-underline",n?"bg-[#0c3d8c] text-white":"text-white hover:bg-[#263247] hover:text-[#F0F1F3]"),children:[i.jsx(e.icon,{className:"w-5 h-5"}),e.label]},e.href)})}),i.jsx("div",{className:"p-4 border-t border-sidebar-border",children:i.jsxs(Bt,{to:"/",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-[#E2E4E8]/70 hover:bg-[#1A2231] hover:text-[#F0F1F3] transition-colors no-underline",children:[i.jsx(d_,{className:"w-5 h-5"}),"Sign Out"]})})]})}function Dne(t){const e=Mne(t),n=m.forwardRef((r,s)=>{const{children:o,...a}=r,l=m.Children.toArray(o),c=l.find(Fne);if(c){const u=c.props.children,h=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function Mne(t){const e=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const a=$ne(s),l=Une(o,s.props);return s.type!==m.Fragment&&(l.ref=r?fi(r,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Lne=Symbol("radix.slottable");function Fne(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Lne}function Une(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function $ne(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cb=["Enter"," "],Bne=["ArrowDown","PageUp","Home"],XD=["ArrowUp","PageDown","End"],zne=[...Bne,...XD],Vne={ltr:[...Cb,"ArrowRight"],rtl:[...Cb,"ArrowLeft"]},qne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},th="Menu",[bd,Wne,Hne]=m_(th),[ba,JD]=wr(th,[Hne,dc,lc]),Cg=dc(),ZD=lc(),[Gne,wa]=ba(th),[Qne,nh]=ba(th),eM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=t,l=Cg(e),[c,u]=m.useState(null),h=m.useRef(!1),f=bs(o),p=Yd(s);return m.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),i.jsx(I_,{...l,children:i.jsx(Gne,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(Qne,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:a,children:r})})})};eM.displayName=th;var Kne="MenuAnchor",z_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Cg(n);return i.jsx(P_,{...s,...r,ref:e})});z_.displayName=Kne;var V_="MenuPortal",[Yne,tM]=ba(V_,{forceMount:void 0}),nM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=wa(V_,e);return i.jsx(Yne,{scope:e,forceMount:n,children:i.jsx(_r,{present:n||o.open,children:i.jsx(vg,{asChild:!0,container:s,children:r})})})};nM.displayName=V_;var mr="MenuContent",[Xne,q_]=ba(mr),rM=m.forwardRef((t,e)=>{const n=tM(mr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=wa(mr,t.__scopeMenu),a=nh(mr,t.__scopeMenu);return i.jsx(bd.Provider,{scope:t.__scopeMenu,children:i.jsx(_r,{present:r||o.open,children:i.jsx(bd.Slot,{scope:t.__scopeMenu,children:a.modal?i.jsx(Jne,{...s,ref:e}):i.jsx(Zne,{...s,ref:e})})})})}),Jne=m.forwardRef((t,e)=>{const n=wa(mr,t.__scopeMenu),r=m.useRef(null),s=Fe(e,r);return m.useEffect(()=>{const o=r.current;if(o)return O_(o)},[]),i.jsx(W_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:de(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Zne=m.forwardRef((t,e)=>{const n=wa(mr,t.__scopeMenu);return i.jsx(W_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ere=Dne("MenuContent.ScrollLock"),W_=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,y=wa(mr,n),_=nh(mr,n),N=Cg(n),b=ZD(n),j=Wne(n),[I,O]=m.useState(null),S=m.useRef(null),x=Fe(e,S,y.onContentChange),E=m.useRef(0),k=m.useRef(""),R=m.useRef(0),P=m.useRef(null),T=m.useRef("right"),L=m.useRef(0),q=w?bg:m.Fragment,z=w?{as:ere,allowPinchZoom:!0}:void 0,B=F=>{var U,J;const W=k.current+F,X=j().filter(Q=>!Q.disabled),Z=document.activeElement,$=(U=X.find(Q=>Q.ref.current===Z))==null?void 0:U.textValue,K=X.map(Q=>Q.textValue),V=hre(K,W,$),H=(J=X.find(Q=>Q.textValue===V))==null?void 0:J.ref.current;(function Q(ee){k.current=ee,window.clearTimeout(E.current),ee!==""&&(E.current=window.setTimeout(()=>Q(""),1e3))})(W),H&&setTimeout(()=>H.focus())};m.useEffect(()=>()=>window.clearTimeout(E.current),[]),w_();const D=m.useCallback(F=>{var X,Z;return T.current===((X=P.current)==null?void 0:X.side)&&pre(F,(Z=P.current)==null?void 0:Z.area)},[]);return i.jsx(Xne,{scope:n,searchRef:k,onItemEnter:m.useCallback(F=>{D(F)&&F.preventDefault()},[D]),onItemLeave:m.useCallback(F=>{var W;D(F)||((W=S.current)==null||W.focus(),O(null))},[D]),onTriggerLeave:m.useCallback(F=>{D(F)&&F.preventDefault()},[D]),pointerGraceTimerRef:R,onPointerGraceIntentChange:m.useCallback(F=>{P.current=F},[]),children:i.jsx(q,{...z,children:i.jsx(fg,{asChild:!0,trapped:s,onMountAutoFocus:de(o,F=>{var W;F.preventDefault(),(W=S.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:i.jsx(g_,{asChild:!0,...b,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:O,onEntryFocus:de(c,F=>{_.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(A_,{role:"menu","aria-orientation":"vertical","data-state":xM(y.open),"data-radix-menu-content":"",dir:_.dir,...N,...v,ref:x,style:{outline:"none",...v.style},onKeyDown:de(v.onKeyDown,F=>{const X=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Z=F.ctrlKey||F.altKey||F.metaKey,$=F.key.length===1;X&&(F.key==="Tab"&&F.preventDefault(),!Z&&$&&B(F.key));const K=S.current;if(F.target!==K||!zne.includes(F.key))return;F.preventDefault();const H=j().filter(U=>!U.disabled).map(U=>U.ref.current);XD.includes(F.key)&&H.reverse(),ure(H)}),onBlur:de(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(E.current),k.current="")}),onPointerMove:de(t.onPointerMove,wd(F=>{const W=F.target,X=L.current!==F.clientX;if(F.currentTarget.contains(W)&&X){const Z=F.clientX>L.current?"right":"left";T.current=Z,L.current=F.clientX}}))})})})})})})});rM.displayName=mr;var tre="MenuGroup",H_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return i.jsx(Ce.div,{role:"group",...r,ref:e})});H_.displayName=tre;var nre="MenuLabel",sM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return i.jsx(Ce.div,{...r,ref:e})});sM.displayName=nre;var cm="MenuItem",bk="menu.itemSelect",kg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=m.useRef(null),a=nh(cm,t.__scopeMenu),l=q_(cm,t.__scopeMenu),c=Fe(e,o),u=m.useRef(!1),h=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent(bk,{bubbles:!0,cancelable:!0});f.addEventListener(bk,g=>r==null?void 0:r(g),{once:!0}),_R(f,p),p.defaultPrevented?u.current=!1:a.onClose()}};return i.jsx(iM,{...s,ref:c,disabled:n,onClick:de(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),u.current=!0},onPointerUp:de(t.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:de(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Cb.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});kg.displayName=cm;var iM=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,a=q_(cm,n),l=ZD(n),c=m.useRef(null),u=Fe(e,c),[h,f]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=c.current;w&&g((w.textContent??"").trim())},[o.children]),i.jsx(bd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:i.jsx(y_,{asChild:!0,...l,focusable:!r,children:i.jsx(Ce.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:de(t.onPointerMove,wd(w=>{r?a.onItemLeave(w):(a.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(t.onPointerLeave,wd(w=>a.onItemLeave(w))),onFocus:de(t.onFocus,()=>f(!0)),onBlur:de(t.onBlur,()=>f(!1))})})})}),rre="MenuCheckboxItem",oM=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return i.jsx(dM,{scope:t.__scopeMenu,checked:n,children:i.jsx(kg,{role:"menuitemcheckbox","aria-checked":um(n)?"mixed":n,...s,ref:e,"data-state":Q_(n),onSelect:de(s.onSelect,()=>r==null?void 0:r(um(n)?!0:!n),{checkForDefaultPrevented:!1})})})});oM.displayName=rre;var aM="MenuRadioGroup",[sre,ire]=ba(aM,{value:void 0,onValueChange:()=>{}}),lM=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=bs(r);return i.jsx(sre,{scope:t.__scopeMenu,value:n,onValueChange:o,children:i.jsx(H_,{...s,ref:e})})});lM.displayName=aM;var cM="MenuRadioItem",uM=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=ire(cM,t.__scopeMenu),o=n===s.value;return i.jsx(dM,{scope:t.__scopeMenu,checked:o,children:i.jsx(kg,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":Q_(o),onSelect:de(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});uM.displayName=cM;var G_="MenuItemIndicator",[dM,ore]=ba(G_,{checked:!1}),hM=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=ore(G_,n);return i.jsx(_r,{present:r||um(o.checked)||o.checked===!0,children:i.jsx(Ce.span,{...s,ref:e,"data-state":Q_(o.checked)})})});hM.displayName=G_;var are="MenuSeparator",fM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return i.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});fM.displayName=are;var lre="MenuArrow",pM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Cg(n);return i.jsx(R_,{...s,...r,ref:e})});pM.displayName=lre;var cre="MenuSub",[Dae,mM]=ba(cre),tu="MenuSubTrigger",gM=m.forwardRef((t,e)=>{const n=wa(tu,t.__scopeMenu),r=nh(tu,t.__scopeMenu),s=mM(tu,t.__scopeMenu),o=q_(tu,t.__scopeMenu),a=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},h=m.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return m.useEffect(()=>h,[h]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(z_,{asChild:!0,...u,children:i.jsx(iM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":xM(n.open),...t,ref:fi(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:de(t.onPointerMove,wd(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:de(t.onPointerLeave,wd(f=>{var g,w;h();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,y=v==="right",_=y?-5:5,N=p[y?"left":"right"],b=p[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:N,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:N,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:de(t.onKeyDown,f=>{var g;const p=o.searchRef.current!=="";t.disabled||p&&f.key===" "||Vne[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});gM.displayName=tu;var yM="MenuSubContent",vM=m.forwardRef((t,e)=>{const n=tM(mr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=wa(mr,t.__scopeMenu),a=nh(mr,t.__scopeMenu),l=mM(yM,t.__scopeMenu),c=m.useRef(null),u=Fe(e,c);return i.jsx(bd.Provider,{scope:t.__scopeMenu,children:i.jsx(_r,{present:r||o.open,children:i.jsx(bd.Slot,{scope:t.__scopeMenu,children:i.jsx(W_,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:de(t.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:de(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:de(t.onKeyDown,h=>{var g;const f=h.currentTarget.contains(h.target),p=qne[a.dir].includes(h.key);f&&p&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});vM.displayName=yM;function xM(t){return t?"open":"closed"}function um(t){return t==="indeterminate"}function Q_(t){return um(t)?"indeterminate":t?"checked":"unchecked"}function ure(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function dre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function hre(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=dre(t,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function fre(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],u=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-u)*(r-h)/(p-h)+u&&(s=!s)}return s}function pre(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return fre(n,e)}function wd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var mre=eM,gre=z_,yre=nM,vre=rM,xre=H_,bre=sM,wre=kg,_re=oM,Nre=lM,Sre=uM,jre=hM,Cre=fM,kre=pM,Ere=gM,Tre=vM,Eg="DropdownMenu",[Ire,Mae]=wr(Eg,[JD]),En=JD(),[Pre,bM]=Ire(Eg),wM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,c=En(e),u=m.useRef(null),[h,f]=ai({prop:s,defaultProp:o??!1,onChange:a,caller:Eg});return i.jsx(Pre,{scope:e,triggerId:Hr(),triggerRef:u,contentId:Hr(),open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:l,children:i.jsx(mre,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};wM.displayName=Eg;var _M="DropdownMenuTrigger",NM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=bM(_M,n),a=En(n);return i.jsx(gre,{asChild:!0,...a,children:i.jsx(Ce.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:fi(e,o.triggerRef),onPointerDown:de(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:de(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});NM.displayName=_M;var Are="DropdownMenuPortal",SM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=En(e);return i.jsx(yre,{...r,...n})};SM.displayName=Are;var jM="DropdownMenuContent",CM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=bM(jM,n),o=En(n),a=m.useRef(!1);return i.jsx(vre,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:de(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:de(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CM.displayName=jM;var Rre="DropdownMenuGroup",Ore=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(xre,{...s,...r,ref:e})});Ore.displayName=Rre;var Dre="DropdownMenuLabel",kM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(bre,{...s,...r,ref:e})});kM.displayName=Dre;var Mre="DropdownMenuItem",EM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(wre,{...s,...r,ref:e})});EM.displayName=Mre;var Lre="DropdownMenuCheckboxItem",TM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(_re,{...s,...r,ref:e})});TM.displayName=Lre;var Fre="DropdownMenuRadioGroup",Ure=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(Nre,{...s,...r,ref:e})});Ure.displayName=Fre;var $re="DropdownMenuRadioItem",IM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(Sre,{...s,...r,ref:e})});IM.displayName=$re;var Bre="DropdownMenuItemIndicator",PM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(jre,{...s,...r,ref:e})});PM.displayName=Bre;var zre="DropdownMenuSeparator",AM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(Cre,{...s,...r,ref:e})});AM.displayName=zre;var Vre="DropdownMenuArrow",qre=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(kre,{...s,...r,ref:e})});qre.displayName=Vre;var Wre="DropdownMenuSubTrigger",RM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(Ere,{...s,...r,ref:e})});RM.displayName=Wre;var Hre="DropdownMenuSubContent",OM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return i.jsx(Tre,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OM.displayName=Hre;var Gre=wM,Qre=NM,Kre=SM,DM=CM,MM=kM,LM=EM,FM=TM,UM=IM,$M=PM,BM=AM,zM=RM,VM=OM;const _d=Gre,Nd=Qre,Yre=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>i.jsxs(zM,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,i.jsx(sR,{className:"ml-auto h-4 w-4"})]}));Yre.displayName=zM.displayName;const Xre=m.forwardRef(({className:t,...e},n)=>i.jsx(VM,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Xre.displayName=VM.displayName;const Wl=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>i.jsx(Kre,{children:i.jsx(DM,{ref:r,sideOffset:e,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Wl.displayName=DM.displayName;const Zn=m.forwardRef(({className:t,inset:e,...n},r)=>i.jsx(LM,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Zn.displayName=LM.displayName;const Jre=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>i.jsxs(FM,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx($M,{children:i.jsx(aa,{className:"h-4 w-4"})})}),e]}));Jre.displayName=FM.displayName;const Zre=m.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(UM,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx($M,{children:i.jsx(c_,{className:"h-2 w-2 fill-current"})})}),e]}));Zre.displayName=UM.displayName;const ese=m.forwardRef(({className:t,inset:e,...n},r)=>i.jsx(MM,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ese.displayName=MM.displayName;const rh=m.forwardRef(({className:t,...e},n)=>i.jsx(BM,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));rh.displayName=BM.displayName;function tse({user:t,logout:e}){const n=Tt(),r=Jr(),s=()=>{r(e()),n("/")};return i.jsxs("header",{className:"h-16 bg-card border-b border-border px-6 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Dashboard"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(xe,{variant:"ghost",size:"icon",className:"relative",children:[i.jsx(gl,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-destructive rounded-full"})]}),i.jsxs(_d,{children:[i.jsx(Nd,{asChild:!0,children:i.jsxs(xe,{variant:"ghost",className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:i.jsx(zl,{className:"h-4 w-4 text-primary-foreground"})}),i.jsxs("span",{className:"hidden sm:inline font-medium",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]})]})}),i.jsxs(Wl,{align:"end",className:"w-48 bg-popover",children:[i.jsx(Zn,{children:"Profile Settings"}),i.jsx(Zn,{children:"Account"}),i.jsx(rh,{}),i.jsx(Zn,{onClick:s,children:"Sign Out"})]})]})]})]})}function nse({message:t,linkText:e="Complete Now",linkTo:n="/dashboard/onboarding"}){const[r,s]=m.useState(!0);return r?i.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:i.jsx(Qs,{className:"w-4 h-4 text-primary"})}),i.jsxs("p",{className:"text-sm text-foreground",children:[t," ",i.jsx(Bt,{to:n,className:"font-semibold text-primary hover:underline",children:e})]})]}),i.jsx("button",{onClick:()=>s(!1),className:"text-muted-foreground hover:text-foreground transition-colors",children:i.jsx(dg,{className:"w-4 h-4"})})]}):null}function rse({title:t,value:e,change:n,icon:r,className:s}){return i.jsx("div",{className:le("bg-card border border-border rounded-xl p-6",s),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:t}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:e}),n&&i.jsx("span",{className:"text-sm text-muted-foreground",children:n.value})]}),r&&i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(r,{className:"w-5 h-5 text-primary"})})]})})}function sse({steps:t,currentStep:e}){const n=t.filter(s=>s.completed).length,r=n/t.length*100;return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Onboarding Checklist"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[n," of ",t.length," completed"]})]}),i.jsx(Kd,{value:r,className:"h-2 mb-6"}),i.jsx("div",{className:"space-y-3",children:t.map((s,o)=>i.jsxs("div",{className:"flex items-center gap-3",children:[s.completed?i.jsx(oi,{className:"w-5 h-5 text-success"}):i.jsx(c_,{className:"w-5 h-5 text-muted-foreground"}),i.jsx("span",{className:s.completed?"text-sm text-muted-foreground line-through":"text-sm text-foreground",children:s.label})]},s.id))}),n<t.length&&i.jsx(Bt,{to:"/dashboard/onboarding",className:"block mt-6 text-center text-sm font-medium text-primary hover:underline",children:"Continue Onboarding"})]})}const Ls=m.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ls.displayName="Card";const dm=m.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",t),...e}));dm.displayName="CardHeader";const hm=m.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",t),...e}));hm.displayName="CardTitle";const qM=m.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:le("text-sm text-muted-foreground",t),...e}));qM.displayName="CardDescription";const Fs=m.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:le("p-6 pt-0",t),...e}));Fs.displayName="CardContent";const ise=m.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",t),...e}));ise.displayName="CardFooter";const ose=l_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _s({className:t,variant:e,...n}){return i.jsx("div",{className:le(ose({variant:e}),t),...n})}function ase({status:t,onConnect:e,onDisconnect:n,onRefresh:r,lastSynced:s,companyName:o}){const a={disconnected:{label:"Not Connected",variant:"secondary"},connecting:{label:"Connecting...",variant:"outline"},connected:{label:"Connected",variant:"default"},error:{label:"Connection Error",variant:"destructive"}};return i.jsxs(Ls,{className:"border-border",children:[i.jsx(dm,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#2CA01C] flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"QB"})}),i.jsxs("div",{children:[i.jsx(hm,{className:"text-lg",children:"QuickBooks Online"}),i.jsx(qM,{children:o||"Connect your accounting software"})]})]}),i.jsxs(_s,{variant:a[t].variant,children:[t==="connected"&&i.jsx(oi,{className:"w-3 h-3 mr-1"}),t==="error"&&i.jsx(Qs,{className:"w-3 h-3 mr-1"}),a[t].label]})]})}),i.jsx(Fs,{children:t==="connected"?i.jsxs("div",{className:"space-y-4",children:[s&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last synced: ",s]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(xe,{variant:"outline",size:"sm",onClick:r,className:"gap-2",children:[i.jsx(qo,{className:"w-4 h-4"}),"Sync Now"]}),i.jsx(xe,{variant:"ghost",size:"sm",onClick:n,className:"text-muted-foreground hover:text-destructive",children:"Disconnect"})]})]}):t==="error"?i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-destructive",children:"Unable to connect to QuickBooks. Please try again."}),i.jsxs(xe,{onClick:e,className:"gap-2",children:[i.jsx(sb,{className:"w-4 h-4"}),"Retry Connection"]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect QuickBooks to sync your financial data automatically."}),i.jsxs(xe,{onClick:e,disabled:t==="connecting",className:"gap-2",children:[i.jsx(sb,{className:"w-4 h-4"}),t==="connecting"?"Connecting...":"Connect QuickBooks"]})]})})]})}const lse=[{id:"business-info",label:"Complete Business Information",completed:!1},{id:"accounting-software",label:"Connect Accounting Software",completed:!1},{id:"banking",label:"Link Bank Accounts",completed:!1},{id:"payroll",label:"Set Up Payroll Integration",completed:!1},{id:"documents",label:"Upload Required Documents",completed:!1}];function cse(){var E,k,R,P,T;const[t]=Y0(),n=t.get("plan")||"essential",{data:r,isLoading:s,isFetching:o}=z0(),[a]=B0(),[l]=V0(),[c]=kp(),u=(E=r==null?void 0:r.data)==null?void 0:E.connected,h=r==null?void 0:r.data,{data:f,isLoading:p}=n9(void 0,{skip:!u||((k=h==null?void 0:h.stats)==null?void 0:k.cashBalance)!=null&&((R=h==null?void 0:h.stats)==null?void 0:R.lastMonthRevenue)!=null}),{data:g,refetch:w}=r9(void 0,{skip:!u||n!=="essential",refetchOnMountOrArgChange:!0}),v=async()=>{var q;const L=await a().unwrap();(q=L==null?void 0:L.data)!=null&&q.authUrl&&(window.location.href=L.data.authUrl)},y=async()=>{await l().unwrap()},_=async()=>{await c().unwrap()},N=L=>L?new Date(L).toLocaleDateString():"N/A",b={status:u?"connected":s||o?"connecting":"disconnected",companyName:(h==null?void 0:h.companyName)??null,lastSynced:(h==null?void 0:h.lastSyncedAt)??null,connect:v,disconnect:y,refresh:_},j={startup:"Startup",essential:"Essential",enterprise:"Enterprise"},I=(L=0,q="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:q}).format(L),O=((P=g==null?void 0:g.data)==null?void 0:P.stats)??((T=f==null?void 0:f.data)==null?void 0:T.stats)??(h==null?void 0:h.stats),x={startup:{metrics:[{title:"Cash Balance",value:(O==null?void 0:O.cashBalance)!=null?I(O.cashBalance):"N/A",icon:vl},{title:"Revenue Last Month",value:(O==null?void 0:O.lastMonthRevenue)!=null?I(O.lastMonthRevenue):"N/A",icon:ob,change:{value:"Last Month"}}],features:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Quick Actions"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsx(Bt,{to:"/dashboard/documents",children:i.jsxs(xe,{variant:"outline",className:"w-full justify-start gap-3 h-12",children:[i.jsx(IC,{className:"w-5 h-5"}),"Upload Documents"]})}),i.jsx(Bt,{to:"/dashboard/support",children:i.jsxs(xe,{variant:"outline",className:"w-full justify-start gap-3 h-12",children:[i.jsx(to,{className:"w-5 h-5"}),"Submit Support Question"]})})]})]})},essential:{metrics:[{title:"Revenue",value:(O==null?void 0:O.revenue)!=null?I(O.revenue):"N/A",icon:vl,change:{value:"This Month"}},{title:"Expenses",value:(O==null?void 0:O.expenses)!=null?I(O.expenses):"N/A",icon:em,change:{value:"This Month"}},{title:"Net Income",value:(O==null?void 0:O.netIncome)!=null?I(O.netIncome):"N/A",icon:EC,change:{value:"This Month"}},{title:"Gross Margin",value:(O==null?void 0:O.grossMargin)!=null?`${O.grossMargin}%`:"N/A",icon:ob,change:{value:"This Month"}}],features:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Priority Actions"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs(xe,{className:"w-full justify-start gap-3 h-12",children:[i.jsx(yl,{className:"w-5 h-5"}),"Book Quarterly Strategy Call"]}),i.jsx(Bt,{to:"/dashboard/documents",children:i.jsxs(xe,{variant:"outline",className:"w-full justify-start gap-3 h-12",children:[i.jsx(IC,{className:"w-5 h-5"}),"Upload Documents"]})}),i.jsxs(xe,{variant:"outline",className:"w-full justify-start gap-3 h-12",children:[i.jsx(Ks,{className:"w-5 h-5"}),"View Basic Reports"]})]})]})},enterprise:{metrics:[{title:"Revenue",value:"$1,245,000",icon:vl,change:{value:"+18%",type:"increase"}},{title:"Burn Rate",value:"$85,000/mo",icon:em,change:{value:"-8%",type:"decrease"}},{title:"Cash Runway",value:"14 months",icon:EC,change:{value:"+2 mo",type:"increase"}},{title:"Forecast vs Actuals",value:"+4.2%",icon:TC,change:{value:"On track",type:"neutral"}}],features:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-accent/50 border border-accent rounded-xl p-6",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Your Dedicated CFO"}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-semibold",children:"SM"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Sarah Mitchell"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Senior CFO Partner"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(xe,{className:"gap-2",children:[i.jsx(vK,{className:"w-4 h-4"}),"Call"]}),i.jsxs(xe,{variant:"outline",className:"gap-2",children:[i.jsx(to,{className:"w-4 h-4"}),"Email"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Strategic Tools"}),i.jsxs(xe,{variant:"outline",className:"w-full justify-start gap-3 h-12",children:[i.jsx(Bl,{className:"w-5 h-5"}),"Custom Reporting Dashboard"]}),i.jsxs(xe,{variant:"outline",className:"w-full justify-start gap-3 h-12",children:[i.jsx(TC,{className:"w-5 h-5"}),"Forecasting Modules"]})]})]})}}[n];return i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsx(nse,{message:"Welcome! Please complete your Onboarding Checklist to initiate services.",linkText:"Complete Now",linkTo:"/dashboard/onboarding"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Your Plan:"}),i.jsx("span",{className:"px-3 py-1 bg-primary text-primary-foreground text-sm font-medium rounded-full",children:j[n]})]}),i.jsx(ase,{status:b.status,onConnect:b.connect,onDisconnect:b.disconnect,onRefresh:b.refresh,lastSynced:N(b.lastSynced),companyName:b.companyName}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.metrics.map((L,q)=>i.jsx(rse,{title:L.title,value:L.value,change:L.change,icon:L.icon},q))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(sse,{steps:lse,currentStep:0})}),i.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:x.features})]})]})}function use(){const e=kn().pathname==="/new-dashboard",n=Oe(Ss);return i.jsxs("div",{className:"flex min-h-screen bg-background",children:[i.jsx(One,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(tse,{user:n,logout:Xl}),i.jsx("main",{className:"flex-1 p-6",children:e?i.jsx(cse,{}):i.jsx(K0,{})})]})]})}var Tg="Tabs",[dse,Lae]=wr(Tg,[lc]),WM=lc(),[hse,K_]=dse(Tg),HM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=Yd(l),[f,p]=ai({prop:r,onChange:s,defaultProp:o??"",caller:Tg});return i.jsx(hse,{scope:n,baseId:Hr(),value:f,onValueChange:p,orientation:a,dir:h,activationMode:c,children:i.jsx(Ce.div,{dir:h,"data-orientation":a,...u,ref:e})})});HM.displayName=Tg;var GM="TabsList",QM=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=K_(GM,n),a=WM(n);return i.jsx(g_,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(Ce.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});QM.displayName=GM;var KM="TabsTrigger",YM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,a=K_(KM,n),l=WM(n),c=ZM(a.baseId,r),u=e4(a.baseId,r),h=r===a.value;return i.jsx(y_,{asChild:!0,...l,focusable:!s,active:h,children:i.jsx(Ce.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:de(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:de(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:de(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});YM.displayName=KM;var XM="TabsContent",JM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=t,l=K_(XM,n),c=ZM(l.baseId,r),u=e4(l.baseId,r),h=r===l.value,f=m.useRef(h);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(_r,{present:s||h,children:({present:p})=>i.jsx(Ce.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});JM.displayName=XM;function ZM(t,e){return`${t}-trigger-${e}`}function e4(t,e){return`${t}-content-${e}`}var fse=HM,t4=QM,n4=YM,r4=JM;const pse=fse,s4=m.forwardRef(({className:t,...e},n)=>i.jsx(t4,{ref:n,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));s4.displayName=t4.displayName;const nu=m.forwardRef(({className:t,...e},n)=>i.jsx(n4,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));nu.displayName=n4.displayName;const ru=m.forwardRef(({className:t,...e},n)=>i.jsx(r4,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ru.displayName=r4.displayName;function mse(){var st,ts,ir,Nr,ns,qn,or,Sr,Tn,jr,lt,St,ve,ke;const t=Tt(),[e,n]=m.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[r,s]=m.useState({startDate:e.startDate,endDate:e.endDate}),[o,a]=m.useState("invoices"),[l,c]=m.useState("profitLoss"),{data:u,isLoading:h,isFetching:f,error:p,refetch:g}=ET({startDate:r.startDate,endDate:r.endDate},{skip:o!=="invoices"}),{data:w,isLoading:v,isFetching:y,error:_,refetch:N}=TT({limit:100},{skip:o!=="customers"}),{data:b,isLoading:j,isFetching:I,error:O,refetch:S}=IT({startDate:r.startDate,endDate:r.endDate},{skip:o!=="expenses"}),{data:x,isLoading:E,isFetching:k,error:R}=PT({startDate:r.startDate,endDate:r.endDate},{skip:o!=="reports"||l!=="profitLoss"}),{data:P,isLoading:T,isFetching:L,error:q}=AT({startDate:r.startDate,endDate:r.endDate},{skip:o!=="reports"||l!=="balanceSheet"}),{data:z,isLoading:B,isFetching:D,error:F}=s9({startDate:r.startDate,endDate:r.endDate},{skip:o!=="reports"||l!=="generalLedger"}),{data:W,isLoading:X,isFetching:Z}=z0(),[$]=B0(),[K]=V0(),[V]=kp(),[H,{isLoading:U}]=ZU(),J=(st=W==null?void 0:W.data)==null?void 0:st.connected,Q=W==null?void 0:W.data;m.useEffect(()=>{Q!=null&&Q.tokenExpired&&H()},[Q==null?void 0:Q.tokenExpired]);const ee=async()=>{var Re;const ce=await $().unwrap();(Re=ce==null?void 0:ce.data)!=null&&Re.authUrl&&(window.location.href=ce.data.authUrl)},re=async()=>{await K().unwrap(),t("/new-dashboard")},ne=ce=>ce?new Date(ce).toLocaleDateString():"N/A",ye=ce=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ce||0),fe={status:J?"connected":X||Z?"connecting":"disconnected",companyName:(Q==null?void 0:Q.companyName)??null,lastSynced:(Q==null?void 0:Q.lastSyncedAt)??null,connect:ee,disconnect:re},[ze,{isLoading:se}]=kp(),we=async()=>{try{switch(await ze().unwrap(),o){case"invoices":g();break;case"customers":N();break;case"expenses":S();break;default:break}alert("QuickBooks data synced successfully!")}catch(ce){console.error("Sync failed:",ce),alert("Failed to sync QuickBooks data. Please try again.")}};(ts=Q==null?void 0:Q.stats)!=null&&ts.totalInvoices,(ir=Q==null?void 0:Q.stats)!=null&&ir.totalCustomers,(Nr=Q==null?void 0:Q.stats)!=null&&Nr.totalExpenses,(ns=Q==null?void 0:Q.stats)!=null&&ns.totalBills;const Qe=Q!=null&&Q.isPaused?"paused":Q!=null&&Q.tokenExpired?"expired":"active",zt={active:"bg-[hsl(var(--success))] text-[hsl(var(--success-foreground))]",paused:"bg-yellow-500 text-white",expired:"bg-red-500 text-white"},Je=((qn=u==null?void 0:u.data)==null?void 0:qn.invoices)||[],wt=(w==null?void 0:w.data.customers)||[],_t=(b==null?void 0:b.data.expenses)||[],Ze=x==null?void 0:x.data,Nt=((or=Ze==null?void 0:Ze.Rows)==null?void 0:or.Row)||[],rt=(Sr=Ze==null?void 0:Ze.Header)!=null&&Sr.StartPeriod&&((Tn=Ze==null?void 0:Ze.Header)!=null&&Tn.EndPeriod)?`${ne(Ze.Header.StartPeriod)} to ${ne(Ze.Header.EndPeriod)}`:`${ne(e.startDate)} to ${ne(e.endDate)}`,Ve=P==null?void 0:P.data,cn=((jr=Ve==null?void 0:Ve.Rows)==null?void 0:jr.Row)||[],es=(lt=Ve==null?void 0:Ve.Header)!=null&&lt.EndPeriod?`${ne(Ve.Header.EndPeriod)}`:`${ne(e.endDate)}`,It=z==null?void 0:z.data,sr=((St=It==null?void 0:It.Rows)==null?void 0:St.Row)||[],Vt=(ve=It==null?void 0:It.Header)!=null&&ve.StartPeriod&&((ke=It==null?void 0:It.Header)!=null&&ke.EndPeriod)?`${ne(It.Header.StartPeriod)} to ${ne(It.Header.EndPeriod)}`:`${ne(e.startDate)} to ${ne(e.endDate)}`;return fe.status!=="connected"?i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"QuickBooks Data"}),i.jsx(Ls,{children:i.jsxs(Fs,{className:"flex flex-col items-center justify-center py-16 gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#2CA01C]/10 flex items-center justify-center",children:i.jsx("span",{className:"text-[#2CA01C] font-bold text-2xl",children:"QB"})}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"QuickBooks Not Connected"}),i.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:"Connect your QuickBooks account from the dashboard to view your financial data here."}),i.jsxs(xe,{onClick:fe.connect,className:"gap-2 mt-2",children:[i.jsx(sb,{className:"w-4 h-4"}),fe.status==="connecting"?"Connecting...":"Connect QuickBooks"]})]})})]}):i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"QuickBooks Data"}),i.jsxs(Ls,{children:[i.jsx(dm,{className:"pb-4",children:i.jsxs(hm,{className:"text-lg flex items-center gap-2",children:[i.jsx(fd,{className:"w-5 h-5 text-primary"}),"Company Information"]})}),i.jsx(Fs,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-y-4 gap-x-8",children:[i.jsx(bo,{icon:fd,label:"Company Name",value:(Q==null?void 0:Q.companyName)||"N/A"}),i.jsx(bo,{icon:rK,label:"Company ID",value:(Q==null?void 0:Q.companyId)||"N/A"}),i.jsx(bo,{icon:to,label:"Email",value:(Q==null?void 0:Q.companyEmail)||"N/A"}),i.jsx(bo,{icon:vl,label:"Currency",value:(Q==null?void 0:Q.baseCurrency)||"N/A"}),i.jsx(bo,{icon:fK,label:"Address",value:Q!=null&&Q.companyAddress?`${Q.companyAddress.city||""}, ${Q.companyAddress.state||""} ${Q.companyAddress.postalCode||""}`.trim():"N/A"}),i.jsx(bo,{icon:u_,label:"Last Synced",value:ne(fe.lastSynced)||"N/A"}),i.jsx(bo,{icon:xQ,label:"Connected Since",value:ne(Q.connectedSince)||"N/A"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),i.jsxs(_s,{className:`${zt[Qe]} flex items-center`,children:[i.jsx(oi,{className:"w-3 h-3 mr-1"}),Qe==="paused"?"Paused":Qe==="expired"?"Token Expired":"Active"]})]})]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[i.jsxs(xe,{variant:"destructive",className:"gap-2",onClick:fe.disconnect,children:[i.jsx($K,{className:"w-4 h-4"}),"Disconnect QuickBooks"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"date",value:e.startDate,onChange:ce=>n({...e,startDate:ce.target.value}),className:"px-3 py-1.5 text-sm rounded-md border border-input bg-background"}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"to"}),i.jsx("input",{type:"date",value:e.endDate,onChange:ce=>n({...e,endDate:ce.target.value}),className:"px-3 py-1.5 text-sm rounded-md border border-input bg-background"}),i.jsx(xe,{size:"sm",onClick:()=>s(e),disabled:h||j,children:"Apply"})]}),i.jsxs(xe,{variant:"outline",size:"sm",onClick:we,className:"gap-2",children:[i.jsx(qo,{className:"w-4 h-4"}),"Sync Now"]})]}),i.jsxs(pse,{value:o,onValueChange:a,children:[i.jsxs(s4,{children:[i.jsxs(nu,{value:"invoices",className:"gap-1.5",children:[i.jsx(Ks,{className:"w-4 h-4"})," Invoices"]}),i.jsxs(nu,{value:"customers",className:"gap-1.5",children:[i.jsx(xs,{className:"w-4 h-4"})," Customers"]}),i.jsxs(nu,{value:"expenses",className:"gap-1.5",children:[i.jsx(em,{className:"w-4 h-4"})," Expenses"]}),i.jsxs(nu,{value:"reports",className:"gap-1.5",children:[i.jsx(Bl,{className:"w-4 h-4"})," Reports"]})]}),i.jsx(ru,{value:"invoices",children:i.jsx(Ls,{children:i.jsx(Fs,{className:"py-6",children:h||f?i.jsx("p",{className:"text-muted-foreground text-center",children:"Loading invoices"}):p?i.jsx("p",{className:"text-red-500 text-center",children:"Failed to load invoices."}):Je!=null&&Je.length?i.jsx("div",{className:"overflow-x-auto rounded-xl border border-border shadow-sm",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-muted/40",children:i.jsxs("tr",{className:"text-left text-muted-foreground uppercase text-xs tracking-wider",children:[i.jsx("th",{className:"px-4 py-3",children:"Invoice"}),i.jsx("th",{className:"px-4 py-3",children:"Customer"}),i.jsx("th",{className:"px-4 py-3",children:"Date"}),i.jsx("th",{className:"px-4 py-3",children:"Due Date"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Balance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Status"})]})}),i.jsxs("tbody",{className:"divide-y divide-border",children:[Je==null?void 0:Je.map(ce=>{var oe;const Re=ce.Balance>0;return i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:ce.DocNumber||"N/A"}),i.jsx("td",{className:"px-4 py-3",children:((oe=ce.CustomerRef)==null?void 0:oe.name)||"N/A"}),i.jsx("td",{className:"px-4 py-3",children:ne(ce.TxnDate)}),i.jsx("td",{className:"px-4 py-3",children:ne(ce.DueDate)}),i.jsx("td",{className:"px-4 py-3 text-right font-medium",children:ye(ce.TotalAmt)}),i.jsx("td",{className:"px-4 py-3 text-right",children:ye(ce.Balance)}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Re?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:Re?"Unpaid":"Paid"})})]},ce.Id)}),Je.length>0&&i.jsxs("tr",{className:"bg-muted/50 font-semibold",children:[i.jsxs("td",{className:"px-4 py-3",children:["Total (",Je.length,")"]}),i.jsx("td",{colSpan:3}),i.jsx("td",{className:"px-4 py-3 text-right",children:ye(Je.reduce((ce,Re)=>ce+Number(Re.TotalAmt||0),0))}),i.jsx("td",{className:"px-4 py-3 text-right",children:ye(Je.reduce((ce,Re)=>ce+Number(Re.Balance||0),0))}),i.jsx("td",{className:"px-4 py-3 text-center",children:""})]})]})]})}):i.jsx(Fa,{label:"Invoices"})})})}),i.jsx(ru,{value:"customers",children:i.jsx(Ls,{children:i.jsx(Fs,{className:"py-6",children:v||y?i.jsx("p",{className:"text-muted-foreground text-center",children:"Loading Customers"}):_?i.jsx("p",{className:"text-red-500 text-center",children:"Failed to load Customers."}):wt!=null&&wt.length?i.jsx("div",{className:"overflow-x-auto rounded-xl border border-border shadow-sm",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-muted/40",children:i.jsxs("tr",{className:"text-left text-xs uppercase tracking-wider text-muted-foreground",children:[i.jsx("th",{className:"px-4 py-3",children:"Name"}),i.jsx("th",{className:"px-4 py-3",children:"Company"}),i.jsx("th",{className:"px-4 py-3",children:"Email"}),i.jsx("th",{className:"px-4 py-3",children:"Phone"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Balance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Status"})]})}),i.jsxs("tbody",{className:"divide-y divide-border",children:[wt==null?void 0:wt.map(ce=>{var oe,he;const Re=ce.Active;return i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:ce.DisplayName||"N/A"}),i.jsx("td",{className:"px-4 py-3",children:ce.CompanyName||"-"}),i.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:((oe=ce.PrimaryEmailAddr)==null?void 0:oe.Address)||"-"}),i.jsx("td",{className:"px-4 py-3",children:((he=ce.PrimaryPhone)==null?void 0:he.FreeFormNumber)||"-"}),i.jsx("td",{className:"px-4 py-3 text-right font-medium",children:ye(ce.Balance)}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Re?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:Re?"Active":"Inactive"})})]},ce.Id)}),i.jsxs("tr",{className:"bg-muted/50 font-semibold",children:[i.jsxs("td",{className:"px-4 py-3",children:["Total (",wt.length,") | Active (",wt.filter(ce=>ce.Active).length,")"]}),i.jsx("td",{colSpan:3}),i.jsx("td",{className:"px-4 py-3 text-right",children:ye(wt.reduce((ce,Re)=>ce+Number(Re.Balance||0),0))}),i.jsx("td",{className:"px-4 py-3 text-center",children:""})]})]})]})}):i.jsx(Fa,{label:"Customers"})})})}),i.jsx(ru,{value:"expenses",children:i.jsx(Ls,{children:i.jsx(Fs,{className:"py-6",children:j||I?i.jsx("p",{className:"text-muted-foreground text-center",children:"Loading Expenses"}):O?i.jsx("p",{className:"text-red-500 text-center",children:"Failed to load expenses."}):_t!=null&&_t.length?i.jsx("div",{className:"overflow-x-auto rounded-2xl border bg-background shadow-sm",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"sticky top-0 z-10 bg-muted/50 backdrop-blur",children:i.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:[i.jsx("th",{className:"px-5 py-3",children:"Date"}),i.jsx("th",{className:"px-5 py-3",children:"Vendor"}),i.jsx("th",{className:"px-5 py-3",children:"Account"}),i.jsx("th",{className:"px-5 py-3",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-right",children:"Amount"}),i.jsx("th",{className:"px-5 py-3 text-center",children:"Payment Method"})]})}),i.jsxs("tbody",{className:"divide-y",children:[_t==null?void 0:_t.map(ce=>{var Re,oe,he,Ne;return ce.Active,ce.Balance>0,i.jsxs("tr",{className:"transition-colors hover:bg-muted/40",children:[i.jsx("td",{className:"px-5 py-4 font-medium text-foreground",children:ne(ce.TxnDate)}),i.jsx("td",{className:"px-5 py-4 text-muted-foreground",children:ce.VendorName||((Re=ce.EntityRef)==null?void 0:Re.name)||"-"}),i.jsx("td",{className:"px-5 py-4 text-muted-foreground",children:((oe=ce.AccountRef)==null?void 0:oe.name)||"-"}),i.jsx("td",{className:"px-5 py-4",children:ce.PrivateNote||((Ne=(he=ce.Line)==null?void 0:he[0])==null?void 0:Ne.Description)||"-"}),i.jsx("td",{className:"px-5 py-4 text-right font-semibold",children:ye(ce.TotalAmt)}),i.jsx("td",{className:"px-5 py-4 text-center",children:ce.PaymentType||"-"})]},ce.Id)}),i.jsxs("tr",{className:"bg-muted/50 font-semibold",children:[i.jsxs("td",{className:"pl-12 py-3",children:["Total (",_t.length,")"]}),i.jsx("td",{colSpan:3}),i.jsx("td",{className:"pr-8 py-3 text-right",children:ye(_t.reduce((ce,Re)=>ce+Re.TotalAmt,0))}),i.jsxs("td",{className:"pr-[6rem] py-3 text-right",children:["Avg ",ye(_t.reduce((ce,Re)=>ce+Re.TotalAmt,0)/_t.length)]})]})]})]})}):i.jsx(Fa,{label:"Expenses"})})})}),i.jsx(ru,{value:"reports",children:i.jsxs(Ls,{children:[i.jsx(dm,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs(hm,{className:"text-lg flex items-center gap-2",children:[i.jsx(Bl,{className:"w-5 h-5 text-primary"}),"Financial Reports"]}),i.jsx("div",{className:"w-full sm:w-64",children:i.jsxs(Ft,{value:l,onValueChange:c,children:[i.jsx(Rt,{children:i.jsx(Ht,{placeholder:"Select Report"})}),i.jsxs(Ot,{children:[i.jsx(Ue,{value:"profitLoss",children:"Profit & Loss"}),i.jsx(Ue,{value:"balanceSheet",children:"Balance Sheet"}),i.jsx(Ue,{value:"generalLedger",children:"General Ledger"})]})]})})]})}),i.jsx(Fs,{children:i.jsxs("div",{className:"p-4",children:[l==="profitLoss"&&i.jsx(i.Fragment,{children:E||k?i.jsx("p",{className:"text-muted-foreground text-center",children:"Loading Profit & Loss Report..."}):R?i.jsx("p",{className:"text-red-500 text-center",children:"Failed to load report. Please try again."}):Nt!=null&&Nt.length?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(yl,{className:"w-4 h-4 text-primary"}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium text-foreground",children:"Period:"})," ",rt]})]}),i.jsx("div",{className:"min-w-[600px]",children:kb(Nt)})]}):i.jsx(Fa,{label:"Profit & Loss Report"})}),l==="balanceSheet"&&i.jsx(i.Fragment,{children:T||L?i.jsx("p",{className:"text-muted-foreground text-center",children:"Loading Balance Sheet..."}):q?i.jsx("p",{className:"text-red-500 text-center",children:"Failed to load report. Please try again."}):cn!=null&&cn.length?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(yl,{className:"w-4 h-4 text-primary"}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium text-foreground",children:"  As of: "}),es]})]}),i.jsx("div",{className:"min-w-[600px]",children:kb(cn)})]}):i.jsx(Fa,{label:"Balance Sheet Report"})}),l==="generalLedger"&&i.jsx(i.Fragment,{children:B||D?i.jsx("p",{className:"text-muted-foreground text-center",children:"Loading General Ledger..."}):F?i.jsx("p",{className:"text-red-500 text-center",children:"Failed to load report. Please try again."}):sr!=null&&sr.length?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(yl,{className:"w-4 h-4 text-primary"}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium text-foreground",children:"Period:"})," ",Vt]})]}),i.jsx("div",{className:"min-w-[600px]",children:i4(sr)})]}):i.jsx(Fa,{label:"General Ledger Report"})})]})})]})})]})]})}function bo({icon:t,label:e,value:n}){return i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(t,{className:"w-4 h-4 text-muted-foreground mt-0.5 shrink-0"}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:[e,":"]}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:n})]})]})}function Fa({label:t}){return i.jsx(Ls,{children:i.jsx(Fs,{className:"flex flex-col items-center justify-center py-12",children:i.jsxs("p",{className:"text-muted-foreground",children:["No ",t.toLowerCase()," data to display yet."]})})})}const _l=(t=[])=>{var e,n;return{label:((e=t==null?void 0:t[0])==null?void 0:e.value)||"",amount:((n=t==null?void 0:t[1])==null?void 0:n.value)||""}},gse=new Set(["GrossProfit","NetOperatingIncome","NetOtherIncome","NetIncome"]),yse=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),Nl=t=>{if(t==null||t==="")return"";const e=Number(t);return Number.isFinite(e)?yse(e):t},kb=(t=[],e=0,n="report")=>!Array.isArray(t)||t.length===0?null:t.flatMap((r,s)=>{var l,c,u,h;const o=[],a=`${n}-${s}`;if((l=r==null?void 0:r.Header)!=null&&l.ColData){const{label:f,amount:p}=_l(r.Header.ColData);o.push(i.jsxs("div",{className:"report-row section-header",children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${e*16}px`},children:f}),i.jsx("span",{className:"amount",children:Nl(p)})]},`${a}-header`))}if((u=(c=r==null?void 0:r.Rows)==null?void 0:c.Row)!=null&&u.length&&o.push(...kb(r.Rows.Row,e+1,`${a}-rows`)),r!=null&&r.ColData){const{label:f,amount:p}=_l(r.ColData);o.push(i.jsxs("div",{className:"report-row",children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${e*16}px`},children:f}),i.jsx("span",{className:"amount",children:Nl(p)})]},`${a}-data`))}if((h=r==null?void 0:r.Summary)!=null&&h.ColData){const{label:f,amount:p}=_l(r.Summary.ColData),g=gse.has(r.group)?"divider":"subtotal";o.push(i.jsxs("div",{className:`report-row ${g}`,children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${e*16}px`},children:f}),i.jsx("span",{className:"amount",children:Nl(p)})]},`${a}-summary`))}return o}),i4=(t=[],e=0,n="report")=>!Array.isArray(t)||t.length===0?null:t.flatMap((r,s)=>{var l,c,u,h;const o=[],a=`${n}-${s}`;if(r.type==="Section"){if((l=r==null?void 0:r.Header)!=null&&l.ColData){const{label:f,amount:p}=_l(r.Header.ColData);o.push(i.jsxs("div",{className:"report-row section-header",children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${e*16}px`},children:f}),i.jsx("span",{className:"amount",children:Nl(p)})]},`${a}-header`))}if((u=(c=r==null?void 0:r.Rows)==null?void 0:c.Row)!=null&&u.length&&o.push(...i4(r.Rows.Row,e+1,`${a}-rows`)),(h=r==null?void 0:r.Summary)!=null&&h.ColData){const{label:f,amount:p}=_l(r.Summary.ColData);o.push(i.jsxs("div",{className:"report-row subtotal",children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${e*16}px`},children:f}),i.jsx("span",{className:"amount",children:Nl(p)})]},`${a}-summary`))}}else if(r.type==="Data"&&(r!=null&&r.ColData)){const{label:f,amount:p}=_l(r.ColData);o.push(i.jsxs("div",{className:"report-row",children:[i.jsx("span",{className:"report-label",style:{paddingLeft:`${e*16}px`},children:f}),i.jsx("span",{className:"amount",children:Nl(p)})]},`${a}-data`))}return o});function vse({name:t,email:e,role:n,status:r}){return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Admin Profile"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Name"}),i.jsx("p",{className:"font-medium text-foreground",children:t})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),i.jsx("p",{className:"font-medium text-foreground",children:e})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Role"}),i.jsx("p",{className:"font-medium text-foreground",children:n})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Status"}),i.jsx(_s,{variant:r==="active"?"default":"secondary",className:r==="active"?"bg-success text-success-foreground":"",children:r==="active"?"Active":"Inactive"})]})]})]})}function uf({value:t,label:e,variant:n="default"}){return i.jsxs("div",{className:le("flex flex-col items-center justify-center p-6 rounded-lg border",n==="primary"&&"bg-primary/5 border-primary/20",n==="accent"&&"bg-accent border-accent-foreground/10",n==="default"&&"bg-muted/50 border-border"),children:[i.jsx("span",{className:le("text-3xl font-bold",n==="primary"?"text-primary":"text-foreground"),children:t}),i.jsx("span",{className:"text-sm text-muted-foreground uppercase tracking-wide mt-1",children:e})]})}function xse({totalStaff:t,activeStaff:e,totalClients:n,activeUsers:r}){return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"System Overview"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(uf,{value:t,label:"Total Staff"}),i.jsx(uf,{value:e,label:"Active Staff"}),i.jsx(uf,{value:n,label:"Total Clients",variant:"primary"}),i.jsx(uf,{value:r,label:"Active Users",variant:"primary"})]})]})}const bse=[{label:"Manage Staff",icon:xs,href:"/admin/staff",variant:"default"},{label:"Overview",icon:hR,href:"/admin",variant:"secondary"},{label:"All Users",icon:h_,href:"/admin/users",variant:"default"},{label:"Client Assignments",icon:aR,href:"/admin/assignments",variant:"default"},{label:"Client Viewer",icon:XQ,href:"/admin/clients",variant:"default"},{label:"System Settings",icon:ug,href:"/admin/settings",variant:"default"},{label:"Reports",icon:ZQ,href:"/admin/reports",variant:"default"}];function wse(){return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Administration"}),i.jsx("div",{className:"flex flex-wrap gap-3",children:bse.map(t=>i.jsx(Bt,{to:t.href,children:i.jsxs(xe,{variant:t.variant||"default",className:"gap-2",children:[i.jsx(t.icon,{className:"w-4 h-4"}),t.label]})},t.label))})]})}const _se={user_registered:qK,staff_added:h_,backup:qQ,settings:ug,report:Ks},Nse={user_registered:"text-primary bg-primary/10",staff_added:"text-blue-500 bg-blue-500/10",backup:"text-success bg-success/10",settings:"text-orange-500 bg-orange-500/10",report:"text-purple-500 bg-purple-500/10"};function Sse({activities:t}){return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Recent Activity"}),i.jsx("div",{className:"space-y-4",children:t.map(e=>{const n=_se[e.type],r=Nse[e.type];return i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:le("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",r),children:i.jsx(n,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-foreground",children:e.message}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:e.timestamp})]})]},e.id)})})]})}const jse=[{id:"1",type:"user_registered",message:"New client registered",timestamp:"2 hours ago"},{id:"2",type:"staff_added",message:"Staff member added",timestamp:"5 hours ago"},{id:"3",type:"backup",message:"System backup completed",timestamp:"1 day ago"},{id:"4",type:"settings",message:"System settings updated",timestamp:"2 days ago"},{id:"5",type:"report",message:"Monthly report generated",timestamp:"3 days ago"}];function Cse(){const t={name:"Test User",email:"test@mail.com"};return i.jsx("div",{className:"flex min-h-screen bg-background",children:i.jsx("div",{className:"flex-1 flex flex-col",children:i.jsx("main",{className:"flex-1 p-6",children:i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Admin Dashboard"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",t==null?void 0:t.name,"!"]}),i.jsx("span",{className:"px-3 py-1 bg-primary text-primary-foreground text-sm font-medium rounded-full",children:"Super Admin"})]})]}),i.jsx(vse,{name:t==null?void 0:t.name,email:t==null?void 0:t.email,role:"Super Admin",status:"active"}),i.jsx(xse,{totalStaff:0,activeStaff:0,totalClients:2,activeUsers:3}),i.jsx(wse,{}),i.jsx(Sse,{activities:jse})]})})})})}const kse=[{icon:dR,label:"Home",href:"/adminDashboard"},{icon:aR,label:"Tasks",href:"/adminDashboard/tasks"},{icon:xs,label:"Clients",href:"/adminDashboard/clients"}];function Ese(){const t=kn();return i.jsxs("aside",{className:"w-64 bg-[#1B2232] text-[#ced6e5] flex flex-col min-h-screen",children:[i.jsxs("div",{className:"p-6 border-b border-[#1C232F]",children:[i.jsx(Ul,{variant:"light"}),i.jsx("span",{className:"text-xs text-sidebar-foreground/50 mt-1 block",children:"Admin Panel"})]}),i.jsx("nav",{className:"flex-1 p-4 space-y-1",children:kse.map(e=>{const n=t.pathname.startsWith(e.href);return i.jsxs(Bt,{to:e.href,className:le("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors no-underline",n?"bg-[#0c3d8c] text-white":"text-white hover:bg-[#263247] hover:text-[#F0F1F3]"),children:[i.jsx(e.icon,{className:"w-5 h-5"}),e.label]},e.href)})})]})}function Tse(){return i.jsxs("div",{className:"flex min-h-screen bg-background",children:[i.jsx(Ese,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("header",{className:"h-16 bg-card border-b border-border px-6 flex items-center",children:i.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Admin Panel"})}),i.jsx("main",{className:"flex-1 p-6",children:i.jsx(K0,{})})]})]})}var Ig="Checkbox",[Ise,Fae]=wr(Ig),[Pse,Y_]=Ise(Ig);function Ase(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:o,form:a,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=t,[p,g]=ai({prop:n,defaultProp:s??!1,onChange:c,caller:Ig}),[w,v]=m.useState(null),[y,_]=m.useState(null),N=m.useRef(!1),b=w?!!a||!!w.closest("form"):!0,j={checked:p,disabled:o,setChecked:g,control:w,setControl:v,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:Wi(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:_};return i.jsx(Pse,{scope:e,...j,children:Rse(f)?f(j):r})}var o4="CheckboxTrigger",a4=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:o,value:a,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:w}=Y_(o4,t),v=Fe(s,h),y=m.useRef(c);return m.useEffect(()=>{const _=o==null?void 0:o.form;if(_){const N=()=>f(y.current);return _.addEventListener("reset",N),()=>_.removeEventListener("reset",N)}},[o,f]),i.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Wi(c)?"mixed":c,"aria-required":u,"data-state":h4(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:v,onKeyDown:de(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:de(n,_=>{f(N=>Wi(N)?!0:!N),w&&g&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})})});a4.displayName=o4;var X_=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:u,form:h,...f}=t;return i.jsx(Ase,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:a,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>i.jsxs(i.Fragment,{children:[i.jsx(a4,{...f,ref:e,__scopeCheckbox:n}),p&&i.jsx(d4,{__scopeCheckbox:n})]})})});X_.displayName=Ig;var l4="CheckboxIndicator",c4=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=Y_(l4,n);return i.jsx(_r,{present:r||Wi(o.checked)||o.checked===!0,children:i.jsx(Ce.span,{"data-state":h4(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});c4.displayName=l4;var u4="CheckboxBubbleInput",d4=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:a,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:p,setBubbleInput:g}=Y_(u4,t),w=Fe(n,g),v=x_(o),y=v_(r);m.useEffect(()=>{const N=p;if(!N)return;const b=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(b,"checked").set,O=!s.current;if(v!==o&&I){const S=new Event("click",{bubbles:O});N.indeterminate=Wi(o),I.call(N,Wi(o)?!1:o),N.dispatchEvent(S)}},[p,v,o,s]);const _=m.useRef(Wi(o)?!1:o);return i.jsx(Ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??_.current,required:l,disabled:c,name:u,value:h,form:f,...e,tabIndex:-1,ref:w,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});d4.displayName=u4;function Rse(t){return typeof t=="function"}function Wi(t){return t==="indeterminate"}function h4(t){return Wi(t)?"indeterminate":t?"checked":"unchecked"}const Eb=m.forwardRef(({className:t,...e},n)=>i.jsx(X_,{ref:n,className:le("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(c4,{className:le("grid place-content-center text-current"),children:i.jsx(aa,{className:"h-4 w-4"})})}));Eb.displayName=X_.displayName;const sh=m.forwardRef(({className:t,...e},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:le("w-full caption-bottom text-sm",t),...e})}));sh.displayName="Table";const ih=m.forwardRef(({className:t,...e},n)=>i.jsx("thead",{ref:n,className:le("[&_tr]:border-b",t),...e}));ih.displayName="TableHeader";const oh=m.forwardRef(({className:t,...e},n)=>i.jsx("tbody",{ref:n,className:le("[&_tr:last-child]:border-0",t),...e}));oh.displayName="TableBody";const Ose=m.forwardRef(({className:t,...e},n)=>i.jsx("tfoot",{ref:n,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Ose.displayName="TableFooter";const Dn=m.forwardRef(({className:t,...e},n)=>i.jsx("tr",{ref:n,className:le("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Dn.displayName="TableRow";const ft=m.forwardRef(({className:t,...e},n)=>i.jsx("th",{ref:n,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ft.displayName="TableHead";const Ge=m.forwardRef(({className:t,...e},n)=>i.jsx("td",{ref:n,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ge.displayName="TableCell";const Dse=m.forwardRef(({className:t,...e},n)=>i.jsx("caption",{ref:n,className:le("mt-4 text-sm text-muted-foreground",t),...e}));Dse.displayName="TableCaption";const Mse={NOT_STARTED:"bg-muted text-muted-foreground",IN_PROGRESS:"bg-primary/15 text-primary border-primary/30",COMPLETED:"bg-success/15 text-success border-success/30",CANCELLED:"bg-destructive/15 text-destructive border-destructive/30",PENDING_REVIEW:"bg-warning/15 text-warning border-warning/30",NEEDS_REVISION:"bg-warning/20 text-warning border-warning/40"},Lse={NOT_STARTED:"Not Started",IN_PROGRESS:"In Progress",COMPLETED:"Completed",CANCELLED:"Cancelled",PENDING_REVIEW:"Pending Review",NEEDS_REVISION:"Needs Revision"},Fse={LOW:"bg-muted text-muted-foreground",MEDIUM:"bg-warning/15 text-warning border-warning/30",HIGH:"bg-destructive/15 text-destructive border-destructive/30"},Use={LOW:"Low",MEDIUM:"Medium",HIGH:"High"};function J_({status:t}){return i.jsx(_s,{variant:"outline",className:le("text-xs font-medium",Mse[t]),children:Lse[t]})}function Z_({priority:t}){return i.jsx(_s,{variant:"outline",className:le("text-xs font-medium",Fse[t]),children:Use[t]})}const eN=m.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));eN.displayName="Textarea";function f4({open:t,onOpenChange:e,onCreate:n}){const[r,s]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(void 0),[u,h]=m.useState(void 0),[f,p]=m.useState(void 0),[g,w]=m.useState("NOT_STARTED"),[v,y]=m.useState("MEDIUM"),[_,N]=m.useState(""),{data:b}=Bm(),{data:j}=$m(),I=(b==null?void 0:b.data)??[],O=(j==null?void 0:j.data)??[],S=[{value:"DOCUMENT_UPLOAD",label:"Document Upload"},{value:"INTEGRATION",label:"Integration"},{value:"ACTION",label:"Action"},{value:"REVIEW",label:"Review"}],x=[{value:"NOT_STARTED",label:"Not Started"},{value:"IN_PROGRESS",label:"In Progress"},{value:"PENDING_REVIEW",label:"Pending Review"},{value:"NEEDS_REVISION",label:"Needs Revision"},{value:"COMPLETED",label:"Completed"},{value:"CANCELLED",label:"Cancelled"}],E=[{value:"LOW",label:"Low"},{value:"MEDIUM",label:"Medium"},{value:"HIGH",label:"High"}],k=()=>{s(""),a(""),c(void 0),h(void 0),p(void 0),w("NOT_STARTED"),y("MEDIUM"),N("")},R=T=>{T.preventDefault();const L=I.find(q=>String(q.id)===String(l));!L||!r.trim()||!u||!f||!_||(n({title:r.trim(),description:o.trim(),clientId:String(L.id),clientName:L.name,assignedTo:String(u),taskType:f,status:g,priority:v,dueDate:_}),k(),e(!1))},P=r.trim().length>0&&!!l&&!!u&&!!f&&_!=="";return i.jsx(ED,{open:t,onOpenChange:e,children:i.jsxs(U_,{className:"sm:max-w-lg bg-card",children:[i.jsx($_,{children:i.jsxs(B_,{className:"flex items-center gap-2",children:[i.jsx(cg,{className:"h-5 w-5 text-primary"}),"Create New Task"]})}),i.jsxs("form",{onSubmit:R,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Title *"}),i.jsx(Gn,{value:r,onChange:T=>s(T.target.value),placeholder:"e.g. Complete Q4 Tax Filing"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Description"}),i.jsx(eN,{value:o,onChange:T=>a(T.target.value),placeholder:"Task details...",rows:2})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Client *"}),i.jsxs(Ft,{value:l,onValueChange:T=>c(String(T)),children:[i.jsx(Rt,{children:i.jsx(Ht,{placeholder:"Select client"})}),i.jsx(Ot,{className:"bg-popover z-50",children:I.map(T=>i.jsx(Ue,{value:String(T.id),children:T.name},T.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Assign To *"}),i.jsxs(Ft,{value:u,onValueChange:T=>h(String(T)),children:[i.jsx(Rt,{children:i.jsx(Ht,{placeholder:"Select staff"})}),i.jsx(Ot,{className:"bg-popover z-50",children:O.map(T=>i.jsx(Ue,{value:String(T._id),children:T.first_name},T._id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Task Type *"}),i.jsxs(Ft,{value:f,onValueChange:T=>p(T),children:[i.jsx(Rt,{children:i.jsx(Ht,{placeholder:"Select task type"})}),i.jsx(Ot,{className:"bg-popover z-50",children:S.map(T=>i.jsx(Ue,{value:T.value,children:T.label},T.value))})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Status"}),i.jsxs(Ft,{value:g,onValueChange:T=>w(T),children:[i.jsx(Rt,{children:i.jsx(Ht,{})}),i.jsx(Ot,{className:"bg-popover z-50",children:x.map(T=>i.jsx(Ue,{value:T.value,children:T.label},T.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Priority"}),i.jsxs(Ft,{value:v,onValueChange:T=>y(T),children:[i.jsx(Rt,{children:i.jsx(Ht,{})}),i.jsx(Ot,{className:"bg-popover z-50",children:E.map(T=>i.jsx(Ue,{value:T.value,children:T.label},T.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Due Date *"}),i.jsx(Gn,{type:"date",value:_,onChange:T=>N(T.target.value)})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(xe,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),i.jsx(xe,{type:"submit",disabled:!P,children:"Create Task"})]})]})]})})}const p4=6048e5,$se=864e5,wk=Symbol.for("constructDateFrom");function Ns(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&wk in t?t[wk](e):t instanceof Date?new t.constructor(e):new Date(e)}function Vn(t,e){return Ns(e||t,t)}let Bse={};function Pg(){return Bse}function Sd(t,e){var l,c,u,h;const n=Pg(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Vn(t,e==null?void 0:e.in),o=s.getDay(),a=(o<r?7:0)+o-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function fm(t,e){return Sd(t,{...e,weekStartsOn:1})}function m4(t,e){const n=Vn(t,e==null?void 0:e.in),r=n.getFullYear(),s=Ns(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=fm(s),a=Ns(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=fm(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function _k(t){const e=Vn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function g4(t,...e){const n=Ns.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function jd(t,e){const n=Vn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function zse(t,e,n){const[r,s]=g4(n==null?void 0:n.in,t,e),o=jd(r),a=jd(s),l=+o-_k(o),c=+a-_k(a);return Math.round((l-c)/$se)}function Vse(t,e){const n=m4(t,e),r=Ns(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),fm(r)}function qse(t){return Ns(t,Date.now())}function Wse(t,e,n){const[r,s]=g4(n==null?void 0:n.in,t,e);return+jd(r)==+jd(s)}function Hse(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gse(t){return!(!Hse(t)&&typeof t!="number"||isNaN(+Vn(t)))}function Qse(t,e){const n=Vn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Kse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yse=(t,e,n)=>{let r;const s=Kse[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function bv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Xse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eie={date:bv({formats:Xse,defaultWidth:"full"}),time:bv({formats:Jse,defaultWidth:"full"}),dateTime:bv({formats:Zse,defaultWidth:"full"})},tie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nie=(t,e,n,r)=>tie[t];function Wc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const rie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cie=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uie={ordinalNumber:cie,era:Wc({values:rie,defaultWidth:"wide"}),quarter:Wc({values:sie,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wc({values:iie,defaultWidth:"wide"}),day:Wc({values:oie,defaultWidth:"wide"}),dayPeriod:Wc({values:aie,defaultWidth:"wide",formattingValues:lie,defaultFormattingWidth:"wide"})};function Hc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?hie(l,f=>f.test(a)):die(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}function die(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hie(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fie(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const pie=/^(\d+)(th|st|nd|rd)?/i,mie=/\d+/i,gie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yie={any:[/^b/i,/^(a|c)/i]},vie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xie={any:[/1/i,/2/i,/3/i,/4/i]},bie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_ie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cie={ordinalNumber:fie({matchPattern:pie,parsePattern:mie,valueCallback:t=>parseInt(t,10)}),era:Hc({matchPatterns:gie,defaultMatchWidth:"wide",parsePatterns:yie,defaultParseWidth:"any"}),quarter:Hc({matchPatterns:vie,defaultMatchWidth:"wide",parsePatterns:xie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hc({matchPatterns:bie,defaultMatchWidth:"wide",parsePatterns:wie,defaultParseWidth:"any"}),day:Hc({matchPatterns:_ie,defaultMatchWidth:"wide",parsePatterns:Nie,defaultParseWidth:"any"}),dayPeriod:Hc({matchPatterns:Sie,defaultMatchWidth:"any",parsePatterns:jie,defaultParseWidth:"any"})},kie={code:"en-US",formatDistance:Yse,formatLong:eie,formatRelative:nie,localize:uie,match:Cie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Eie(t,e){const n=Vn(t,e==null?void 0:e.in);return zse(n,Qse(n))+1}function Tie(t,e){const n=Vn(t,e==null?void 0:e.in),r=+fm(n)-+Vse(n);return Math.round(r/p4)+1}function y4(t,e){var h,f,p,g;const n=Vn(t,e==null?void 0:e.in),r=n.getFullYear(),s=Pg(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=Ns((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=Sd(a,e),c=Ns((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Sd(c,e);return+n>=+l?r+1:+n>=+u?r:r-1}function Iie(t,e){var l,c,u,h;const n=Pg(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=y4(t,e),o=Ns((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Sd(o,e)}function Pie(t,e){const n=Vn(t,e==null?void 0:e.in),r=+Sd(n,e)-+Iie(n,e);return Math.round(r/p4)+1}function Ye(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const bi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ye(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ye(n+1,2)},d(t,e){return Ye(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ye(t.getHours()%12||12,e.length)},H(t,e){return Ye(t.getHours(),e.length)},m(t,e){return Ye(t.getMinutes(),e.length)},s(t,e){return Ye(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ye(s,e.length)}},Ua={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nk={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return bi.y(t,e)},Y:function(t,e,n,r){const s=y4(t,r),o=s>0?s:1-s;if(e==="YY"){const a=o%100;return Ye(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ye(o,e.length)},R:function(t,e){const n=m4(t);return Ye(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ye(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ye(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ye(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return bi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ye(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Pie(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ye(s,e.length)},I:function(t,e,n){const r=Tie(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ye(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):bi.d(t,e)},D:function(t,e,n){const r=Eie(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ye(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ye(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ye(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ye(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ua.noon:r===0?s=Ua.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ua.evening:r>=12?s=Ua.afternoon:r>=4?s=Ua.morning:s=Ua.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return bi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):bi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):bi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):bi.s(t,e)},S:function(t,e){return bi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return jk(r);case"XXXX":case"XX":return Co(r);case"XXXXX":case"XXX":default:return Co(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return jk(r);case"xxxx":case"xx":return Co(r);case"xxxxx":case"xxx":default:return Co(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Sk(r,":");case"OOOO":default:return"GMT"+Co(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Sk(r,":");case"zzzz":default:return"GMT"+Co(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ye(r,e.length)},T:function(t,e,n){return Ye(+t,e.length)}};function Sk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+Ye(o,2)}function jk(t,e){return t%60===0?(t>0?"-":"+")+Ye(Math.abs(t)/60,2):Co(t,e)}function Co(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ye(Math.trunc(r/60),2),o=Ye(r%60,2);return n+s+e+o}const Ck=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},v4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Aie=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Ck(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Ck(r,e)).replace("{{time}}",v4(s,e))},Rie={p:v4,P:Aie},Oie=/^D+$/,Die=/^Y+$/,Mie=["D","DD","YY","YYYY"];function Lie(t){return Oie.test(t)}function Fie(t){return Die.test(t)}function Uie(t,e,n){const r=$ie(t,e,n);if(console.warn(r),Mie.includes(t))throw new RangeError(r)}function $ie(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vie=/^'([^]*?)'?$/,qie=/''/g,Wie=/[a-zA-Z]/;function Cd(t,e,n){var h,f,p,g;const r=Pg(),s=r.locale??kie,o=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,l=Vn(t,n==null?void 0:n.in);if(!Gse(l))throw new RangeError("Invalid time value");let c=e.match(zie).map(w=>{const v=w[0];if(v==="p"||v==="P"){const y=Rie[v];return y(w,s.formatLong)}return w}).join("").match(Bie).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:Hie(w)};if(Nk[v])return{isToken:!0,value:w};if(v.match(Wie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const v=w.value;(Fie(v)||Lie(v))&&Uie(v,e,String(t));const y=Nk[v[0]];return y(l,v,s.localize,u)}).join("")}function Hie(t){const e=t.match(Vie);return e?e[1].replace(qie,"'"):t}function kk(t,e){return+Vn(t)<+Vn(e)}function Ag(t){return+Vn(t)<Date.now()}function kd(t,e){return Wse(Ns(t,t),qse(t))}function Gie(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let Tb=1;class Qie{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Tb++,a=this.toasts.find(c=>c.id===o),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:r}),{...c,...e,id:o,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,a;const l=s.then(async u=>{if(a=["resolve",u],be.isValidElement(u))o=!1,this.create({id:r,type:"default",message:u});else if(Yie(u)&&!u.ok){o=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,w=typeof f=="object"&&!be.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...w})}else if(u instanceof Error){o=!1;const f=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,w=typeof f=="object"&&!be.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...w})}else if(n.success!==void 0){o=!1;const f=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,w=typeof f=="object"&&!be.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...w})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){o=!1;const h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description,g=typeof h=="object"&&!be.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...g})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Tb++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ur=new Qie,Kie=(t,e)=>{const n=(e==null?void 0:e.id)||Tb++;return ur.addToast({title:t,...e,id:n}),n},Yie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Xie=Kie,Jie=()=>ur.toasts,Zie=()=>ur.getActiveToasts(),bn=Object.assign(Xie,{success:ur.success,info:ur.info,warning:ur.warning,error:ur.error,custom:ur.custom,message:ur.message,promise:ur.promise,dismiss:ur.dismiss,loading:ur.loading},{getHistory:Jie,getToasts:Zie});Gie("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ek=[{value:"NOT_STARTED",label:"Not Started"},{value:"IN_PROGRESS",label:"In Progress"},{value:"COMPLETED",label:"Completed"},{value:"ON_HOLD",label:"On Hold"}],eoe=[{value:"LOW",label:"Low"},{value:"MEDIUM",label:"Medium"},{value:"HIGH",label:"High"}];function toe(){const[t,e]=m.useState(!1),[n,r]=m.useState([]),[s,o]=m.useState(""),[a,l]=m.useState("all"),[c,u]=m.useState("all"),[h,f]=m.useState("all"),[p,g]=m.useState("all"),[w,v]=m.useState(null),[y,_]=m.useState("NOT_STARTED"),[N,b]=m.useState(""),j=jd(new Date),{data:I}=Bm(),{data:O}=$m(),S=(I==null?void 0:I.data)||[],x=(O==null?void 0:O.data)||[],{data:E,isLoading:k,refetch:R}=q0({}),P=(E==null?void 0:E.data.tasks)||[];console.log("Fetched tasks:",P);const[T]=RT(),L=async U=>{try{await T(U).unwrap(),bn.success("Task created successfully"),e(!1),R()}catch{bn.error("Failed to create task")}},[q]=OT(),[z]=l9(),[B]=DT(),D=m.useMemo(()=>P.filter(U=>{var J,Q,ee,re,ne;return!(s&&!((J=U.title)!=null&&J.toLowerCase().includes(s.toLowerCase()))&&!((ee=(Q=U.clientId)==null?void 0:Q.name)!=null&&ee.toLowerCase().includes(s.toLowerCase()))||a!=="all"&&((re=U.clientId)==null?void 0:re._id)!==a||c!=="all"&&((ne=U.assignedTo)==null?void 0:ne._id)!==c||h!=="all"&&U.status!==h||p!=="all"&&U.priority!==p)}),[P,s,a,c,h,p]),F=m.useMemo(()=>P.filter(U=>U.status!=="COMPLETED"&&U.dueDate&&kk(new Date(U.dueDate),j)),[P,j]),W=U=>r(J=>J.includes(U)?J.filter(Q=>Q!==U):[...J,U]),X=()=>r(U=>U.length===D.length?[]:D.map(J=>J._id)),Z=()=>{bn.info("Bulk delete API not implemented yet"),r([])},$=U=>{bn.info("Bulk reassign API not implemented yet"),r([])},K=U=>{var Q;const J=P.find(ee=>ee._id===U);J&&(v(U),_(J.status),b((Q=J.assignedTo)==null?void 0:Q._id))},V=async()=>{var J;if(!w)return;const U=P.find(Q=>Q._id===w);if(U)try{const Q=[];if(N!==((J=U.assignedTo)==null?void 0:J._id)&&Q.push(z({id:w,body:{assignedTo:N}}).unwrap()),y!==U.status&&Q.push(B({id:w,status:y}).unwrap()),Q.length===0){bn.info("No changes to save"),v(null);return}await Promise.all(Q),bn.success("Task updated successfully"),v(null)}catch{bn.error("Failed to update task")}},H=async U=>{try{await q(U).unwrap(),bn.success("Task deleted successfully")}catch{bn.error("Failed to delete task")}};return i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Task Management"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.length," total tasks  ",F.length," overdue"]})]}),i.jsxs(xe,{onClick:()=>e(!0),className:"gap-2",children:[i.jsx(cg,{className:"h-4 w-4"})," Create Task"]})]}),F.length>0&&i.jsxs("div",{className:"bg-destructive/10 border border-destructive/30 rounded-xl p-4 flex items-start gap-3",children:[i.jsx(ab,{className:"h-5 w-5 text-destructive shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-destructive",children:[F.length," Overdue Task",F.length>1?"s":""]}),i.jsxs("ul",{className:"text-sm text-destructive/80 mt-1 space-y-0.5",children:[F.slice(0,3).map(U=>{var J;return i.jsxs("li",{children:[" ",U.title,"  ",(J=U.clientId)==null?void 0:J.name," (due"," ",Cd(new Date(U.dueDate),"MMM d"),")"]},U._id)}),F.length>3&&i.jsxs("li",{children:["...and ",F.length-3," more"]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"relative flex-1 min-w-[200px] max-w-xs",children:i.jsx(Gn,{placeholder:"Search tasks...",value:s,onChange:U=>o(U.target.value),className:"pl-9"})}),i.jsxs(Ft,{value:a,onValueChange:l,children:[i.jsxs(Rt,{className:"w-[160px]",children:[i.jsx(uR,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),i.jsx(Ht,{placeholder:"Client"})]}),i.jsxs(Ot,{className:"bg-popover z-50",children:[i.jsx(Ue,{value:"all",children:"All Clients"}),S.map(U=>i.jsx(Ue,{value:U.id,children:U.name},U.id))]})]}),i.jsxs(Ft,{value:c,onValueChange:u,children:[i.jsx(Rt,{className:"w-[160px]",children:i.jsx(Ht,{placeholder:"Staff"})}),i.jsxs(Ot,{className:"bg-popover z-50",children:[i.jsx(Ue,{value:"all",children:"All Staff"}),x.map(U=>i.jsx(Ue,{value:U._id,children:U.first_name},U._id))]})]}),i.jsxs(Ft,{value:h,onValueChange:f,children:[i.jsx(Rt,{className:"w-[140px]",children:i.jsx(Ht,{placeholder:"Status"})}),i.jsxs(Ot,{className:"bg-popover z-50",children:[i.jsx(Ue,{value:"all",children:"All Status"}),Ek.map(U=>i.jsx(Ue,{value:U.value,children:U.label},U.value))]})]}),i.jsxs(Ft,{value:p,onValueChange:g,children:[i.jsx(Rt,{className:"w-[130px]",children:i.jsx(Ht,{placeholder:"Priority"})}),i.jsxs(Ot,{className:"bg-popover z-50",children:[i.jsx(Ue,{value:"all",children:"All Priority"}),eoe.map(U=>i.jsx(Ue,{value:U.value,children:U.label},U.value))]})]})]}),n.length>0&&i.jsxs("div",{className:"flex items-center gap-3 bg-accent/50 border border-accent rounded-lg p-3",children:[i.jsxs("span",{className:"text-sm font-medium",children:[n.length," selected"]}),i.jsxs(_d,{children:[i.jsx(Nd,{asChild:!0,children:i.jsxs(xe,{variant:"outline",size:"sm",className:"gap-1.5",children:[i.jsx(h_,{className:"h-3.5 w-3.5"})," Reassign"]})}),i.jsx(Wl,{className:"bg-popover z-50",children:x.map(U=>i.jsx(Zn,{onClick:()=>$(U._id),children:U.first_name},U._id))})]}),i.jsxs(xe,{variant:"destructive",size:"sm",className:"gap-1.5",onClick:Z,children:[i.jsx(md,{className:"h-3.5 w-3.5"})," Delete"]})]}),i.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:i.jsxs(sh,{children:[i.jsx(ih,{children:i.jsxs(Dn,{className:"bg-muted/50",children:[i.jsx(ft,{className:"w-10",children:i.jsx(Eb,{checked:n.length===D.length&&D.length>0,onCheckedChange:X})}),i.jsx(ft,{children:"Title"}),i.jsx(ft,{children:"Client"}),i.jsx(ft,{children:"Assigned To"}),i.jsx(ft,{children:"Status"}),i.jsx(ft,{children:"Priority"}),i.jsx(ft,{children:"Due Date"}),i.jsx(ft,{className:"w-12"})]})}),i.jsx(oh,{children:k?i.jsx(Dn,{children:i.jsx(Ge,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:"Loading tasks..."})}):D.length===0?i.jsx(Dn,{children:i.jsx(Ge,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:"No tasks found."})}):D.map(U=>{var ee,re,ne,ye;const J=U.status!=="COMPLETED"&&U.dueDate&&kk(new Date(U.dueDate),j),Q=w===U._id;return i.jsxs(Dn,{className:J?"bg-destructive/5":"",children:[i.jsx(Ge,{children:i.jsx(Eb,{checked:n.includes(U._id),onCheckedChange:()=>W(U._id)})}),i.jsxs(Ge,{children:[i.jsx("div",{className:"font-medium text-foreground",children:U.title}),U.description&&i.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:U.description})]}),i.jsx(Ge,{className:"text-sm",children:((ee=U.clientId)==null?void 0:ee.first_name)+" "+((re=U.clientId)==null?void 0:re.last_name)||"-"}),i.jsx(Ge,{className:"text-sm",children:Q?i.jsxs(Ft,{value:N,onValueChange:b,children:[i.jsx(Rt,{className:"h-8 text-xs",children:i.jsx(Ht,{})}),i.jsx(Ot,{className:"bg-popover z-50",children:x.map(fe=>i.jsx(Ue,{value:fe._id,children:fe.first_name},fe._id))})]}):((ne=U.assignedTo)==null?void 0:ne.first_name)+" "+((ye=U.assignedTo)==null?void 0:ye.last_name)||"-"}),i.jsx(Ge,{children:Q?i.jsxs(Ft,{value:y,onValueChange:fe=>_(fe),children:[i.jsx(Rt,{className:"h-8 text-xs",children:i.jsx(Ht,{})}),i.jsx(Ot,{className:"bg-popover z-50",children:Ek.map(fe=>i.jsx(Ue,{value:fe.value,children:fe.label},fe.value))})]}):i.jsx(J_,{status:U.status})}),i.jsx(Ge,{children:i.jsx(Z_,{priority:U.priority})}),i.jsx(Ge,{className:"text-sm",children:i.jsx("span",{className:J?"text-destructive font-medium":"",children:U.dueDate?Cd(new Date(U.dueDate),"MMM d, yyyy"):"-"})}),i.jsx(Ge,{children:Q?i.jsxs("div",{className:"flex gap-1",children:[i.jsx(xe,{size:"sm",variant:"ghost",onClick:V,className:"h-7 text-xs",children:"Save"}),i.jsx(xe,{size:"sm",variant:"ghost",onClick:()=>v(null),className:"h-7 text-xs",children:""})]}):i.jsxs(_d,{children:[i.jsx(Nd,{asChild:!0,children:i.jsx(xe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(lR,{className:"h-4 w-4"})})}),i.jsxs(Wl,{align:"end",className:"bg-popover z-50",children:[i.jsxs(Zn,{onClick:()=>K(U._id),children:[i.jsx(gK,{className:"mr-2 h-3.5 w-3.5"})," Edit"]}),i.jsx(rh,{}),i.jsxs(Zn,{className:"text-destructive",onClick:()=>H(U._id),children:[i.jsx(md,{className:"mr-2 h-3.5 w-3.5"})," Delete"]})]})]})})]},U._id)})})]})}),i.jsx(f4,{open:t,onOpenChange:e,onCreate:L})]})}function noe(){var a;const{data:t,isLoading:e}=Bm(),{data:n,isLoading:r}=q0({}),s=(t==null?void 0:t.data)||[],o=((a=n==null?void 0:n.data)==null?void 0:a.tasks)||[];return e||r?i.jsx("div",{className:"p-6 text-muted-foreground",children:"Loading clients..."}):i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Clients"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," clients"]})]}),i.jsx("div",{className:"grid gap-4",children:s.map(l=>{const c=o.filter(h=>{var f;return((f=h.clientId)==null?void 0:f.id)===l.id}),u=c.filter(h=>h.status==="COMPLETED").length;return i.jsxs(Bt,{to:`/admin/clients/${l.id}`,className:"bg-card border border-border rounded-xl p-5 flex items-center justify-between hover:border-primary/40 transition-colors group no-underline",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-11 h-11 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(fd,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground -mb-1 mt-3",children:l.name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l.email})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(_s,{variant:"outline",className:"capitalize",children:l.plan||"standard"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[u,"/",c.length," tasks done"]}),i.jsx(Eo,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]})]},l.id)})})]})}function roe(){var b,j,I,O,S,x,E;const{clientId:t}=VT(),[e,n]=m.useState(!1),[r,s]=m.useState("all"),{data:o,isLoading:a,refetch:l}=q0({clientId:t}),c=((b=o==null?void 0:o.data)==null?void 0:b.tasks)||[],[u]=DT(),[h]=OT(),[f]=RT(),p=m.useMemo(()=>r==="all"?c:c.filter(k=>k.status===r),[c,r]),g=c.filter(k=>k.status==="COMPLETED").length,w=c.length,v=w>0?Math.round(g/w*100):0,y=async(k,R)=>{try{await u({id:k,status:R}).unwrap(),bn.success("Status updated")}catch{bn.error("Failed to update status")}},_=async k=>{try{await h(k).unwrap(),bn.success("Task deleted")}catch{bn.error("Delete failed")}},N=async k=>{try{await f({...k,clientId:t}).unwrap(),bn.success("Task created"),n(!1)}catch{bn.error("Create failed")}};return console.log("Tasks:",o),i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs(Bt,{to:"/admin/tasks",className:"inline-flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground",children:[i.jsx($l,{className:"h-4 w-4"})," Back to Tasks"]}),i.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center",children:i.jsx(fd,{className:"h-7 w-7 text-primary"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:((I=(j=c[0])==null?void 0:j.clientId)==null?void 0:I.first_name)+" "+((S=(O=c[0])==null?void 0:O.clientId)==null?void 0:S.last_name)||"-"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-muted-foreground",children:[i.jsx(to,{className:"h-3.5 w-3.5"}),((E=(x=c[0])==null?void 0:x.clientId)==null?void 0:E.email)||"Unknown Client"]})]})]}),i.jsxs(xe,{onClick:()=>n(!0),className:"gap-2",children:[i.jsx(cg,{className:"h-4 w-4"})," Create Task"]})]})}),i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsxs("div",{className:"flex justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold",children:"Task Progress"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[g," of ",w," completed (",v,"%)"]})]}),i.jsx(Kd,{value:v,className:"h-3"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h3",{className:"font-semibold",children:["Tasks (",p.length,")"]}),i.jsxs(Ft,{value:r,onValueChange:s,children:[i.jsx(Rt,{className:"w-[160px]",children:i.jsx(Ht,{placeholder:"Filter status"})}),i.jsxs(Ot,{children:[i.jsx(Ue,{value:"all",children:"All Status"}),i.jsx(Ue,{value:"NOT_STARTED",children:"Not Started"}),i.jsx(Ue,{value:"IN_PROGRESS",children:"In Progress"}),i.jsx(Ue,{value:"COMPLETED",children:"Completed"})]})]})]}),i.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:i.jsxs(sh,{children:[i.jsx(ih,{children:i.jsxs(Dn,{children:[i.jsx(ft,{children:"Title"}),i.jsx(ft,{children:"Assigned To"}),i.jsx(ft,{children:"Status"}),i.jsx(ft,{children:"Priority"}),i.jsx(ft,{children:"Due Date"}),i.jsx(ft,{className:"w-12"})]})}),i.jsx(oh,{children:a?i.jsx(Dn,{children:i.jsx(Ge,{colSpan:6,className:"text-center py-12",children:"Loading..."})}):p.length===0?i.jsx(Dn,{children:i.jsx(Ge,{colSpan:6,className:"text-center py-12",children:"No tasks found."})}):p.map(k=>{var R;return i.jsxs(Dn,{children:[i.jsxs(Ge,{children:[i.jsx("div",{className:"font-medium",children:k.title}),k.description&&i.jsx("div",{className:"text-xs text-muted-foreground",children:k.description})]}),i.jsx(Ge,{children:((R=k.assignedTo)==null?void 0:R.email)||"-"}),i.jsx(Ge,{children:i.jsx(J_,{status:k.status})}),i.jsx(Ge,{children:i.jsx(Z_,{priority:k.priority})}),i.jsx(Ge,{children:k.dueDate?Cd(new Date(k.dueDate),"MMM d, yyyy"):"-"}),i.jsx(Ge,{children:i.jsxs(_d,{children:[i.jsx(Nd,{asChild:!0,children:i.jsx(xe,{size:"icon",variant:"ghost",children:i.jsx(lR,{className:"h-4 w-4"})})}),i.jsxs(Wl,{align:"end",children:[i.jsx(Zn,{onClick:()=>y(k._id,"IN_PROGRESS"),children:"Mark In Progress"}),i.jsx(Zn,{onClick:()=>y(k._id,"COMPLETED"),children:"Mark Completed"}),i.jsx(rh,{}),i.jsxs(Zn,{className:"text-destructive",onClick:()=>_(k._id),children:[i.jsx(md,{className:"mr-2 h-3.5 w-3.5"}),"Delete"]})]})]})})]},k._id)})})]})}),i.jsx(f4,{open:e,onOpenChange:n,onCreate:N,prefillClientId:t})]})}var soe=Symbol("radix.slottable");function ioe(t){const e=({children:n})=>i.jsx(i.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=soe,e}var[Rg,Uae]=wr("Tooltip",[dc]),Og=dc(),ooe="TooltipProvider",Ib="tooltip.open",[$ae,tN]=Rg(ooe),Ed="Tooltip",[aoe,Dg]=Rg(Ed),x4=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=t,c=tN(Ed,t.__scopeTooltip),u=Og(e),[h,f]=m.useState(null),p=Hr(),g=m.useRef(0),w=a??c.disableHoverableContent,v=l??c.delayDuration,y=m.useRef(!1),[_,N]=ai({prop:r,defaultProp:s??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ib))):c.onClose(),o==null||o(S)},caller:Ed}),b=m.useMemo(()=>_?y.current?"delayed-open":"instant-open":"closed",[_]),j=m.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y.current=!1,N(!0)},[N]),I=m.useCallback(()=>{window.clearTimeout(g.current),g.current=0,N(!1)},[N]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{y.current=!0,N(!0),g.current=0},v)},[v,N]);return m.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),i.jsx(I_,{...u,children:i.jsx(aoe,{scope:e,contentId:p,open:_,stateAttribute:b,trigger:h,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?O():j()},[c.isOpenDelayedRef,O,j]),onTriggerLeave:m.useCallback(()=>{w?I():(window.clearTimeout(g.current),g.current=0)},[I,w]),onOpen:j,onClose:I,disableHoverableContent:w,children:n})})};x4.displayName=Ed;var Pb="TooltipTrigger",b4=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dg(Pb,n),o=tN(Pb,n),a=Og(n),l=m.useRef(null),c=Fe(e,l,s.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(P_,{asChild:!0,...a,children:i.jsx(Ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:de(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:de(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:de(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:de(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:de(t.onBlur,s.onClose),onClick:de(t.onClick,s.onClose)})})});b4.displayName=Pb;var loe="TooltipPortal",[Bae,coe]=Rg(loe,{forceMount:void 0}),Hl="TooltipContent",w4=m.forwardRef((t,e)=>{const n=coe(Hl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,a=Dg(Hl,t.__scopeTooltip);return i.jsx(_r,{present:r||a.open,children:a.disableHoverableContent?i.jsx(_4,{side:s,...o,ref:e}):i.jsx(uoe,{side:s,...o,ref:e})})}),uoe=m.forwardRef((t,e)=>{const n=Dg(Hl,t.__scopeTooltip),r=tN(Hl,t.__scopeTooltip),s=m.useRef(null),o=Fe(e,s),[a,l]=m.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{l(null),f(!1)},[f]),g=m.useCallback((w,v)=>{const y=w.currentTarget,_={x:w.clientX,y:w.clientY},N=moe(_,y.getBoundingClientRect()),b=goe(_,N),j=yoe(v.getBoundingClientRect()),I=xoe([...b,...j]);l(I),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(c&&h){const w=y=>g(y,h),v=y=>g(y,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",v)}}},[c,h,g,p]),m.useEffect(()=>{if(a){const w=v=>{const y=v.target,_={x:v.clientX,y:v.clientY},N=(c==null?void 0:c.contains(y))||(h==null?void 0:h.contains(y)),b=!voe(_,a);N?p():b&&(p(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,a,u,p]),i.jsx(_4,{...t,ref:o})}),[doe,hoe]=Rg(Ed,{isInside:!1}),foe=ioe("TooltipContent"),_4=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=t,c=Dg(Hl,n),u=Og(n),{onClose:h}=c;return m.useEffect(()=>(document.addEventListener(Ib,h),()=>document.removeEventListener(Ib,h)),[h]),m.useEffect(()=>{if(c.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:i.jsxs(A_,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(foe,{children:r}),i.jsx(doe,{scope:n,isInside:!0,children:i.jsx(LJ,{id:c.contentId,role:"tooltip",children:s||r})})]})})});w4.displayName=Hl;var N4="TooltipArrow",poe=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Og(n);return hoe(N4,n).isInside?null:i.jsx(R_,{...s,...r,ref:e})});poe.displayName=N4;function moe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function goe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function yoe(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function voe(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],u=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-u)*(r-h)/(p-h)+u&&(s=!s)}return s}function xoe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),boe(e)}function boe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var woe=x4,_oe=b4,S4=w4;const Noe=woe,Soe=_oe,j4=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>i.jsx(S4,{ref:r,sideOffset:e,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));j4.displayName=S4.displayName;const joe=[{icon:hR,label:"Dashboard",href:"/staff"},{icon:xs,label:"My Clients",href:"/staff/clients"},{icon:tm,label:"My Tasks",href:"/staff/tasks"},{icon:Bl,label:"Reports",href:"/staff/reports"},{icon:oR,label:"Create Client Task",href:"/staff/create-task"}];function Coe(){const t=kn(),[e,n]=m.useState(!1);return i.jsxs("aside",{className:le("relative flex flex-col min-h-screen bg-sidebar text-sidebar-foreground border-r border-sidebar-border shadow-lg transition-all duration-300",e?"w-[72px]":"w-64"),children:[i.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>n(!e),className:"absolute -right-3 top-20 z-10 h-6 w-6 rounded-full border border-border bg-card text-muted-foreground shadow-md hover:bg-accent",children:e?i.jsx(sR,{className:"h-3.5 w-3.5"}):i.jsx(kQ,{className:"h-3.5 w-3.5"})}),i.jsx("div",{className:le("p-5 border-b border-sidebar-border flex items-center",e&&"justify-center"),children:e?i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-foreground text-primary flex items-center justify-center font-bold text-xl",children:"P"}):i.jsx(Ul,{variant:"light"})}),i.jsx("nav",{className:"flex-1 p-3 space-y-1",children:joe.map(r=>{const s=t.pathname===r.href||r.href==="/staff"&&t.pathname==="/staff",o=i.jsxs(Bt,{to:r.href,className:le("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",e&&"justify-center px-0",s?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[i.jsx(r.icon,{className:"w-5 h-5 shrink-0"}),!e&&i.jsx("span",{children:r.label})]});return e?i.jsxs(Noe,{delayDuration:0,children:[i.jsx(Soe,{asChild:!0,children:o}),i.jsx(j4,{side:"right",className:"font-medium",children:r.label})]},r.href):i.jsx("div",{children:o},r.href)})}),i.jsx("div",{className:"p-3 border-t border-sidebar-border",children:i.jsxs(Bt,{to:"/",className:le("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-all duration-200",e&&"justify-center"),children:[i.jsx(d_,{className:"w-5 h-5 shrink-0"}),!e&&i.jsx("span",{children:"Sign Out"})]})})]})}function koe({title:t}){const e=Tt();return i.jsxs("header",{className:"h-16 bg-card border-b border-border px-6 flex items-center justify-between shadow-sm",children:[i.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative hidden md:block",children:[i.jsx(CK,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Gn,{placeholder:"Search clients, tasks...",className:"pl-9 w-64 h-9 bg-secondary/50 border-border/50 focus:bg-card"})]}),i.jsxs(xe,{variant:"ghost",size:"icon",className:"relative",children:[i.jsx(gl,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-destructive rounded-full"})]}),i.jsxs(_d,{children:[i.jsx(Nd,{asChild:!0,children:i.jsxs(xe,{variant:"ghost",className:"flex items-center gap-2 px-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-chart-4 flex items-center justify-center",children:i.jsx(zl,{className:"h-4 w-4 text-primary-foreground"})}),i.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Sarah M."})]})}),i.jsxs(Wl,{align:"end",className:"w-48",children:[i.jsxs(Zn,{children:[i.jsx(zl,{className:"mr-2 h-4 w-4"})," Profile"]}),i.jsxs(Zn,{children:[i.jsx(ug,{className:"mr-2 h-4 w-4"})," Settings"]}),i.jsx(rh,{}),i.jsxs(Zn,{onClick:()=>e("/"),children:[i.jsx(d_,{className:"mr-2 h-4 w-4"})," Sign Out"]})]})]})]})]})}function Ri({title:t,value:e,icon:n,tint:r,iconColor:s}){return i.jsx("div",{className:"group bg-card border border-border rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-foreground",children:e})]}),i.jsx("div",{className:le("w-11 h-11 rounded-xl flex items-center justify-center transition-transform duration-200 group-hover:scale-110",r),children:i.jsx(n,{className:le("w-5 h-5",s)})})]})})}const Eoe={low:"bg-muted text-muted-foreground",medium:"bg-warning/15 text-warning",high:"bg-destructive/15 text-destructive",urgent:"bg-destructive/20 text-destructive font-semibold"},Toe={not_started:"bg-muted text-muted-foreground",in_progress:"bg-primary/15 text-primary",completed:"bg-success/15 text-success",blocked:"bg-destructive/15 text-destructive"},Ioe={not_started:"Not Started",in_progress:"In Progress",completed:"Completed",blocked:"Blocked"};function C4({task:t,onEdit:e,onComplete:n}){const r=new Date(t.dueDate),s=Ag(r)&&!kd(r)&&t.status!=="completed";return i.jsxs("div",{className:le("bg-card border rounded-xl p-5 transition-all duration-200 hover:shadow-md",s?"border-destructive/50 shadow-destructive/5":"border-border"),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("h4",{className:"font-semibold text-foreground text-sm leading-tight",children:t.title}),i.jsx(_s,{className:le("text-[11px] ml-2 shrink-0",Eoe[t.priority]),variant:"secondary",children:t.priority.charAt(0).toUpperCase()+t.priority.slice(1)})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.clientName}),i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(yl,{className:"w-3.5 h-3.5 text-muted-foreground"}),i.jsxs("span",{className:le("text-xs",s?"text-destructive font-medium":"text-muted-foreground"),children:[s&&"Overdue  ",Cd(r,"MMM d, yyyy")]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(_s,{className:le("text-[11px]",Toe[t.status]),variant:"secondary",children:Ioe[t.status]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(xe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>e==null?void 0:e(t),children:i.jsx(fR,{className:"h-3.5 w-3.5"})}),t.status!=="completed"&&i.jsx(xe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-success hover:text-success",onClick:()=>n==null?void 0:n(t),children:i.jsx(oi,{className:"h-3.5 w-3.5"})})]})]})]})}const Ab=[{value:"not_started",label:"Not Started"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"blocked",label:"Blocked"}],k4=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],Td=[{id:"c1",name:"Acme Corp",email:"admin@acme.com",plan:"enterprise"},{id:"c2",name:"Bloom Studio",email:"hello@bloom.io",plan:"essential"},{id:"c3",name:"Nova Labs",email:"team@novalabs.com",plan:"startup"},{id:"c4",name:"Greenfield Inc",email:"info@greenfield.com",plan:"essential"},{id:"c5",name:"Pixel Works",email:"contact@pixelworks.co",plan:"startup"}],df=[{id:"t1",title:"Complete Q4 Tax Filing",description:"Prepare and file quarterly taxes",clientId:"c1",clientName:"Acme Corp",assignedTo:"Sarah Mitchell",status:"in_progress",priority:"urgent",dueDate:"2026-02-10",createdAt:"2026-01-15T10:00:00Z",updatedAt:"2026-02-01T10:00:00Z"},{id:"t2",title:"Reconcile Bank Statements",description:"Monthly bank reconciliation",clientId:"c2",clientName:"Bloom Studio",assignedTo:"James Carter",status:"not_started",priority:"high",dueDate:"2026-02-20",createdAt:"2026-02-01T10:00:00Z",updatedAt:"2026-02-01T10:00:00Z"},{id:"t3",title:"Setup Payroll Integration",description:"Connect payroll provider",clientId:"c1",clientName:"Acme Corp",assignedTo:"Emily Chen",status:"completed",priority:"medium",dueDate:"2026-01-30",createdAt:"2026-01-10T10:00:00Z",updatedAt:"2026-01-28T10:00:00Z"},{id:"t4",title:"Upload W-2 Forms",description:"Collect and upload employee W-2s",clientId:"c3",clientName:"Nova Labs",assignedTo:"Michael Ross",status:"blocked",priority:"high",dueDate:"2026-02-14",createdAt:"2026-01-20T10:00:00Z",updatedAt:"2026-02-05T10:00:00Z"},{id:"t5",title:"Monthly P&L Report",description:"Generate profit & loss statement",clientId:"c4",clientName:"Greenfield Inc",assignedTo:"Sarah Mitchell",status:"not_started",priority:"medium",dueDate:"2026-02-28",createdAt:"2026-02-10T10:00:00Z",updatedAt:"2026-02-10T10:00:00Z"},{id:"t6",title:"Review Chart of Accounts",description:"Audit and clean up chart of accounts",clientId:"c5",clientName:"Pixel Works",assignedTo:"James Carter",status:"in_progress",priority:"low",dueDate:"2026-03-01",createdAt:"2026-02-05T10:00:00Z",updatedAt:"2026-02-12T10:00:00Z"},{id:"t7",title:"Onboarding Document Collection",description:"Gather initial documents from client",clientId:"c1",clientName:"Acme Corp",assignedTo:"Emily Chen",status:"completed",priority:"high",dueDate:"2026-01-20",createdAt:"2026-01-05T10:00:00Z",updatedAt:"2026-01-18T10:00:00Z"},{id:"t8",title:"QuickBooks Migration",description:"Migrate data to QuickBooks Online",clientId:"c2",clientName:"Bloom Studio",assignedTo:"Michael Ross",status:"not_started",priority:"urgent",dueDate:"2026-02-12",createdAt:"2026-02-01T10:00:00Z",updatedAt:"2026-02-01T10:00:00Z"}],hf="plutify_tasks";function fc(){const[t,e]=m.useState([]),[n,r]=m.useState(!0);m.useEffect(()=>{const h=localStorage.getItem(hf);if(h)try{e(JSON.parse(h))}catch{e(df),localStorage.setItem(hf,JSON.stringify(df))}else e(df),localStorage.setItem(hf,JSON.stringify(df));r(!1)},[]);const s=m.useCallback(h=>{e(h),localStorage.setItem(hf,JSON.stringify(h))},[]),o=m.useCallback(h=>{const f=new Date().toISOString(),p={...h,id:`t_${Date.now()}`,createdAt:f,updatedAt:f};return s([p,...t]),p},[t,s]),a=m.useCallback((h,f)=>{s(t.map(p=>p.id===h?{...p,...f,updatedAt:new Date().toISOString()}:p))},[t,s]),l=m.useCallback(h=>{s(t.filter(f=>f.id!==h))},[t,s]),c=m.useCallback(h=>{s(t.filter(f=>!h.includes(f.id)))},[t,s]),u=m.useCallback((h,f)=>{s(t.map(p=>h.includes(p.id)?{...p,assignedTo:f,updatedAt:new Date().toISOString()}:p))},[t,s]);return{tasks:t,isLoading:n,createTask:o,updateTask:a,deleteTask:l,deleteTasks:c,reassignTasks:u}}function hs({className:t,...e}){return i.jsx("div",{className:le("animate-pulse rounded-md bg-muted",t),...e})}const Poe=1,Aoe=1e6;let wv=0;function Roe(){return wv=(wv+1)%Number.MAX_SAFE_INTEGER,wv.toString()}const _v=new Map,Tk=t=>{if(_v.has(t))return;const e=setTimeout(()=>{_v.delete(t),Cu({type:"REMOVE_TOAST",toastId:t})},Aoe);_v.set(t,e)},Ooe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Poe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Tk(n):t.toasts.forEach(r=>{Tk(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Gf=[];let Qf={toasts:[]};function Cu(t){Qf=Ooe(Qf,t),Gf.forEach(e=>{e(Qf)})}function Doe({...t}){const e=Roe(),n=s=>Cu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Cu({type:"DISMISS_TOAST",toastId:e});return Cu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Mg(){const[t,e]=m.useState(Qf);return m.useEffect(()=>(Gf.push(e),()=>{const n=Gf.indexOf(e);n>-1&&Gf.splice(n,1)}),[t]),{...t,toast:Doe,dismiss:n=>Cu({type:"DISMISS_TOAST",toastId:n})}}const Moe="Sarah Mitchell";function Loe(){const{tasks:t,isLoading:e,updateTask:n}=fc(),{toast:r}=Mg(),s=t.filter(f=>f.assignedTo===Moe),o=[...new Set(s.map(f=>f.clientId))],a=Td.filter(f=>o.includes(f.id)),l=s.filter(f=>f.status!=="completed").length,c=s.filter(f=>f.status==="completed"&&kd(new Date(f.updatedAt))).length,u=a.length,h=f=>{n(f.id,{status:"completed"}),r({title:"Task completed",description:f.title})};return e?i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((f,p)=>i.jsx(hs,{className:"h-[100px] rounded-xl"},p))}),i.jsx(hs,{className:"h-10 w-48"}),i.jsx(hs,{className:"h-[200px] rounded-xl"}),i.jsx(hs,{className:"h-[300px] rounded-xl"})]}):i.jsxs("div",{className:"space-y-8 animate-fade-in",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Ri,{title:"Assigned Clients",value:a.length,icon:xs,tint:"bg-primary/10",iconColor:"text-primary"}),i.jsx(Ri,{title:"Pending Tasks",value:l,icon:tm,tint:"bg-warning/10",iconColor:"text-warning"}),i.jsx(Ri,{title:"Completed Today",value:c,icon:oi,tint:"bg-success/10",iconColor:"text-success"}),i.jsx(Ri,{title:"Active Clients",value:u,icon:dQ,tint:"bg-chart-4/10",iconColor:"text-chart-4"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-base font-semibold text-foreground mb-3",children:"Quick Actions"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(Bt,{to:"/staff/create-task",children:i.jsxs(xe,{className:"bg-gradient-to-r from-primary to-chart-4 text-primary-foreground hover:opacity-90 gap-2 shadow-md",children:[i.jsx(oR,{className:"w-4 h-4"})," Create Client Task"]})}),i.jsx(Bt,{to:"/staff/reports",children:i.jsxs(xe,{variant:"outline",className:"gap-2",children:[i.jsx(Bl,{className:"w-4 h-4"})," View Reports"]})})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-base font-semibold text-foreground mb-3",children:"My Assigned Clients"}),a.length===0?i.jsxs("div",{className:"bg-card border border-border rounded-xl p-10 text-center",children:[i.jsx(xs,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"No clients assigned yet."})]}):i.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:i.jsxs(sh,{children:[i.jsx(ih,{children:i.jsxs(Dn,{className:"bg-muted/50",children:[i.jsx(ft,{children:"Client Name"}),i.jsx(ft,{className:"hidden sm:table-cell",children:"Email"}),i.jsx(ft,{className:"text-center",children:"Total Tasks"}),i.jsx(ft,{className:"text-center",children:"Pending"}),i.jsx(ft,{className:"text-center",children:"Status"}),i.jsx(ft,{className:"text-right",children:"Action"})]})}),i.jsx(oh,{children:a.map((f,p)=>{const g=s.filter(y=>y.clientId===f.id),w=g.filter(y=>y.status!=="completed").length,v=g.some(y=>Ag(new Date(y.dueDate))&&!kd(new Date(y.dueDate))&&y.status!=="completed");return i.jsxs(Dn,{className:le(p%2===1&&"bg-muted/20"),children:[i.jsx(Ge,{className:"font-medium",children:f.name}),i.jsx(Ge,{className:"hidden sm:table-cell text-muted-foreground",children:f.email}),i.jsx(Ge,{className:"text-center",children:g.length}),i.jsx(Ge,{className:"text-center",children:w}),i.jsx(Ge,{className:"text-center",children:i.jsx(_s,{variant:"secondary",className:le("text-[11px]",v?"bg-destructive/15 text-destructive":w===0?"bg-success/15 text-success":"bg-primary/15 text-primary"),children:v?"Overdue":w===0?"Up to Date":"Active"})}),i.jsx(Ge,{className:"text-right",children:i.jsx(Bt,{to:"/staff/clients",children:i.jsx(xe,{variant:"ghost",size:"sm",className:"text-primary",children:"View"})})})]},f.id)})})]})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-base font-semibold text-foreground mb-3",children:"My Tasks"}),s.length===0?i.jsxs("div",{className:"bg-card border border-border rounded-xl p-10 text-center",children:[i.jsx(tm,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"No tasks assigned yet."})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(f=>i.jsx(C4,{task:f,onComplete:h},f.id))})]})]})}const Foe={"/staff":"Dashboard","/staff/clients":"My Clients","/staff/tasks":"My Tasks","/staff/reports":"Reports","/staff/create-task":"Create Client Task"};function Uoe(){return i.jsx(Loe,{})}function $oe(){const t=kn(),e=Foe[t.pathname]||"Dashboard",n=t.pathname==="/staff";return i.jsxs("div",{className:"staff-scope flex min-h-screen bg-background",children:[i.jsx(Coe,{}),i.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[i.jsx(koe,{title:e}),i.jsx("main",{className:"flex-1 p-6 overflow-auto",children:n?i.jsx(Uoe,{}):i.jsx(K0,{})})]})]})}const Boe="Sarah Mitchell";function zoe(){const{tasks:t,isLoading:e}=fc(),n=t.filter(o=>o.assignedTo===Boe),r=[...new Set(n.map(o=>o.clientId))],s=Td.filter(o=>r.includes(o.id));return e?i.jsxs("div",{className:"space-y-4 animate-fade-in",children:[i.jsx(hs,{className:"h-8 w-40"}),i.jsx(hs,{className:"h-[300px] rounded-xl"})]}):i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"My Clients"}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s.length," clients assigned to you"]})]})}),s.length===0?i.jsxs("div",{className:"bg-card border border-border rounded-xl p-12 text-center",children:[i.jsx(xs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-lg font-medium text-foreground mb-1",children:"No clients yet"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients will appear here once tasks are assigned to you."})]}):i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map(o=>{const a=n.filter(h=>h.clientId===o.id),l=a.filter(h=>h.status==="completed").length,c=a.length-l,u=a.some(h=>Ag(new Date(h.dueDate))&&!kd(new Date(h.dueDate))&&h.status!=="completed");return i.jsxs("div",{className:le("bg-card border rounded-xl p-5 transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5",u?"border-destructive/40":"border-border"),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground",children:o.name}),i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-0.5",children:[i.jsx(to,{className:"w-3.5 h-3.5"})," ",o.email]})]}),i.jsx(_s,{variant:"secondary",className:"text-[11px] capitalize",children:o.plan})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm mb-4",children:[i.jsxs("span",{className:"text-muted-foreground",children:[i.jsx("span",{className:"font-semibold text-foreground",children:a.length})," tasks"]}),i.jsxs("span",{className:"text-muted-foreground",children:[i.jsx("span",{className:"font-semibold text-success",children:l})," done"]}),c>0&&i.jsxs("span",{className:"text-muted-foreground",children:[i.jsx("span",{className:"font-semibold text-warning",children:c})," pending"]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mb-4",children:i.jsx("div",{className:"bg-success h-1.5 rounded-full transition-all",style:{width:`${a.length>0?l/a.length*100:0}%`}})}),i.jsx(Bt,{to:`/staff/clients/${o.id}`,children:i.jsxs(xe,{variant:"outline",size:"sm",className:"w-full gap-2",children:[i.jsx(cR,{className:"w-3.5 h-3.5"})," View Details"]})})]},o.id)})})]})}const Ik="Sarah Mitchell";function Voe(){const{clientId:t}=VT(),{tasks:e,updateTask:n}=fc(),{toast:r}=Mg(),[s,o]=m.useState("all"),a=Td.find(g=>g.id===t),l=m.useMemo(()=>{let g=e.filter(w=>w.clientId===t&&w.assignedTo===Ik);return s!=="all"&&(g=g.filter(w=>w.status===s)),g},[e,t,s]),c=e.filter(g=>g.clientId===t&&g.assignedTo===Ik),u=c.filter(g=>g.status==="completed").length,h=c.length,f=h>0?Math.round(u/h*100):0;if(!a)return i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[i.jsx("p",{className:"text-lg mb-4",children:"Client not found."}),i.jsx(Bt,{to:"/staff/clients",children:i.jsxs(xe,{variant:"outline",children:[i.jsx($l,{className:"mr-2 h-4 w-4"})," Back to Clients"]})})]});const p=(g,w)=>{n(g,{status:w}),r({title:"Status updated"})};return i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs(Bt,{to:"/staff/clients",className:"inline-flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx($l,{className:"h-4 w-4"})," Back to Clients"]}),i.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center",children:i.jsx(fd,{className:"h-7 w-7 text-primary"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),i.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(to,{className:"h-3.5 w-3.5"})," ",a.email]}),i.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs font-medium rounded-full capitalize",children:a.plan})]})]})]})}),i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Task Progress"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[u," of ",h," tasks completed (",f,"%)"]})]}),i.jsx(Kd,{value:f,className:"h-3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"font-semibold text-foreground",children:["My Tasks (",l.length,")"]}),i.jsxs(Ft,{value:s,onValueChange:o,children:[i.jsx(Rt,{className:"w-[150px]",children:i.jsx(Ht,{placeholder:"Filter status"})}),i.jsxs(Ot,{className:"bg-popover z-50",children:[i.jsx(Ue,{value:"all",children:"All Status"}),Ab.map(g=>i.jsx(Ue,{value:g.value,children:g.label},g.value))]})]})]}),i.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:i.jsxs(sh,{children:[i.jsx(ih,{children:i.jsxs(Dn,{className:"bg-muted/50",children:[i.jsx(ft,{children:"Title"}),i.jsx(ft,{children:"Status"}),i.jsx(ft,{children:"Priority"}),i.jsx(ft,{children:"Due Date"})]})}),i.jsx(oh,{children:l.length===0?i.jsx(Dn,{children:i.jsx(Ge,{colSpan:4,className:"text-center py-12 text-muted-foreground",children:"No tasks for this client."})}):l.map(g=>i.jsxs(Dn,{children:[i.jsxs(Ge,{children:[i.jsx("div",{className:"font-medium text-foreground",children:g.title}),g.description&&i.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:g.description})]}),i.jsx(Ge,{children:i.jsxs(Ft,{value:g.status,onValueChange:w=>p(g.id,w),children:[i.jsx(Rt,{className:"w-[130px] h-8 text-xs",children:i.jsx(J_,{status:g.status})}),i.jsx(Ot,{className:"bg-popover z-50",children:Ab.map(w=>i.jsx(Ue,{value:w.value,children:w.label},w.value))})]})}),i.jsx(Ge,{children:i.jsx(Z_,{priority:g.priority})}),i.jsx(Ge,{className:"text-sm",children:Cd(new Date(g.dueDate),"MMM d, yyyy")})]},g.id))})]})})]})}const qoe="Sarah Mitchell";function Woe(){const{tasks:t,isLoading:e,updateTask:n}=fc(),{toast:r}=Mg(),[s,o]=m.useState("all"),[a,l]=m.useState("all"),c=t.filter(f=>f.assignedTo===qoe),u=c.filter(f=>!(s!=="all"&&f.status!==s||a!=="all"&&f.priority!==a)),h=f=>{n(f.id,{status:"completed"}),r({title:"Task completed",description:f.title})};return e?i.jsxs("div",{className:"space-y-4 animate-fade-in",children:[i.jsx(hs,{className:"h-8 w-40"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((f,p)=>i.jsx(hs,{className:"h-[180px] rounded-xl"},p))})]}):i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"My Tasks"}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[u.length," of ",c.length," tasks shown"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Ft,{value:s,onValueChange:o,children:[i.jsx(Rt,{className:"w-[140px] h-9",children:i.jsx(Ht,{placeholder:"Status"})}),i.jsxs(Ot,{children:[i.jsx(Ue,{value:"all",children:"All Statuses"}),Ab.map(f=>i.jsx(Ue,{value:f.value,children:f.label},f.value))]})]}),i.jsxs(Ft,{value:a,onValueChange:l,children:[i.jsx(Rt,{className:"w-[140px] h-9",children:i.jsx(Ht,{placeholder:"Priority"})}),i.jsxs(Ot,{children:[i.jsx(Ue,{value:"all",children:"All Priorities"}),k4.map(f=>i.jsx(Ue,{value:f.value,children:f.label},f.value))]})]})]})]}),u.length===0?i.jsxs("div",{className:"bg-card border border-border rounded-xl p-12 text-center",children:[i.jsx(tm,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-lg font-medium text-foreground mb-1",children:"No tasks found"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your filters."})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(f=>i.jsx(C4,{task:f,onComplete:h},f.id))})]})}const Hoe="Sarah Mitchell";function Goe(){const{tasks:t,isLoading:e}=fc(),n=t.filter(h=>h.assignedTo===Hoe),r=n.filter(h=>h.status==="completed").length,s=n.filter(h=>h.status==="in_progress").length,o=n.filter(h=>Ag(new Date(h.dueDate))&&!kd(new Date(h.dueDate))&&h.status!=="completed").length,a=n.filter(h=>h.status==="blocked").length,l=n.length,c=l>0?Math.round(r/l*100):0,u=[...new Set(n.map(h=>h.clientId))];return e?i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsx(hs,{className:"h-8 w-40"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((h,f)=>i.jsx(hs,{className:"h-[100px] rounded-xl"},f))})]}):i.jsxs("div",{className:"space-y-8 animate-fade-in",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Reports"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your performance overview"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Ri,{title:"Total Tasks",value:l,icon:Bl,tint:"bg-primary/10",iconColor:"text-primary"}),i.jsx(Ri,{title:"Completed",value:r,icon:oi,tint:"bg-success/10",iconColor:"text-success"}),i.jsx(Ri,{title:"In Progress",value:s,icon:u_,tint:"bg-warning/10",iconColor:"text-warning"}),i.jsx(Ri,{title:"Overdue",value:o,icon:ab,tint:"bg-destructive/10",iconColor:"text-destructive"})]}),i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Completion Rate"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-primary to-success h-3 rounded-full transition-all duration-500",style:{width:`${c}%`}})})}),i.jsxs("span",{className:"text-2xl font-bold text-foreground",children:[c,"%"]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[r," of ",l," tasks completed across ",u.length," clients"]})]}),i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Tasks by Priority"}),i.jsx("div",{className:"space-y-3",children:["urgent","high","medium","low"].map(h=>{const f=n.filter(w=>w.priority===h).length,p=l>0?Math.round(f/l*100):0,g={urgent:"bg-destructive",high:"bg-warning",medium:"bg-primary",low:"bg-muted-foreground/40"};return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm font-medium capitalize w-16",children:h}),i.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:i.jsx("div",{className:le("h-2 rounded-full transition-all",g[h]),style:{width:`${p}%`}})}),i.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:f})]},h)})})]}),a>0&&i.jsxs("div",{className:"bg-destructive/5 border border-destructive/20 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ab,{className:"w-5 h-5 text-destructive"}),i.jsxs("h3",{className:"font-semibold text-destructive",children:[a," Blocked Task",a>1?"s":""]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Some tasks are blocked and need attention."})]})]})}const Qoe="Sarah Mitchell";function Koe(){const{createTask:t}=fc(),{toast:e}=Mg(),n=Tt(),[r,s]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),[u,h]=m.useState("medium"),[f,p]=m.useState(""),[g,w]=m.useState(!1),v=Td.find(_=>_.id===l),y=_=>{_.preventDefault(),!(!r||!l||!f)&&(t({title:r,description:o,clientId:l,clientName:(v==null?void 0:v.name)||"",assignedTo:Qoe,status:"not_started",priority:u,dueDate:f}),w(!0),e({title:"Task created",description:r}),setTimeout(()=>n("/staff/tasks"),1500))};return g?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-fade-in",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mb-4",children:i.jsx(oi,{className:"w-8 h-8 text-success"})}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Task Created!"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Redirecting to your tasks..."})]}):i.jsxs("div",{className:"max-w-2xl mx-auto animate-fade-in",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Create Client Task"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create a new task for a client"})]}),i.jsxs("form",{onSubmit:y,className:"bg-card border border-border rounded-xl p-6 space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"title",children:"Task Title *"}),i.jsx(Gn,{id:"title",value:r,onChange:_=>s(_.target.value),placeholder:"e.g. Reconcile Q1 statements",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"description",children:"Description"}),i.jsx(eN,{id:"description",value:o,onChange:_=>a(_.target.value),placeholder:"Optional details...",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Client *"}),i.jsxs(Ft,{value:l,onValueChange:c,required:!0,children:[i.jsx(Rt,{children:i.jsx(Ht,{placeholder:"Select client"})}),i.jsx(Ot,{children:Td.map(_=>i.jsx(Ue,{value:_.id,children:_.name},_.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Priority"}),i.jsxs(Ft,{value:u,onValueChange:h,children:[i.jsx(Rt,{children:i.jsx(Ht,{})}),i.jsx(Ot,{children:k4.map(_=>i.jsx(Ue,{value:_.value,children:_.label},_.value))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"due",children:"Due Date *"}),i.jsx(Gn,{id:"due",type:"date",value:f,onChange:_=>p(_.target.value),required:!0})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx(xe,{type:"submit",className:"bg-gradient-to-r from-primary to-chart-4 text-primary-foreground gap-2",disabled:!r||!l||!f,children:"Create Task"}),i.jsx(xe,{type:"button",variant:"outline",onClick:()=>n("/staff"),children:"Cancel"})]})]})]})}const Yoe=(t,e,n)=>e?ag(t)&&!n?"/onboarding":"/dashboard":"/login";function Xoe(){const t=Oe(F0),e=Oe(Ss),n=Oe(U0);be.useEffect(()=>{$A(),console.log(" Firebase initialized")},[]);const r=Yoe(e,t,n);return i.jsx(c$,{children:i.jsx("div",{className:"app",children:i.jsxs(t$,{children:[i.jsx(tt,{path:"/login",element:i.jsx(yC,{children:i.jsx(YK,{})})}),i.jsx(tt,{path:"/signup",element:i.jsx(yC,{children:i.jsx(XK,{})})}),i.jsx(tt,{path:"/new-dashboard",element:i.jsx(Pa,{children:i.jsx($c,{allowedRoles:[as.CLIENT],children:i.jsx(use,{})})}),children:i.jsx(tt,{path:"quickbooks",element:i.jsx(mse,{})})}),i.jsxs(tt,{path:"/adminDashboard",element:i.jsx(Pa,{children:i.jsx($c,{allowedRoles:[as.ADMIN],children:i.jsx(Tse,{})})}),children:[i.jsx(tt,{path:"",element:i.jsx(Cse,{})}),i.jsx(tt,{path:"tasks",element:i.jsx(toe,{})}),i.jsx(tt,{path:"clients",element:i.jsx(noe,{})}),i.jsx(tt,{path:"clients/:clientId",element:i.jsx(roe,{})})]}),i.jsxs(tt,{path:"/staff",element:i.jsx($oe,{}),children:[i.jsx(tt,{path:"clients",element:i.jsx(zoe,{})}),i.jsx(tt,{path:"clients/:clientId",element:i.jsx(Voe,{})}),i.jsx(tt,{path:"tasks",element:i.jsx(Woe,{})}),i.jsx(tt,{path:"reports",element:i.jsx(Goe,{})}),i.jsx(tt,{path:"create-task",element:i.jsx(Koe,{})})]}),i.jsx(tt,{path:"/pricing",element:i.jsx(Cne,{})}),i.jsx(tt,{path:"/questionnaire",element:i.jsx(Mee,{})}),i.jsx(tt,{path:"/amazon-callback",element:i.jsx(Tne,{})}),i.jsx(tt,{path:"/shopify-callback",element:i.jsx(Ine,{})}),i.jsx(tt,{path:"/quickbooks-callback",element:i.jsx(Pne,{})}),i.jsx(tt,{path:"/onboarding",element:i.jsx(Pa,{children:i.jsx($c,{allowedRoles:[as.CLIENT],children:i.jsx(gC,{requireIncomplete:!0,children:i.jsx($te,{})})})})}),i.jsx(tt,{path:"/subscription",element:i.jsx(Pa,{children:i.jsx($c,{allowedRoles:[as.CLIENT,as.ADMIN],children:i.jsx(kne,{})})})}),i.jsx(tt,{path:"/admin/plans",element:i.jsx(Pa,{children:i.jsx($c,{allowedRoles:[as.ADMIN],children:i.jsx(Ene,{})})})}),i.jsx(tt,{path:"/dashboard",element:i.jsx(Pa,{children:i.jsx(gC,{children:i.jsx(oG,{children:i.jsx(vte,{})})})})}),i.jsx(tt,{path:"/",element:i.jsx(Xn,{to:r,replace:!0})}),i.jsx(tt,{path:"*",element:i.jsxs("div",{className:"not-found",children:[i.jsx("h2",{children:"404 - Page Not Found"}),i.jsx("p",{children:"The page you're looking for doesn't exist."})]})})]})})})}Nv.createRoot(document.getElementById("root")).render(i.jsx(be.StrictMode,{children:i.jsx(U5,{store:MT,children:i.jsx(Xoe,{})})}));
